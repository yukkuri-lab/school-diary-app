(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function o0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},fo={};var y_;function hb(){if(y_)return fo;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var __;function fb(){return __||(__=1,bd.exports=hb()),bd.exports}var B=fb(),Sd={exports:{}},Tt={};var v_;function db(){if(v_)return Tt;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(S){return S===null||typeof S!="object"?null:(S=M&&S[M]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,it={};function dt(S,U,K){this.props=S,this.context=U,this.refs=it,this.updater=K||et}dt.prototype.isReactComponent={},dt.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},dt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function St(){}St.prototype=dt.prototype;function _t(S,U,K){this.props=S,this.context=U,this.refs=it,this.updater=K||et}var qt=_t.prototype=new St;qt.constructor=_t,tt(qt,dt.prototype),qt.isPureReactComponent=!0;var le=Array.isArray;function Nt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(S,U,K){var W=K.ref;return{$$typeof:r,type:S,key:U,ref:W!==void 0?W:null,props:K}}function O(S,U){return N(S.type,U,S.props)}function x(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function k(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return U[K]})}var R=/\/+/g;function ne(S,U){return typeof S=="object"&&S!==null&&S.key!=null?k(""+S.key):U.toString(36)}function Qt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Nt,Nt):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function F(S,U,K,W,rt){var ut=typeof S;(ut==="undefined"||ut==="boolean")&&(S=null);var yt=!1;if(S===null)yt=!0;else switch(ut){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(S.$$typeof){case r:case t:yt=!0;break;case b:return yt=S._init,F(yt(S._payload),U,K,W,rt)}}if(yt)return rt=rt(S),yt=W===""?"."+ne(S,0):W,le(rt)?(K="",yt!=null&&(K=yt.replace(R,"$&/")+"/"),F(rt,U,K,"",function(Kt){return Kt})):rt!=null&&(x(rt)&&(rt=O(rt,K+(rt.key==null||S&&S.key===rt.key?"":(""+rt.key).replace(R,"$&/")+"/")+yt)),U.push(rt)),1;yt=0;var Dt=W===""?".":W+":";if(le(S))for(var Lt=0;Lt<S.length;Lt++)W=S[Lt],ut=Dt+ne(W,Lt),yt+=F(W,U,K,ut,rt);else if(Lt=G(S),typeof Lt=="function")for(S=Lt.call(S),Lt=0;!(W=S.next()).done;)W=W.value,ut=Dt+ne(W,Lt++),yt+=F(W,U,K,ut,rt);else if(ut==="object"){if(typeof S.then=="function")return F(Qt(S),U,K,W,rt);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return yt}function st(S,U,K){if(S==null)return S;var W=[],rt=0;return F(S,W,"","",function(ut){return U.call(K,ut,rt++)}),W}function ht(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var xt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},X={map:st,forEach:function(S,U,K){st(S,function(){U.apply(this,arguments)},K)},count:function(S){var U=0;return st(S,function(){U++}),U},toArray:function(S){return st(S,function(U){return U})||[]},only:function(S){if(!x(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=w,Tt.Children=X,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=_t,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,U,K){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=tt({},S.props),rt=S.key;if(U!=null)for(ut in U.key!==void 0&&(rt=""+U.key),U)!A.call(U,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&U.ref===void 0||(W[ut]=U[ut]);var ut=arguments.length-2;if(ut===1)W.children=K;else if(1<ut){for(var yt=Array(ut),Dt=0;Dt<ut;Dt++)yt[Dt]=arguments[Dt+2];W.children=yt}return N(S.type,rt,W)},Tt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Tt.createElement=function(S,U,K){var W,rt={},ut=null;if(U!=null)for(W in U.key!==void 0&&(ut=""+U.key),U)A.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(rt[W]=U[W]);var yt=arguments.length-2;if(yt===1)rt.children=K;else if(1<yt){for(var Dt=Array(yt),Lt=0;Lt<yt;Lt++)Dt[Lt]=arguments[Lt+2];rt.children=Dt}if(S&&S.defaultProps)for(W in yt=S.defaultProps,yt)rt[W]===void 0&&(rt[W]=yt[W]);return N(S,ut,rt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:p,render:S}},Tt.isValidElement=x,Tt.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:ht}},Tt.memo=function(S,U){return{$$typeof:_,type:S,compare:U===void 0?null:U}},Tt.startTransition=function(S){var U=I.T,K={};I.T=K;try{var W=S(),rt=I.S;rt!==null&&rt(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Nt,xt)}catch(ut){xt(ut)}finally{U!==null&&K.types!==null&&(U.types=K.types),I.T=U}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(S){return I.H.use(S)},Tt.useActionState=function(S,U,K){return I.H.useActionState(S,U,K)},Tt.useCallback=function(S,U){return I.H.useCallback(S,U)},Tt.useContext=function(S){return I.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,U){return I.H.useDeferredValue(S,U)},Tt.useEffect=function(S,U){return I.H.useEffect(S,U)},Tt.useEffectEvent=function(S){return I.H.useEffectEvent(S)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(S,U,K){return I.H.useImperativeHandle(S,U,K)},Tt.useInsertionEffect=function(S,U){return I.H.useInsertionEffect(S,U)},Tt.useLayoutEffect=function(S,U){return I.H.useLayoutEffect(S,U)},Tt.useMemo=function(S,U){return I.H.useMemo(S,U)},Tt.useOptimistic=function(S,U){return I.H.useOptimistic(S,U)},Tt.useReducer=function(S,U,K){return I.H.useReducer(S,U,K)},Tt.useRef=function(S){return I.H.useRef(S)},Tt.useState=function(S){return I.H.useState(S)},Tt.useSyncExternalStore=function(S,U,K){return I.H.useSyncExternalStore(S,U,K)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.4",Tt}var E_;function fm(){return E_||(E_=1,Sd.exports=db()),Sd.exports}var de=fm();const mb=o0(de);var Ad={exports:{}},mo={},wd={exports:{}},Rd={};var T_;function gb(){return T_||(T_=1,(function(r){function t(F,st){var ht=F.length;F.push(st);t:for(;0<ht;){var xt=ht-1>>>1,X=F[xt];if(0<o(X,st))F[xt]=st,F[ht]=X,ht=xt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var st=F[0],ht=F.pop();if(ht!==st){F[0]=ht;t:for(var xt=0,X=F.length,S=X>>>1;xt<S;){var U=2*(xt+1)-1,K=F[U],W=U+1,rt=F[W];if(0>o(K,ht))W<X&&0>o(rt,K)?(F[xt]=rt,F[W]=ht,xt=W):(F[xt]=K,F[U]=ht,xt=U);else if(W<X&&0>o(rt,ht))F[xt]=rt,F[W]=ht,xt=W;else break t}}return st}function o(F,st){var ht=F.sortIndex-st.sortIndex;return ht!==0?ht:F.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,w=null,M=3,G=!1,et=!1,tt=!1,it=!1,dt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var st=i(_);st!==null;){if(st.callback===null)a(_);else if(st.startTime<=F)a(_),st.sortIndex=st.expirationTime,t(v,st);else break;st=i(_)}}function le(F){if(tt=!1,qt(F),!et)if(i(v)!==null)et=!0,Nt||(Nt=!0,k());else{var st=i(_);st!==null&&Qt(le,st.startTime-F)}}var Nt=!1,I=-1,A=5,N=-1;function O(){return it?!0:!(r.unstable_now()-N<A)}function x(){if(it=!1,Nt){var F=r.unstable_now();N=F;var st=!0;try{t:{et=!1,tt&&(tt=!1,St(I),I=-1),G=!0;var ht=M;try{e:{for(qt(F),w=i(v);w!==null&&!(w.expirationTime>F&&O());){var xt=w.callback;if(typeof xt=="function"){w.callback=null,M=w.priorityLevel;var X=xt(w.expirationTime<=F);if(F=r.unstable_now(),typeof X=="function"){w.callback=X,qt(F),st=!0;break e}w===i(v)&&a(v),qt(F)}else a(v);w=i(v)}if(w!==null)st=!0;else{var S=i(_);S!==null&&Qt(le,S.startTime-F),st=!1}}break t}finally{w=null,M=ht,G=!1}st=void 0}}finally{st?k():Nt=!1}}}var k;if(typeof _t=="function")k=function(){_t(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=x,k=function(){ne.postMessage(null)}}else k=function(){dt(x,0)};function Qt(F,st){I=dt(function(){F(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var ht=M;M=st;try{return F()}finally{M=ht}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=M;M=F;try{return st()}finally{M=ht}},r.unstable_scheduleCallback=function(F,st,ht){var xt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ht+X,F={id:b++,callback:st,priorityLevel:F,startTime:ht,expirationTime:X,sortIndex:-1},ht>xt?(F.sortIndex=ht,t(_,F),i(v)===null&&F===i(_)&&(tt?(St(I),I=-1):tt=!0,Qt(le,ht-xt))):(F.sortIndex=X,t(v,F),et||G||(et=!0,Nt||(Nt=!0,k()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var st=M;return function(){var ht=M;M=st;try{return F.apply(this,arguments)}finally{M=ht}}}})(Rd)),Rd}var b_;function pb(){return b_||(b_=1,wd.exports=gb()),wd.exports}var Cd={exports:{}},Ze={};var S_;function yb(){if(S_)return Ze;S_=1;var r=fm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,b)},Ze.flushSync=function(v){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=b,a.d.f()}},Ze.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ze.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ze.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ze.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ze.requestFormReset=function(v){a.d.r(v)},Ze.unstable_batchedUpdates=function(v,_){return v(_)},Ze.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.4",Ze}var A_;function _b(){if(A_)return Cd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=yb(),Cd.exports}var w_;function vb(){if(w_)return mo;w_=1;var r=pb(),t=fm(),i=_b();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case dt:return"Profiler";case it:return"StrictMode";case le:return"Suspense";case Nt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case _t:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Qt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],X=-1;function S(e){return{current:e}}function U(e){0>X||(e.current=xt[X],xt[X]=null,X--)}function K(e,n){X++,xt[X]=e.current,e.current=n}var W=S(null),rt=S(null),ut=S(null),yt=S(null);function Dt(e,n){switch(K(ut,n),K(rt,e),K(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),K(W,e)}function Lt(){U(W),U(rt),U(ut)}function Kt(e){e.memoizedState!==null&&K(yt,e);var n=W.current,s=By(n,e.type);n!==s&&(K(rt,e),K(W,s))}function Be(e){rt.current===e&&(U(W),U(rt)),yt.current===e&&(U(yt),oo._currentValue=ht)}var ki,Ui;function pn(e){if(ki===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ki=n&&n[1]||"",Ui=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+e+Ui}var ri=!1;function yn(e,n){if(!e||ri)return"";ri=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){j=H}e.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ri=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?pn(s):""}function ln(e,n){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==n&&n!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return yn(e.type,!1);case 11:return yn(e.type.render,!1);case 1:return yn(e.type,!0);case 31:return pn("Activity");default:return""}}function cl(e){try{var n="",s=null;do n+=ln(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,Sh=r.unstable_shouldYield,Fo=r.unstable_requestPaint,sn=r.unstable_now,cr=r.unstable_getCurrentPriorityLevel,hl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,fs=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Ko=r.log,Yo=r.unstable_setDisableYieldValue,Hn=null,qe=null;function In(e){if(typeof Ko=="function"&&Yo(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hn,e)}catch{}}var me=Math.clz32?Math.clz32:$o,Xo=Math.log,Wr=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Xo(e)/Wr|0)|0}var ai=256,hr=262144,Ee=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=li(l):(g&=E,g!==0?h=li(g):s||(s=E&~e,s!==0&&(h=li(s))))):(E=l&~f,E!==0?h=li(E):g!==0?h=li(g):s||(s=l&~e,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ui(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-me(s),$=1<<Q;E[Q]=0,C[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~$}l!==0&&dr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-me(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-me(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ml(e,n){var s=n&-n;return s=(s&42)!==0?1:mr(s),(s&(e.suspendedLanes|n))!==0?0:s}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zo(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Fn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Qn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Qn,Ve="__reactProps$"+Qn,ci="__reactContainer$"+Qn,ta="__reactEvents$"+Qn,Ch="__reactListeners$"+Qn,Wo="__reactHandles$"+Qn,tu="__reactResources$"+Qn,hi="__reactMarker$"+Qn;function ea(e){delete e[Te],delete e[Ve],delete e[ta],delete e[Ch],delete e[Wo]}function fi(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ci]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[Te])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[Te]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function di(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[hi]=!0}var gl=new Set,pl={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(pl[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function eu(e){return ve.call(vl,e)?!0:ve.call(_l,e)?!1:yl.test(e)?vl[e]=!0:(_l[e]=!0,!1)}function na(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=El(e,n,""+e[n])}}function gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ds(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function on(e){return e.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,g,ke(n)):s!=null?Tl(e,g,ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Tl(e,n,s){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ms(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function gs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Qt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&bl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&bl(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Al=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,yi=null;function yr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&gr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ms(e,!!s.multiple,n,!1)}}}var aa=!1;function _s(e,n,s){if(aa)return e(n,s);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(ys!==null||yi!==null)&&(Zu(),ys&&(n=ys,e=yi,yi=ys=null,yr(n),e)))for(n=0;n<e.length;n++)yr(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Dn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{_r=!1}var _i=null,wl=null,vr=null;function Rl(){if(vr)return vr;var e,n=wl,s=n.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return vr=h.slice(e,1<l?1-l:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Xn(){return!1}function He(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Xn,this.isPropagationStopped=Xn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(zi),vs=w({},zi,{view:0,detail:0}),Cl=He(vs),Es,la,Ei,oa=w({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Es=e.screenX-Ei.screenX,la=e.screenY-Ei.screenY):la=Es=0,Ei=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Il=He(oa),Tr=w({},oa,{dataTransfer:0}),au=He(Tr),lu=w({},vs,{relatedTarget:0}),br=He(lu),Nl=w({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=He(Nl),ua=w({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=He(ua),cu=w({},zi,{data:0}),Ti=He(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function Ts(){return mu}var rn=w({},vs,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=He(rn),pu=w({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=He(pu),u=w({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=He(u),y=w({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(y),L=w({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(L),nt=w({},zi,{newState:0,oldState:0}),At=He(nt),ge=[9,13,27,32],Ht=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,bi=Dn&&(!Ht||oe&&8<oe&&11>=oe),$n=" ",Jn=!1;function Sr(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function kT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Jn=!0,$n);case"textInput":return e=n.data,e===$n&&Jn?null:e;default:return null}}function UT(e,n){if(ha)return e==="compositionend"||!Ht&&Sr(e,n)?(e=Rl(),vr=wl=_i=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!LT[e.type]:n==="textarea"}function Zm(e,n,s,l){ys?yi?yi.push(l):yi=[l]:ys=l,n=rc(n,"onChange"),0<n.length&&(s=new vi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var xl=null,Dl=null;function PT(e){Vy(e,0)}function yu(e){var n=_n(e);if(gr(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Dn){var Ih;if(Dn){var Nh="oninput"in document;if(!Nh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),Nh=typeof eg.oninput=="function"}Ih=Nh}else Ih=!1;tg=Ih&&(!document.documentMode||9<document.documentMode)}function ng(){xl&&(xl.detachEvent("onpropertychange",ig),Dl=xl=null)}function ig(e){if(e.propertyName==="value"&&yu(Dl)){var n=[];Zm(n,Dl,e,xn(e)),_s(PT,n)}}function zT(e,n,s){e==="focusin"?(ng(),xl=n,Dl=s,xl.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Dl)}function BT(e,n){if(e==="click")return yu(n)}function qT(e,n){if(e==="input"||e==="change")return yu(n)}function HT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:HT;function Ol(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ve.call(n,h)||!En(e[h],n[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=sg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=pi(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var GT=Dn&&"documentMode"in document&&11>=document.documentMode,fa=null,Dh=null,Ml=null,Oh=!1;function og(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||fa==null||fa!==pi(l)||(l=fa,"selectionStart"in l&&xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Ol(Ml,l)||(Ml=l,l=rc(Dh,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fa)))}function Ar(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Mh={},ug={};Dn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function wr(e){if(Mh[e])return Mh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Mh[e]=n[s];return e}var cg=wr("animationend"),hg=wr("animationiteration"),fg=wr("animationstart"),FT=wr("transitionrun"),QT=wr("transitionstart"),KT=wr("transitioncancel"),dg=wr("transitionend"),mg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Zn(e,n){mg.set(e,n),mi(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],ma=0,kh=0;function vu(){for(var e=ma,n=kh=ma=0;n<e;){var s=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&gg(s,h,f)}}function Eu(e,n,s,l){Mn[ma++]=e,Mn[ma++]=n,Mn[ma++]=s,Mn[ma++]=l,kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Uh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Rr(e,n){return Eu(e,null,null,n),Tu(e)}function gg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<eo)throw eo=0,Qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function YT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,l){return new YT(e,n,s,l)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Lh(e)&&(g=1);else if(typeof e=="string")g=W1(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=Tn(31,s,n,h),e.elementType=N,e.lanes=f,e;case tt:return Cr(s.children,h,f,n);case it:g=8,h|=24;break;case dt:return e=Tn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case le:return e=Tn(13,s,n,h),e.elementType=le,e.lanes=f,e;case Nt:return e=Tn(19,s,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case St:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Tn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Cr(e,n,s,l){return e=Tn(7,e,l,n),e.lanes=s,e}function Ph(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function yg(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function zh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:cl(n)},_g.set(e,n),n)}return{value:e,source:n,stack:cl(n)}}var pa=[],ya=0,Su=null,Vl=0,kn=[],Un=0,bs=null,Si=1,Ai="";function qi(e,n){pa[ya++]=Vl,pa[ya++]=Su,Su=e,Vl=n}function vg(e,n,s){kn[Un++]=Si,kn[Un++]=Ai,kn[Un++]=bs,bs=e;var l=Si;e=Ai;var h=32-me(l)-1;l&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Si=1<<32-me(n)+h|s<<h|l,Ai=f+e}else Si=1<<f|s<<h|l,Ai=e}function jh(e){e.return!==null&&(qi(e,1),vg(e,1,0))}function Bh(e){for(;e===Su;)Su=pa[--ya],pa[ya]=null,Vl=pa[--ya],pa[ya]=null;for(;e===bs;)bs=kn[--Un],kn[Un]=null,Ai=kn[--Un],kn[Un]=null,Si=kn[--Un],kn[Un]=null}function Eg(e,n){kn[Un++]=Si,kn[Un++]=Ai,kn[Un++]=bs,Si=n.id,Ai=n.overflow,bs=e}var Ge=null,ie=null,Pt=!1,Ss=null,Ln=!1,qh=Error(a(519));function As(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Vn(n,e)),qh}function Tg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Te]=e,n[Ve]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)It(io[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),gs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Py(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||As(e,!0)}function bg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ge=Ge.return}}function _a(e){if(e!==Ge)return!1;if(!Pt)return bg(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&ie&&As(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Ky(e)}else n===27?(n=ie,Ps(e.type)?(e=fd,fd=null,ie=e):ie=n):ie=Ge?zn(e.stateNode.nextSibling):null;return!0}function Ir(){ie=Ge=null,Pt=!1}function Hh(){var e=Ss;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ss=null),e}function kl(e){Ss===null?Ss=[e]:Ss.push(e)}var Gh=S(null),Nr=null,Hi=null;function ws(e,n,s){K(Gh,n._currentValue),n._currentValue=s}function Gi(e){e._currentValue=Gh.current,U(Gh)}function Fh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Qh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Fh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Fh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===yt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}h=h.return}e!==null&&Qh(n,e,s,l),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Nr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Sg(Nr,e)}function wu(e,n){return Nr===null&&xr(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Hi===null){if(e===null)throw Error(a(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return s}var XT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$T=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,Ae={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new XT,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&$T(JT,function(){e.controller.abort()})}var Ll=null,Yh=0,Ea=0,Ta=null;function ZT(e,n){if(Ll===null){var s=Ll=[];Yh=0,Ea=Zf(),Ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yh++,n.then(Ag,Ag),n}function Ag(){if(--Yh===0&&Ll!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ll;Ll=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function WT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var wg=F.S;F.S=function(e,n){oy=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZT(e,n),wg!==null&&wg(e,n)};var Dr=S(null);function Xh(){var e=Dr.current;return e!==null?e:ee.pooledCache}function Ru(e,n){n===null?K(Dr,Dr.current):K(Dr,n.pool)}function Rg(){var e=Xh();return e===null?null:{parent:Ae._currentValue,pool:e}}var ba=Error(a(460)),$h=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e}throw Mr=n,ba}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mr=s,ba):s}}var Mr=null;function Ng(){if(Mr===null)throw Error(a(459));var e=Mr;return Mr=null,e}function xg(e){if(e===ba||e===Cu)throw Error(a(483))}var Sa=null,Pl=0;function Nu(e){var n=Pl;return Pl+=1,Sa===null&&(Sa=[]),Ig(Sa,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Bi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,Y){return D===null||D.tag!==6?(D=Ph(P,V.mode,Y),D.return=V,D):(D=h(D,P),D.return=V,D)}function C(V,D,P,Y){var ft=P.type;return ft===tt?Q(V,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Or(ft)===D.type)?(D=h(D,P.props),zl(D,P),D.return=V,D):(D=bu(P.type,P.key,P.props,null,V.mode,Y),zl(D,P),D.return=V,D)}function z(V,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=zh(P,V.mode,Y),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function Q(V,D,P,Y,ft){return D===null||D.tag!==7?(D=Cr(P,V.mode,Y,ft),D.return=V,D):(D=h(D,P),D.return=V,D)}function $(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ph(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=bu(D.type,D.key,D.props,null,V.mode,P),zl(P,D),P.return=V,P;case et:return D=zh(D,V.mode,P),D.return=V,D;case A:return D=Or(D),$(V,D,P)}if(Qt(D)||k(D))return D=Cr(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return $(V,Nu(D),P);if(D.$$typeof===_t)return $(V,wu(V,D),P);xu(V,D)}return null}function j(V,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ft?C(V,D,P,Y):null;case et:return P.key===ft?z(V,D,P,Y):null;case A:return P=Or(P),j(V,D,P,Y)}if(Qt(P)||k(P))return ft!==null?null:Q(V,D,P,Y,null);if(typeof P.then=="function")return j(V,D,Nu(P),Y);if(P.$$typeof===_t)return j(V,D,wu(V,P),Y);xu(V,P)}return null}function H(V,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,E(D,V,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return V=V.get(Y.key===null?P:Y.key)||null,C(D,V,Y,ft);case et:return V=V.get(Y.key===null?P:Y.key)||null,z(D,V,Y,ft);case A:return Y=Or(Y),H(V,D,P,Y,ft)}if(Qt(Y)||k(Y))return V=V.get(P)||null,Q(D,V,Y,ft,null);if(typeof Y.then=="function")return H(V,D,P,Nu(Y),ft);if(Y.$$typeof===_t)return H(V,D,P,wu(D,Y),ft);xu(D,Y)}return null}function lt(V,D,P,Y){for(var ft=null,jt=null,ot=D,Rt=D=0,Mt=null;ot!==null&&Rt<P.length;Rt++){ot.index>Rt?(Mt=ot,ot=null):Mt=ot.sibling;var Bt=j(V,ot,P[Rt],Y);if(Bt===null){ot===null&&(ot=Mt);break}e&&ot&&Bt.alternate===null&&n(V,ot),D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ot=Mt}if(Rt===P.length)return s(V,ot),Pt&&qi(V,Rt),ft;if(ot===null){for(;Rt<P.length;Rt++)ot=$(V,P[Rt],Y),ot!==null&&(D=f(ot,D,Rt),jt===null?ft=ot:jt.sibling=ot,jt=ot);return Pt&&qi(V,Rt),ft}for(ot=l(ot);Rt<P.length;Rt++)Mt=H(ot,V,Rt,P[Rt],Y),Mt!==null&&(e&&Mt.alternate!==null&&ot.delete(Mt.key===null?Rt:Mt.key),D=f(Mt,D,Rt),jt===null?ft=Mt:jt.sibling=Mt,jt=Mt);return e&&ot.forEach(function(Hs){return n(V,Hs)}),Pt&&qi(V,Rt),ft}function gt(V,D,P,Y){if(P==null)throw Error(a(151));for(var ft=null,jt=null,ot=D,Rt=D=0,Mt=null,Bt=P.next();ot!==null&&!Bt.done;Rt++,Bt=P.next()){ot.index>Rt?(Mt=ot,ot=null):Mt=ot.sibling;var Hs=j(V,ot,Bt.value,Y);if(Hs===null){ot===null&&(ot=Mt);break}e&&ot&&Hs.alternate===null&&n(V,ot),D=f(Hs,D,Rt),jt===null?ft=Hs:jt.sibling=Hs,jt=Hs,ot=Mt}if(Bt.done)return s(V,ot),Pt&&qi(V,Rt),ft;if(ot===null){for(;!Bt.done;Rt++,Bt=P.next())Bt=$(V,Bt.value,Y),Bt!==null&&(D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return Pt&&qi(V,Rt),ft}for(ot=l(ot);!Bt.done;Rt++,Bt=P.next())Bt=H(ot,V,Rt,Bt.value,Y),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?Rt:Bt.key),D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(cb){return n(V,cb)}),Pt&&qi(V,Rt),ft}function te(V,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===tt){if(D.tag===7){s(V,D.sibling),Y=h(D,P.props.children),Y.return=V,V=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Or(ft)===D.type){s(V,D.sibling),Y=h(D,P.props),zl(Y,P),Y.return=V,V=Y;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===tt?(Y=Cr(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=bu(P.type,P.key,P.props,null,V.mode,Y),zl(Y,P),Y.return=V,V=Y)}return g(V);case et:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),Y=h(D,P.children||[]),Y.return=V,V=Y;break t}else{s(V,D);break}else n(V,D);D=D.sibling}Y=zh(P,V.mode,Y),Y.return=V,V=Y}return g(V);case A:return P=Or(P),te(V,D,P,Y)}if(Qt(P))return lt(V,D,P,Y);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),gt(V,D,P,Y)}if(typeof P.then=="function")return te(V,D,Nu(P),Y);if(P.$$typeof===_t)return te(V,D,wu(V,P),Y);xu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),Y=h(D,P),Y.return=V,V=Y):(s(V,D),Y=Ph(P,V.mode,Y),Y.return=V,V=Y),g(V)):s(V,D)}return function(V,D,P,Y){try{Pl=0;var ft=te(V,D,P,Y);return Sa=null,ft}catch(ot){if(ot===ba||ot===Cu)throw ot;var jt=Tn(29,ot,null,V.mode);return jt.lanes=Y,jt.return=V,jt}}}var Vr=Dg(!0),Og=Dg(!1),Rs=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),gg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}function Wh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var tf=!1;function Bl(){if(tf){var e=Ta;if(e!==null)throw e}}function ql(e,n,s,l){tf=!1;var h=e.updateQueue;Rs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,Q=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Ot&j)===j:(l&j)===j){j!==0&&j===Ea&&(tf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,gt=E;j=n;var te=s;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){$=lt.call(te,$,j);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,j=typeof lt=="function"?lt.call(te,$,j):lt,j==null)break t;$=w({},$,j);break t;case 2:Rs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,C=$):Q=Q.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ms|=g,e.lanes=g,e.memoizedState=$}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var Aa=S(null),Du=S(0);function kg(e,n){e=Wi,K(Du,e),K(Aa,n),Wi=e|n.baseLanes}function ef(){K(Du,Wi),K(Aa,Aa.current)}function nf(){Wi=Du.current,U(Aa),U(Du)}var bn=S(null),Pn=null;function Ns(e){var n=e.alternate;K(pe,pe.current&1),K(bn,e),Pn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Pn=e)}function sf(e){K(pe,pe.current),K(bn,e),Pn===null&&(Pn=e)}function Ug(e){e.tag===22?(K(pe,pe.current),K(bn,e),Pn===null&&(Pn=e)):xs()}function xs(){K(pe,pe.current),K(bn,bn.current)}function Sn(e){U(bn),Pn===e&&(Pn=null),U(pe)}var pe=S(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,wt=null,Zt=null,we=null,Mu=!1,wa=!1,kr=!1,Vu=0,Hl=0,Ra=null,t1=0;function he(){throw Error(a(321))}function rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function af(e,n,s,l,h,f){return Fi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?vp:Tf,kr=!1,f=s(l,h),kr=!1,wa&&(f=Pg(n,s,l,h)),Lg(e),f}function Lg(e){F.H=Ql;var n=Zt!==null&&Zt.next!==null;if(Fi=0,we=Zt=wt=null,Mu=!1,Hl=0,Ra=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Au(e)&&(Re=!0))}function Pg(e,n,s,l){wt=e;var h=0;do{if(wa&&(Ra=null),Hl=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,we=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ep,f=n(s,l)}while(wa);return f}function e1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(wt.flags|=1024),n}function lf(){var e=Vu!==0;return Vu=0,e}function of(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function uf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Fi=0,we=Zt=wt=null,wa=!1,Hl=Vu=0,Ra=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?wt.memoizedState=we=e:we=we.next=e,we}function ye(){if(Zt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=we===null?wt.memoizedState:we.next;if(n!==null)we=n,Zt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},we===null?wt.memoizedState=we=e:we=we.next=e}return we}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,Ra===null&&(Ra=[]),e=Ig(Ra,e,n),n=wt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?vp:Tf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===_t)return Fe(e)}throw Error(a(438,String(e)))}function cf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Qi(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=ye();return hf(n,Zt,e)}function hf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ot&$)===$:(Fi&$)===$){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ea&&(Q=!0);else if((Fi&j)===j){z=z.next,j===Ea&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,wt.lanes|=j,Ms|=j;$=z.action,kr&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,wt.lanes|=$,Ms|=$;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!En(f,e.memoizedState)&&(Re=!0,Q&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ff(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function zg(e,n,s){var l=wt,h=ye(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,Re=!0),h=h.queue,gf(qg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},Bg.bind(null,l,h,s,n),null),ee===null)throw Error(a(349));f||(Fi&127)!==0||jg(l,n,s)}return s}function jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=ku(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Bg(e,n,s,l){n.value=s,n.getSnapshot=l,Hg(n)&&Gg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Gg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function Gg(e){var n=Rr(e,2);n!==null&&mn(n,e,2)}function df(e){var n=an();if(typeof e=="function"){var s=e;if(e=s(),kr){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function Fg(e,n,s,l){return e.baseState=s,hf(e,Zt,typeof l=="function"?l:Qi)}function n1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,l),C=F.S;C!==null&&C(g,E),Kg(e,n,E)}catch(z){mf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,l),Kg(e,n,f)}catch(z){mf(e,n,z)}}function Kg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Yg(e,n,l)},function(l){return mf(e,n,l)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function mf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==l)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(Pt){var s=ee.formState;if(s!==null){t:{var l=wt;if(Pt){if(ie){e:{for(var h=ie,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=zn(h.nextSibling),l=h.data==="F!";break t}}As(l)}l=!1}l&&(n=s[0])}}return s=an(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=l,s=pp.bind(null,wt,l),l.dispatch=s,l=df(!1),f=Ef.bind(null,wt,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=n1.bind(null,wt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Zg(e){var n=ye();return Wg(n,Zt,e)}function Wg(e,n,s){if(n=hf(e,n,$g)[0],e=Lu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(g){throw g===ba?Cu:g}else l=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ca(9,{destroy:void 0},i1.bind(null,h,s),null)),[l,f,e]}function i1(e,n){e.action=n}function tp(e){var n=ye(),s=Zt;if(s!==null)return Wg(n,s,e);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ca(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ku(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function ep(){return ye().memoizedState}function Pu(e,n,s,l){var h=an();wt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Zt!==null&&l!==null&&rf(l,Zt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,l):(wt.flags|=e,h.memoizedState=Ca(1|n,f,s,l))}function np(e,n){Pu(8390656,8,e,n)}function gf(e,n){zu(2048,8,e,n)}function s1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ku(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=ye().memoizedState;return s1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return zu(4,2,e,n)}function rp(e,n){return zu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,ap.bind(null,n,e),s)}function pf(){}function op(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&rf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&rf(n,l[1]))return l[0];if(l=e(),kr){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l}function yf(e,n,s){return s===void 0||(Fi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),wt.lanes|=e,Ms|=e,s)}function cp(e,n,s,l){return En(s,n)?s:Aa.current!==null?(e=yf(e,s,l),En(e,n)||(Re=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Ot&261930)===0?(Re=!0,e.memoizedState=s):(e=cy(),wt.lanes|=e,Ms|=e,n)}function hp(e,n,s,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Ef(e,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=WT(C,l);Fl(e,n,Q,Rn(e))}else Fl(e,n,l,Rn(e))}catch($){Fl(e,n,{then:function(){},status:"rejected",reason:$},Rn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function r1(){}function _f(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,ht,s===null?r1:function(){return dp(e),s(l)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},Rn())}function vf(){return Fe(oo)}function mp(){return ye().memoizedState}function gp(){return ye().memoizedState}function a1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Cs(s);var l=Is(n,e,s);l!==null&&(mn(l,n,s),jl(l,n,s)),n={cache:Kh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var l=Rn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?yp(n,s):(s=Uh(e,n,s,l),s!==null&&(mn(s,e,l),_p(s,n,l)))}function pp(e,n,s){var l=Rn();Fl(e,n,s,l)}function Fl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,g))return Eu(e,n,h,0),ee===null&&vu(),!1}catch{}if(s=Uh(e,n,h,l),s!==null)return mn(s,e,l),_p(s,n,l),!0}return!1}function Ef(e,n,s,l){if(l={lane:2,revertLane:Zf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=Uh(e,s,l,2),n!==null&&mn(n,e,2)}function ju(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function yp(e,n){wa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}var Ql={readContext:Fe,use:Uu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Ql.useEffectEvent=he;var vp={readContext:Fe,use:Uu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=an();n=n===void 0?null:n;var l=e();if(kr){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=an();if(s!==void 0){var h=s(n);if(kr){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=l1.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=df(e);var n=e.queue,s=pp.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(e,n){var s=an();return yf(s,e,n)},useTransition:function(){var e=df(!1);return e=hp.bind(null,wt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=wt,h=an();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Ot&127)!==0||jg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,np(qg.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},Bg.bind(null,l,f,s,n),null),s},useId:function(){var e=an(),n=ee.identifierPrefix;if(Pt){var s=Ai,l=Si;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=t1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:cf,useCacheRefresh:function(){return an().memoizedState=a1.bind(null,wt)},useEffectEvent:function(e){var n=an(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:Fe,use:Uu,useCallback:op,useContext:Fe,useEffect:gf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:Lu,useRef:ep,useState:function(){return Lu(Qi)},useDebugValue:pf,useDeferredValue:function(e,n){var s=ye();return cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Lu(Qi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:vf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=ye();return Fg(s,Zt,e,n)},useMemoCache:cf,useCacheRefresh:gp};Tf.useEffectEvent=ip;var Ep={readContext:Fe,use:Uu,useCallback:op,useContext:Fe,useEffect:gf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:ff,useRef:ep,useState:function(){return ff(Qi)},useDebugValue:pf,useDeferredValue:function(e,n){var s=ye();return Zt===null?yf(s,e,n):cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=ff(Qi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:vf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=ye();return Zt!==null?Fg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:gp};Ep.useEffectEvent=ip;function bf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Sf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=Cs(l);h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(mn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=Cs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(mn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),l=Cs(s);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,s),n!==null&&(mn(n,e,s),jl(n,e,s))}};function Tp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(h,f):!0}function bp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Sf.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Sp(e){_u(e)}function Ap(e){console.error(e)}function wp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Cp(e){return e=Cs(e),e.tag=3,e}function Ip(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rp(n,s,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Wu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Xf(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Xf(e,l,h)),!1}throw Error(a(435,s.tag))}return Xf(e,l,h),Wu(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==qh&&(e=Error(a(422),{cause:l}),kl(Vn(e,s)))):(l!==qh&&(n=Error(a(423),{cause:l}),kl(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,s),h=Af(e.stateNode,l,h),Wh(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,s),to===null?to=[f]:to.push(f),fe!==4&&(fe=2),n===null)return!0;l=Vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Af(s.stateNode,l,e),Wh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Ip(h,e,s,l),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var wf=Error(a(461)),Re=!1;function Qe(e,n,s,l){n.child=e===null?Og(n,null,s,l):Vr(n,e.child,s,l)}function Np(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return xr(n),l=af(e,n,s,g,f,h),E=lf(),e!==null&&!Re?(of(e,n,h),Ki(e,n,h)):(Pt&&E&&jh(n),n.flags|=1,Qe(e,n,l,h),n.child)}function xp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Dp(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Mf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(g,l)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=Bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Dp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(Re=!1,n.pendingProps=l=f,Mf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return Rf(e,n,s,l,h)}function Op(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Mp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?kg(n,f):ef(),Ug(n);else return l=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),kg(n,f),xs(),n.memoizedState=null):(e!==null&&Ru(n,null),ef(),xs());return Qe(e,n,h,s),n.child}function Kl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,l,h){var f=Xh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),ef(),Ug(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,s){return Vr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function u1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Kl(null,e);if(sf(n),(e=ie)?(e=Qy(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Ge=n,ie=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||va(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(l=ee,l!==null&&(g=ml(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rr(e,g),mn(l,e,g),wf;Wu(),n=Vp(e,n,s)}else e=f.treeContext,ie=zn(g.nextSibling),Ge=n,Pt=!0,Ss=null,Ln=!1,e!==null&&Eg(n,e),n=qu(n,l),n.flags|=4096;return n}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Rf(e,n,s,l,h){return xr(n),s=af(e,n,s,l,void 0,h),l=lf(),e!==null&&!Re?(of(e,n,h),Ki(e,n,h)):(Pt&&l&&jh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function kp(e,n,s,l,h,f){return xr(n),n.updateQueue=null,s=Pg(n,l,s,h),Lg(e),l=lf(),e!==null&&!Re?(of(e,n,f),Ki(e,n,f)):(Pt&&l&&jh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function Up(e,n,s,l,h){if(xr(n),n.stateNode===null){var f=ga,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):ga,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(bf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Sf.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ur(s,E);f.props=C;var z=f.context,Q=s.contextType;g=ga,typeof Q=="object"&&Q!==null&&(g=Fe(Q));var $=s.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&bp(n,f,l,g),Rs=!1;var j=n.memoizedState;f.state=j,ql(n,l,f,h),Bl(),z=n.memoizedState,E||j!==z||Rs?(typeof $=="function"&&(bf(n,s,$,l),z=n.memoizedState),(C=Rs||Tp(n,s,C,l,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zh(e,n),g=n.memoizedProps,Q=Ur(s,g),f.props=Q,$=n.pendingProps,j=f.context,z=s.contextType,C=ga,typeof z=="object"&&z!==null&&(C=Fe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||j!==C)&&bp(n,f,l,C),Rs=!1,j=n.memoizedState,f.state=j,ql(n,l,f,h),Bl();var H=n.memoizedState;g!==$||j!==H||Rs||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(bf(n,s,E,l),H=n.memoizedState),(Q=Rs||Tp(n,s,Q,l,j,H,C)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function Lp(e,n,s,l){return Ir(),n.flags|=256,Qe(e,n,s,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:Rg()}}function Nf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function Pp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Ns(n):xs(),(e=ie)?(e=Qy(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Ge=n,ie=null)):e=null,e===null)throw As(n);return hd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(xs(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=Cr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=If(s),l.childLanes=Nf(e,g,s),n.memoizedState=Cf,Kl(null,l)):(Ns(n),xf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Df(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=Cr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Vr(n,e.child,null,s),l=n.child,l.memoizedState=If(s),l.childLanes=Nf(e,g,s),n.memoizedState=Cf,n=Kl(null,l));else if(Ns(n),hd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,kl({value:l,source:null,stack:null}),n=Df(e,n,s)}else if(Re||va(e,n,s,!1),g=(s&e.childLanes)!==0,Re||g){if(g=ee,g!==null&&(l=ml(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Rr(e,l),mn(g,e,l),wf;cd(E)||Wu(),n=Df(e,n,s)}else cd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ie=zn(E.nextSibling),Ge=n,Pt=!0,Ss=null,Ln=!1,e!==null&&Eg(n,e),n=xf(n,l.children),n.flags|=4096);return n}return h?(xs(),E=l.fallback,h=n.mode,C=e.child,z=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Bi(z,E):(E=Cr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Kl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=If(s):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Rg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Nf(e,g,s),n.memoizedState=Cf,Kl(e.child,l)):(Ns(n),s=e.child,e=s.sibling,s=Bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function Df(e,n,s){return Vr(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fh(e.return,n,s)}function Of(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function jp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,K(pe,g),Qe(e,n,l,s),l=Pt?Vl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Of(n,!0,s,null,f,l);break;case"together":Of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ki(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Bi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Bi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function c1(e,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),ws(n,Ae,e.memoizedState.cache),Ir();break;case 27:case 5:Kt(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(Ns(n),e=Ki(e,n,s),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(va(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Op(e,n,s,n.pendingProps);case 24:ws(n,Ae,e.memoizedState.cache)}return Ki(e,n,s)}function Bp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Mf(e,s)&&(n.flags&128)===0)return Re=!1,c1(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,Pt&&(n.flags&1048576)!==0&&vg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Lh(e)?(l=Ur(e,l),n.tag=1,n=Up(null,n,e,l,s)):(n.tag=0,n=Rf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Np(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=xp(null,n,e,l,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Rf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Ur(l,n.pendingProps),Up(e,n,l,h,s);case 3:t:{if(Dt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),ql(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ws(n,Ae,l),l!==f.cache&&Qh(n,[Ae],s,!0),Bl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,l,s);break t}else if(l!==h){h=Vn(Error(a(424)),n),kl(h),n=Lp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=zn(e.firstChild),Ge=n,Pt=!0,Ss=null,Ln=!0,s=Og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),l===h){n=Ki(e,n,s);break t}Qe(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,l=ac(ut.current).createElement(s),l[Te]=n,l[Ve]=e,Ke(l,s,e),be(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Kt(n),e===null&&Pt&&(l=n.stateNode=Xy(n.type,n.pendingProps,ut.current),Ge=n,Ln=!0,h=ie,Ps(n.type)?(fd=h,ie=zn(l.firstChild)):ie=h),Qe(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=l=ie)&&(l=j1(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ge=n,ie=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||As(n)),Kt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,ld(h,f)?l=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,e1,null,null,s),oo._currentValue=h),Hu(e,n),Qe(e,n,l,s),n.child;case 6:return e===null&&Pt&&((e=s=ie)&&(s=B1(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Ge=n,ie=null,e=!0):e=!1),e||As(n)),null;case 13:return Pp(e,n,s);case 4:return Dt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vr(n,null,l,s):Qe(e,n,l,s),n.child;case 11:return Np(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ws(n,n.type,l.value),Qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=Fe(h),l=l(h),n.flags|=1,Qe(e,n,l,s),n.child;case 14:return xp(e,n,n.type,n.pendingProps,s);case 15:return Dp(e,n,n.type,n.pendingProps,s);case 19:return jp(e,n,s);case 31:return u1(e,n,s);case 22:return Op(e,n,s,n.pendingProps);case 24:return xr(n),l=Fe(Ae),e===null?(h=Xh(),h===null&&(h=ee,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Jh(n),ws(n,Ae,h)):((e.lanes&s)!==0&&(Zh(e,n),ql(n,null,null,s),Bl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,Ae,l)):(l=f.cache,ws(n,Ae,l),l!==h.cache&&Qh(n,[Ae],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yi(e){e.flags|=4}function Vf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw Mr=Iu,$h}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw Mr=Iu,$h}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Da|=n)}function Yl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function h1(e,n,s){var l=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(Ae),Lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(se(n),qp(n,f)):(se(n),Vf(n,h,null,l,s))):f?f!==e.memoizedState?(Yi(n),se(n),qp(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Yi(n),se(n),Vf(n,h,e,l,s)),null;case 27:if(Be(n),s=ut.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=W.current,_a(n)?Tg(n):(e=Xy(h,l,s),n.stateNode=e,Yi(n))}return se(n),null;case 5:if(Be(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=W.current,_a(n))Tg(n);else{var g=ac(ut.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Te]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Yi(n)}}return se(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ut.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||As(n,!0)}else e=ac(e).createTextNode(l),e[Te]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Hh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Hh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),se(n),null);case 4:return Lt(),e===null&&nd(n.stateNode.containerInfo),se(n),null;case 10:return Gi(n.type),se(n),null;case 19:if(U(pe),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return K(pe,pe.current&1|2),Pt&&qi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&sn()>$u&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return se(n),null}else 2*sn()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=sn(),e.sibling=null,s=pe.current,K(pe,h?s&1|2:s&1),Pt&&qi(n,l.treeForkCount),e):(se(n),null);case 22:case 23:return Sn(n),nf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&U(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Gi(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function f1(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(Ae),Lt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Be(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(pe),null;case 4:return Lt(),null;case 10:return Gi(n.type),null;case 22:case 23:return Sn(n),nf(),e!==null&&U(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(Ae),null;case 25:return null;default:return null}}function Hp(e,n){switch(Bh(n),n.tag){case 3:Gi(Ae),Lt();break;case 26:case 27:case 5:Be(n);break;case 4:Lt();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:U(pe);break;case 10:Gi(n.type);break;case 22:case 23:Sn(n),nf(),e!==null&&U(Dr);break;case 24:Gi(Ae)}}function Xl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Ds(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(Q){$t(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){$t(n,n.return,Q)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Vg(n,s)}catch(l){$t(e,e.return,l)}}}function Fp(e,n,s){s.props=Ur(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){$t(e,n,l)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){$t(e,n,h)}}function wi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function kf(e,n,s){try{var l=e.stateNode;V1(l,e.type,s,n),l[Ve]=n}catch(h){$t(e,e.return,h)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(l!==4&&(l===27&&Ps(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,s),e=e.sibling;e!==null;)Lf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ps(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,l,s),n[Te]=e,n[Ve]=s}catch(f){$t(e,e.return,f)}}var Xi=!1,Ce=!1,Pf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function d1(e,n){if(e=e.containerInfo,rd=dc,e=lg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,Q=0,$=e,j=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||l!==0&&$.nodeType!==3||(C=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++Q===l&&(C=g),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:e,selectionRange:s},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=Ur(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ud(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function $p(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),l&4&&Xl(5,s);break;case 1:if(Ji(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Ur(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}l&64&&Gp(s),l&512&&$l(s,s.return);break;case 3:if(Ji(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&l&4&&Yp(s);case 26:case 5:Ji(e,s),n===null&&l&4&&Qp(s),l&512&&$l(s,s.return);break;case 12:Ji(e,s);break;case 31:Ji(e,s),l&4&&Wp(e,s);break;case 13:Ji(e,s),l&4&&ty(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=b1.bind(null,s),q1(e,s))));break;case 22:if(l=s.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Ce,h=Xi;var f=Ce;Xi=l,(Ce=n)&&!f?Zi(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),Xi=h,Ce=f}break;case 30:break;default:Ji(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,cn=!1;function $i(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Ce||wi(s,n),$i(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||wi(s,n);var l=ue,h=cn;Ps(s.type)&&(ue=s.stateNode,cn=!1),$i(e,n,s),ro(s.stateNode),ue=l,cn=h;break;case 5:Ce||wi(s,n);case 6:if(l=ue,h=cn,ue=null,$i(e,n,s),ue=l,cn=h,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ue!==null&&(cn?(e=ue,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):Gy(ue,s.stateNode));break;case 4:l=ue,h=cn,ue=s.stateNode.containerInfo,cn=!0,$i(e,n,s),ue=l,cn=h;break;case 0:case 11:case 14:case 15:Ds(2,s,n),Ce||Ds(4,s,n),$i(e,n,s);break;case 1:Ce||(wi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fp(s,n,l)),$i(e,n,s);break;case 21:$i(e,n,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,$i(e,n,s),Ce=l;break;default:$i(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){$t(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){$t(n,n.return,s)}}function m1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=m1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=S1.bind(null,e,l);l.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){ue=E.stateNode,cn=!1;break t}break;case 5:ue=E.stateNode,cn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ue===null)throw Error(a(160));Zp(f,g,h),ue=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Wn=null;function ey(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),l&4&&(Ds(3,e,e.return),Xl(3,e),Ds(5,e,e.return));break;case 1:hn(n,e),fn(e),l&512&&(Ce||s===null||wi(s,s.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Wn;if(hn(n,e),fn(e),l&512&&(Ce||s===null||wi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,l,s),f[Te]=e,be(f),l=f;break t;case"link":var g=e_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Ke(f,l,s),h.head.appendChild(f);break;case"meta":if(g=e_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Ke(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=e,be(f),l=f}e.stateNode=l}else n_(h,e.type,e.stateNode);else e.stateNode=t_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?n_(h,e.type,e.stateNode):t_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),l&512&&(Ce||s===null||wi(s,s.return)),s!==null&&l&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),l&512&&(Ce||s===null||wi(s,s.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Pf=!0);break;case 6:if(hn(n,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(uc=null,h=Wn,Wn=lc(n.containerInfo),hn(n,e),Wn=h,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(lt){$t(e,e.return,lt)}Pf&&(Pf=!1,ny(e));break;case 4:l=Wn,Wn=lc(e.stateNode.containerInfo),hn(n,e),fn(e),Wn=l;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Xi,Q=Ce;if(Xi=z||h,Ce=Q||C,hn(n,e),Ce=Q,Xi=z,fn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Xi||Ce||Lr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){$t(C,C.return,lt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){$t(C,C.return,lt)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?Fy(H,!0):Fy(C.stateNode,!1)}catch(lt){$t(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Kp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Uf(e);Qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(un(g,""),s.flags&=-33);var E=Uf(e);Qu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Uf(e);Lf(e,z,C);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Lr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Lr(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),Lr(n);break;case 27:ro(n.stateNode);case 26:case 5:wi(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}e=e.sibling}}function Zi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,s),Xl(4,f);break;case 1:if(Zi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Mg(C[h],E)}catch(z){$t(l,l.return,z)}}s&&g&64&&Gp(f),$l(f,f.return);break;case 27:Yp(f);case 26:case 5:Zi(h,f,s),s&&l===null&&g&4&&Qp(f),$l(f,f.return);break;case 12:Zi(h,f,s);break;case 31:Zi(h,f,s),s&&g&4&&Wp(h,f);break;case 13:Zi(h,f,s),s&&g&4&&ty(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,s),$l(f,f.return);break;case 30:break;default:Zi(h,f,s)}n=n.sibling}}function zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ul(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function ti(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,l),n=n.sibling}function iy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,l),h&2048&&Xl(9,n);break;case 1:ti(e,n,s,l);break;case 3:ti(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(h&2048){ti(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else ti(e,n,s,l);break;case 31:ti(e,n,s,l);break;case 13:ti(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,s,l):Jl(e,n):f._visibility&2?ti(e,n,s,l):(f._visibility|=2,Ia(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zf(g,n);break;case 24:ti(e,n,s,l),h&2048&&jf(n.alternate,n);break;default:ti(e,n,s,l)}}function Ia(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,C,h),Xl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ia(f,g,E,C,h):Jl(f,g):(Q._visibility|=2,Ia(f,g,E,C,h)),h&&z&2048&&zf(g.alternate,g);break;case 24:Ia(f,g,E,C,h),h&&z&2048&&jf(g.alternate,g);break;default:Ia(f,g,E,C,h)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Jl(s,l),h&2048&&zf(l.alternate,l);break;case 24:Jl(s,l),h&2048&&jf(l.alternate,l);break;default:Jl(s,l)}n=n.sibling}}var Zl=8192;function Na(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)sy(e,n,s),e=e.sibling}function sy(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&Zl&&e.memoizedState!==null&&tb(s,Wn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var l=Wn;Wn=lc(e.stateNode.containerInfo),Na(e,n,s),Wn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,Na(e,n,s),Zl=l):Na(e,n,s));break;default:Na(e,n,s)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,ly(l,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):Wl(e);break;default:Wl(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,ly(l,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function ly(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(Jp(l),l===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var g1={getCacheForType:function(e){var n=Fe(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(Ae).controller.signal}},p1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Ct=null,Ot=0,Xt=0,An=null,Os=!1,xa=!1,Bf=!1,Wi=0,fe=0,Ms=0,Pr=0,qf=0,wn=0,Da=0,to=null,dn=null,Hf=!1,Xu=0,oy=0,$u=1/0,Ju=null,Vs=null,De=0,ks=null,Oa=null,ts=0,Gf=0,Ff=null,uy=null,eo=0,Qf=null;function Rn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?Zf():Zo()}function cy(){if(wn===0)if((Ot&536870912)===0||Pt){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function mn(e,n,s){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Us(e,Ot,wn,!1)),fr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Pr|=s),fe===4&&Us(e,Ot,wn,!1)),Ri(e))}function hy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=l?v1(e,n):Yf(e,n,!0),f=l;do{if(h===0){xa&&!l&&Us(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!y1(s)){h=Yf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=to;var C=E.current.memoizedState.isDehydrated;if(C&&(Ma(E,g).flags|=256),g=Yf(E,g,!1),g!==2){if(Bf&&!C){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Us(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Us(l,n,wn,!Os);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-sn(),10<h)){if(Us(l,n,wn,!Os),oi(l,0,!0)!==0)break t;ts=n,l.timeoutHandle=qy(fy.bind(null,l,s,dn,Ju,Hf,n,wn,Pr,Da,Os,f,"Throttled",-0,0),h);break t}fy(l,s,dn,Ju,Hf,n,wn,Pr,Da,Os,f,null,-0,0)}}break}while(!0);Ri(e)}function fy(e,n,s,l,h,f,g,E,C,z,Q,$,j,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},sy(n,f,$);var lt=(f&62914560)===f?Xu-sn():(f&4194048)===f?oy-sn():0;if(lt=eb($,lt),lt!==null){ts=f,e.cancelPendingCommit=lt(Ey.bind(null,e,n,f,s,l,h,g,E,C,Q,$,null,j,H)),Us(e,f,g,!z);return}}Ey(e,n,f,s,l,h,g,E,C)}function y1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(e,n,s,l){n&=~qf,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&dr(e,s,n)}function Zu(){return(Gt&6)===0?(no(0),!1):!0}function Kf(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,Hi=Nr=null,uf(e),Sa=null,Pl=0,e=Ct;for(;e!==null;)Hp(e.alternate,e),e=e.return;Ct=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,L1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ts=0,Kf(),ee=e,Ct=s=Bi(e.current,null),Ot=n,Xt=0,An=null,Os=!1,xa=Gn(e,n),Bf=!1,Da=wn=qf=Pr=Ms=fe=0,dn=to=null,Hf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-me(l),f=1<<h;n|=e[h],l&=~f}return Wi=n,vu(),s}function dy(e,n){wt=null,F.H=Ql,n===ba||n===Cu?(n=Ng(),Xt=3):n===$h?(n=Ng(),Xt=4):Xt=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ct===null&&(fe=1,Bu(e,Vn(n,e.current)))}function my(){var e=bn.current;return e===null?!0:(Ot&4194048)===Ot?Pn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Pn:!1}function gy(){var e=F.H;return F.H=Ql,e===null?Ql:e}function py(){var e=F.A;return F.A=g1,e}function Wu(){fe=4,Os||(Ot&4194048)!==Ot&&bn.current!==null||(xa=!0),(Ms&134217727)===0&&(Pr&134217727)===0||ee===null||Us(ee,Ot,wn,!1)}function Yf(e,n,s){var l=Gt;Gt|=2;var h=gy(),f=py();(ee!==e||Ot!==n)&&(Ju=null,Ma(e,n)),n=!1;var g=fe;t:do try{if(Xt!==0&&Ct!==null){var E=Ct,C=An;switch(Xt){case 8:Kf(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Xt;if(Xt=0,An=null,Va(e,E,C,z),s&&xa){g=0;break t}break;default:z=Xt,Xt=0,An=null,Va(e,E,C,z)}}_1(),g=fe;break}catch(Q){dy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Hi=Nr=null,Gt=l,F.H=h,F.A=f,Ct===null&&(ee=null,Ot=0,vu()),g}function _1(){for(;Ct!==null;)yy(Ct)}function v1(e,n){var s=Gt;Gt|=2;var l=gy(),h=py();ee!==e||Ot!==n?(Ju=null,$u=sn()+500,Ma(e,n)):xa=Gn(e,n);t:do try{if(Xt!==0&&Ct!==null){n=Ct;var f=An;e:switch(Xt){case 1:Xt=0,An=null,Va(e,n,f,1);break;case 2:case 9:if(Cg(f)){Xt=0,An=null,_y(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Ri(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Cg(f)?(Xt=0,An=null,_y(n)):(Xt=0,An=null,Va(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?i_(g):E.stateNode.complete){Xt=0,An=null;var C=E.sibling;if(C!==null)Ct=C;else{var z=E.return;z!==null?(Ct=z,tc(z)):Ct=null}break e}}Xt=0,An=null,Va(e,n,f,5);break;case 6:Xt=0,An=null,Va(e,n,f,6);break;case 8:Kf(),fe=6;break t;default:throw Error(a(462))}}E1();break}catch(Q){dy(e,Q)}while(!0);return Hi=Nr=null,F.H=l,F.A=h,Gt=s,Ct!==null?0:(ee=null,Ot=0,vu(),fe)}function E1(){for(;Ct!==null&&!Sh();)yy(Ct)}function yy(e){var n=Bp(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:uf(n);default:Hp(s,n),n=Ct=pg(n,Wi),n=Bp(s,n,Wi)}e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function Va(e,n,s,l){Hi=Nr=null,uf(n),Sa=null,Pl=0;var h=n.return;try{if(o1(e,h,n,s,Ot)){fe=1,Bu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;fe=1,Bu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(Pt||l===1?e=!0:xa||(Ot&536870912)!==0?e=!1:(Os=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){vy(n,Os);return}e=n.return;var s=h1(n.alternate,n,Wi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);fe===0&&(fe=5)}function vy(e,n){do{var s=f1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);fe=6,Ct=null}function Ey(e,n,s,l,h,f,g,E,C){e.cancelPendingCommit=null;do ec();while(De!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Rh(e,s,f,g,E,C),e===ee&&(Ct=ee=null,Ot=0),Oa=n,ks=e,ts=s,Gf=f,Ff=h,uy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A1(fs,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=st.p,st.p=2,g=Gt,Gt|=4;try{d1(e,n,s)}finally{Gt=g,st.p=h,F.T=l}}De=1,Ty(),by(),Sy()}}function Ty(){if(De===1){De=0;var e=ks,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{ey(n,e);var f=ad,g=lg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(C!==null&&xh(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,gt=Math.min(C.start,lt),te=C.end===void 0?gt:Math.min(C.end,lt);!H.extend&&gt>te&&(g=te,te=gt,gt=g);var V=rg(E,gt),D=rg(E,te);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),gt>te?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}dc=!!rd,ad=rd=null}finally{Gt=h,st.p=l,F.T=s}}e.current=n,De=2}}function by(){if(De===2){De=0;var e=ks,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{$p(e,n.alternate,n)}finally{Gt=h,st.p=l,F.T=s}}De=3}}function Sy(){if(De===4||De===3){De=0,Fo();var e=ks,n=Oa,s=ts,l=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Oa=ks=null,Ay(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Li(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=st.p,st.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,st.p=h}}(ts&3)!==0&&ec(),Ri(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Qf?eo++:(eo=0,Qf=e):eo=0,no(0)}}function Ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function ec(){return Ty(),by(),Sy(),wy()}function wy(){if(De!==5)return!1;var e=ks,n=Gf;Gf=0;var s=Li(ts),l=F.T,h=st.p;try{st.p=32>s?32:s,F.T=null,s=Ff,Ff=null;var f=ks,g=ts;if(De=0,Oa=ks=null,ts=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,ay(f.current),iy(f,f.current,g,s),Gt=E,no(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{st.p=h,F.T=l,Ay(e,n)}}function Ry(e,n,s){n=Vn(s,n),n=Af(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(fr(e,2),Ri(e))}function $t(e,n,s){if(e.tag===3)Ry(e,e,s);else for(;n!==null;){if(n.tag===3){Ry(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Vn(s,e),s=Cp(2),l=Is(n,s,2),l!==null&&(Ip(s,l,n,e),fr(l,2),Ri(l));break}}n=n.return}}function Xf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new p1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Bf=!0,h.add(s),e=T1.bind(null,e,n,s),n.then(e,e))}function T1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Ot&s)===s&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>sn()-Xu?(Gt&2)===0&&Ma(e,0):qf|=s,Da===Ot&&(Da=0)),Ri(e)}function Cy(e,n){n===0&&(n=Jo()),e=Rr(e,n),e!==null&&(fr(e,n),Ri(e))}function b1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(e,s)}function S1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Cy(e,s)}function A1(e,n){return xe(e,n)}var nc=null,ka=null,$f=!1,ic=!1,Jf=!1,Ls=0;function Ri(e){e!==ka&&e.next===null&&(ka===null?nc=ka=e:ka=ka.next=e),ic=!0,$f||($f=!0,R1())}function no(e,n){if(!Jf&&ic){Jf=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Dy(l,f))}else f=Ot,f=oi(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gn(l,f)||(s=!0,Dy(l,f));l=l.next}while(s);Jf=!1}}function w1(){Iy()}function Iy(){ic=$f=!1;var e=0;Ls!==0&&U1()&&(e=Ls);for(var n=sn(),s=null,l=nc;l!==null;){var h=l.next,f=Ny(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(ka=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}De!==0&&De!==5||no(e),Ls!==0&&(Ls=0)}function Ny(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&l)!==0)&&(h[g]=wh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Ot,s=oi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&hs(l),Li(s)){case 2:case 8:s=fl;break;case 32:s=fs;break;case 268435456:s=Qo;break;default:s=fs}return l=xy.bind(null,e),s=xe(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&hs(l),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Ot;return l=oi(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(hy(e,l,n),Ny(e,sn()),e.callbackNode!=null&&e.callbackNode===s?xy.bind(null,e):null)}function Dy(e,n){if(ec())return null;hy(e,n,!0)}function R1(){P1(function(){(Gt&6)!==0?xe(hl,w1):Iy()})}function Zf(){if(Ls===0){var e=Ea;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ls=e}return Ls}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Oy((h[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?Oy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var C=g?My(h,g):new FormData(h);_f(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?My(h,g):new FormData(h),_f(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Wf=0;Wf<Vh.length;Wf++){var td=Vh[Wf],I1=td.toLowerCase(),N1=td[0].toUpperCase()+td.slice(1);Zn(I1,"on"+N1)}Zn(cg,"onAnimationEnd"),Zn(hg,"onAnimationIteration"),Zn(fg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(FT,"onTransitionRun"),Zn(QT,"onTransitionStart"),Zn(KT,"onTransitionCancel"),Zn(dg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Vy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){_u(Q)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){_u(Q)}h.currentTarget=null,f=C}}}}function It(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=e+"__bubble";s.has(l)||(ky(n,e,2,!1),s.add(l))}function ed(e,n,s){var l=0;n&&(l|=4),ky(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[sc]){e[sc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(x1.has(s)||ed(s,!1,e),ed(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,ed("selectionchange",!1,n))}}function ky(e,n,s,l){switch(c_(n)){case 2:var h=sb;break;case 8:h=rb;break;default:h=yd}s=h.bind(null,n,s,e),h=void 0,!_r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function id(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}_s(function(){var z=f,Q=xn(s),$=[];t:{var j=mg.get(e);if(j!==void 0){var H=vi,lt=e;switch(e){case"keypress":if(Er(s)===0)break t;case"keydown":case"keyup":H=gu;break;case"focusin":lt="focus",H=br;break;case"focusout":lt="blur",H=br;break;case"beforeblur":case"afterblur":H=br;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case cg:case hg:case fg:H=ou;break;case dg:H=T;break;case"scroll":case"scrollend":H=Cl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=At}var gt=(n&4)!==0,te=!gt&&(e==="scroll"||e==="scrollend"),V=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=Yn(D,V),Y!=null&&gt.push(so(D,Y,P))),te)break;D=D.return}0<gt.length&&(j=new H(j,lt,null,s,Q),$.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Al&&(lt=s.relatedTarget||s.fromElement)&&(fi(lt)||lt[ci]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=z,lt=lt?fi(lt):null,lt!==null&&(te=c(lt),gt=lt.tag,lt!==te||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(gt=Il,Y="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=ji,Y="onPointerLeave",V="onPointerEnter",D="pointer"),te=H==null?j:_n(H),P=lt==null?j:_n(lt),j=new gt(Y,D+"leave",H,s,Q),j.target=te,j.relatedTarget=P,Y=null,fi(Q)===z&&(gt=new gt(V,D+"enter",lt,s,Q),gt.target=P,gt.relatedTarget=te,Y=gt),te=Y,H&&lt)e:{for(gt=D1,V=H,D=lt,P=0,Y=V;Y;Y=gt(Y))P++;Y=0;for(var ft=D;ft;ft=gt(ft))Y++;for(;0<P-Y;)V=gt(V),P--;for(;0<Y-P;)D=gt(D),Y--;for(;P--;){if(V===D||D!==null&&V===D.alternate){gt=V;break e}V=gt(V),D=gt(D)}gt=null}else gt=null;H!==null&&Uy($,j,H,gt,!1),lt!==null&&te!==null&&Uy($,te,lt,gt,!0)}}t:{if(j=z?_n(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=Wm;else if(Jm(j))if(tg)jt=qT;else{jt=jT;var ot=zT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(jt=Wm):jt=BT;if(jt&&(jt=jt(e,z))){Zm($,jt,s,Q);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Tl(j,"number",j.value)}switch(ot=z?_n(z):window,e){case"focusin":(Jm(ot)||ot.contentEditable==="true")&&(fa=ot,Dh=z,Ml=null);break;case"focusout":Ml=Dh=fa=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,og($,s,Q);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":og($,s,Q)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ha?Sr(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(bi&&s.locale!=="ko"&&(ha||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ha&&(Rt=Rl()):(_i=Q,wl="value"in _i?_i.value:_i.textContent,ha=!0)),ot=rc(z,Mt),0<ot.length&&(Mt=new Ti(Mt,e,null,s,Q),$.push({event:Mt,listeners:ot}),Rt?Mt.data=Rt:(Rt=ca(s),Rt!==null&&(Mt.data=Rt)))),(Rt=On?kT(e,s):UT(e,s))&&(Mt=rc(z,"onBeforeInput"),0<Mt.length&&(ot=new Ti("onBeforeInput","beforeinput",null,s,Q),$.push({event:ot,listeners:Mt}),ot.data=Rt)),C1($,e,z,s,Q)}Vy($,n)})}function so(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&l.unshift(so(e,h,f)),h=Yn(e,n),h!=null&&l.push(so(e,h,f))),e.tag===3)return l;e=e.return}return[]}function D1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Yn(s,f),z!=null&&g.unshift(so(s,z,C))):h||(z=Yn(s,f),z!=null&&g.push(so(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var O1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(M1,"")}function Py(e,n){return n=Ly(n),Ly(e)===n}function Wt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,na(e,s,l))}}function sd(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):na(e,s,l)}}}function Ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),l&&Wt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,l,Q,s,null)}}nu(e,f,E,C,z,g,h,!1);return;case"select":It("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Wt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?ms(e,!!l,n,!1):s!=null&&ms(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,g,E,s,null)}gs(e,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(e,n,C,l,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<io.length;l++)It(io[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,l,s,null)}return;default:if(sa(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&sd(e,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Wt(e,n,E,l,s,null))}function V1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,Q=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(H)||Wt(e,n,H,null,l,$)}}for(var j in l){var H=l[j];if($=s[j],l.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&Wt(e,n,j,H,l,$)}}ia(e,g,E,C,z,Q,f,h);return;case"select":H=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||Wt(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Wt(e,n,h,f,l,C)}n=E,s=g,l=H,j!=null?ms(e,!!s,j,!1):!!l!=!!s&&(n!=null?ms(e,!!s,n,!0):ms(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,l,f)}iu(e,j,H);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,l,j));for(C in l)j=l[C],H=s[C],l.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,C,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Wt(e,n,gt,null,l,j);for(z in l)if(j=l[z],H=s[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,z,j,l,H)}return;default:if(sa(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!l.hasOwnProperty(te)&&sd(e,n,te,void 0,l,j);for(Q in l)j=l[Q],H=s[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||sd(e,n,Q,j,l,H);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&Wt(e,n,V,null,l,j);for($ in l)j=l[$],H=s[$],!l.hasOwnProperty($)||j===H||j==null&&H==null||Wt(e,n,$,j,l,H)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&zy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>E)break;var Q=C.transferSize,$=C.initiatorType;Q&&zy($)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rd=null,ad=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function U1(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(z1)}:qy;function z1(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function Gy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ro(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ro(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ro(e.ownerDocument.body);s=h}while(s);za(n)}function Fy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function ud(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function j1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function B1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$?"||e.data==="$~"}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var fd=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var jn=new Map,$y=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=st.d;st.d={f:H1,r:G1,D:F1,C:Q1,L:K1,m:Y1,X:$1,S:X1,M:J1};function H1(){var e=es.f(),n=Zu();return e||n}function G1(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):es.r(e)}var Ua=typeof document>"u"?null:document;function Jy(e,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ke(n,"link",e),be(n),l.head.appendChild(n)))}}function F1(e){es.D(e),Jy("dns-prefetch",e,null)}function Q1(e,n){es.C(e,n),Jy("preconnect",e,n)}function K1(e,n,s){es.L(e,n,s);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}jn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),Ke(n,"link",e),be(n),l.head.appendChild(n)))}}function Y1(e,n){es.m(e,n);var s=Ua;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!jn.has(f)&&(e=w({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(f)))return}l=s.createElement("link"),Ke(l,"link",e),be(l),s.head.appendChild(l)}}}function X1(e,n,s){es.S(e,n,s);var l=Ua;if(l&&e){var h=di(l).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ao(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&dd(e,s);var C=g=l.createElement("link");be(C),Ke(C,"link",e),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $1(e,n){es.X(e,n);var s=Ua;if(s&&e){var l=di(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=w({src:e,async:!0},n),(n=jn.get(h))&&md(e,n),f=s.createElement("script"),be(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J1(e,n){es.M(e,n);var s=Ua;if(s&&e){var l=di(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&md(e,n),f=s.createElement("script"),be(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Zy(e,n,s,l){var h=(h=ut.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=di(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ao(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||Z1(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=di(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+on(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Z1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",s),be(n),e.head.appendChild(n))}function Pa(e){return'[src="'+on(e)+'"]'}function lo(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return n.instance=l,be(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Ke(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=La(s.href);var f=e.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,be(f),f;l=Wy(s),(h=jn.get(h))&&dd(l,h),f=(e.ownerDocument||e).createElement("link"),be(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(lo(f)))?(n.instance=h,be(h),h):(l=s,(h=jn.get(f))&&(l=w({},s),md(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function e_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[hi]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function W1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,l=Wy(l),(h=jn.get(h))&&dd(l,h),f=f.createElement("link"),be(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var gd=0;function eb(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gd===0&&(gd=62500*k1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(nb,e),hc=null,cc.call(e))}function nb(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ib(e,n,s,l,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function s_(e,n,s,l,h,f,g,E,C,z,Q,$){return e=new ib(e,n,s,g,C,z,Q,$,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=Kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Jh(f),e}function r_(e){return e?(e=ga,e):ga}function a_(e,n,s,l,h,f){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Is(e,l,n),s!==null&&(mn(s,e,n),jl(s,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function pd(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function o_(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&mn(n,e,67108864),pd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=Rn();n=mr(n);var s=Rr(e,n);s!==null&&mn(s,e,n),pd(e,n)}}var dc=!0;function sb(e,n,s,l){var h=F.T;F.T=null;var f=st.p;try{st.p=2,yd(e,n,s,l)}finally{st.p=f,F.T=h}}function rb(e,n,s,l){var h=F.T;F.T=null;var f=st.p;try{st.p=8,yd(e,n,s,l)}finally{st.p=f,F.T=h}}function yd(e,n,s,l){if(dc){var h=_d(l);if(h===null)id(e,n,l,mc,s),h_(e,l);else if(lb(h,e,n,s,l))l.stopPropagation();else if(h_(e,l),n&4&&-1<ab.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-me(g);E.entanglements[1]|=C,g&=~C}Ri(f),(Gt&6)===0&&($u=sn()+500,no(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&mn(E,f,2),Zu(),pd(f,2)}if(f=_d(l),f===null&&id(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else id(e,n,l,null,s)}}function _d(e){return e=xn(e),vd(e)}var mc=null;function vd(e){if(mc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case hl:return 2;case fl:return 8;case fs:case Ah:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var Ed=!1,zs=null,js=null,Bs=null,uo=new Map,co=new Map,qs=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ho(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&o_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lb(e,n,s,l,h){switch(n){case"focusin":return zs=ho(zs,e,n,s,l,h),!0;case"dragenter":return js=ho(js,e,n,s,l,h),!0;case"mouseover":return Bs=ho(Bs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return uo.set(f,ho(uo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,co.set(f,ho(co.get(f)||null,e,n,s,l,h)),!0}return!1}function f_(e){var n=fi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){u_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=_d(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Nn(s),n!==null&&o_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){gc(e)&&s.delete(n)}function ob(){Ed=!1,zs!==null&&gc(zs)&&(zs=null),js!==null&&gc(js)&&(js=null),Bs!==null&&gc(Bs)&&(Bs=null),uo.forEach(d_),co.forEach(d_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var yc=null;function m_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(vd(l||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(e){function n(C){return pc(C,e)}zs!==null&&pc(zs,e),js!==null&&pc(js,e),Bs!==null&&pc(Bs,e),uo.forEach(n),co.forEach(n);for(var s=0;s<qs.length;s++){var l=qs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&qs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ve]||null;if(typeof f=="function")g||m_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(vd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}_c.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Rn();a_(s,l,e,n,null,null)},_c.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Zu(),n[ci]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<qs.length&&n!==0&&n<qs[s].priority;s++);qs.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.4")throw Error(a(527,p_,"19.2.4"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ub={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Hn=vc.inject(ub),qe=vc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Sp,f=Ap,g=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,s,l,null,h,f,g,g_),e[ci]=n.current,nd(e),new Td(n)},mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Sp,g=Ap,E=wp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=s_(e,1,!0,n,s??null,l,h,C,f,g,E,g_),n.context=r_(null),s=n.current,l=Rn(),l=mr(l),h=Cs(l),h.callback=null,Is(s,h,l),s=l,n.current.lanes=s,fr(n,s),Ri(n),e[ci]=n.current,nd(e),new _c(n)},mo.version="19.2.4",mo}var R_;function Eb(){if(R_)return Ad.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=vb(),Ad.exports}var Tb=Eb();const bb=o0(Tb),Sb=()=>{};var C_={};const u0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ab=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(M=64)),a.push(i[b],i[w],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(u0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ab(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new wb;const M=c<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),w!==64){const et=_<<6&192|w;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rb=function(r){const t=u0(r);return c0.encodeByteArray(t,!0)},Lc=function(r){return Rb(r).replace(/\./g,"")},h0=function(r){try{return c0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ib=()=>Cb().__FIREBASE_DEFAULTS__,Nb=()=>{if(typeof process>"u"||typeof C_>"u")return;const r=C_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&h0(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return Sb()||Ib()||Nb()||xb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f0=r=>sh()?.emulatorHosts?.[r],Db=r=>{const t=f0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},d0=()=>sh()?.config,m0=r=>sh()?.[`_${r}`];class Ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(r){return(await fetch(r,{credentials:"include"})).ok}function Mb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const Eo={};function Vb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function kb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let I_=!1;function p0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Eo[r]===t||Eo[r]||I_)return;Eo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Vb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{I_=!0,d()},M}function b(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=kb(a),G=i("text"),et=document.getElementById(G)||document.createElement("span"),tt=i("learnmore"),it=document.getElementById(tt)||document.createElement("a"),dt=i("preprendIcon"),St=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;p(_t),b(it,tt);const qt=_();v(St,dt),_t.append(St,et,it,qt),document.body.appendChild(_t)}c?(et.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Lb(){const r=sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bb(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qb(){return!Lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hb(){try{return typeof indexedDB=="object"}catch{return!1}}function Gb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Fb="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Fb,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Qb(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new cs(o,p,a)}}function Qb(r,t){return r.replace(Kb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Kb=/\{\$([^}]+)}/g;function Yb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(N_(c)&&N_(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function N_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Xb(r,t){const i=new $b(r,t);return i.subscribe.bind(i)}class $b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Jb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Id),o.error===void 0&&(o.error=Id),o.complete===void 0&&(o.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Id(){}function Cn(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class Zb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Ob;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tS(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Wb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wb(r){return r===zr?void 0:r}function tS(r){return r.instantiationMode==="EAGER"}class eS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Zb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const nS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},iS=Vt.INFO,sS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},rS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=sS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=iS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const aS=(r,t)=>t.some(i=>r instanceof i);let x_,D_;function lS(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,Bd=new WeakMap,_0=new WeakMap,Nd=new WeakMap,mm=new WeakMap;function uS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&y0.set(i,r)}).catch(()=>{}),mm.set(t,r),t}function cS(r){if(Bd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Bd.set(r,t)}let qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hS(r){qd=r(qd)}function fS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(xd(this),t,...i);return _0.set(a,t.sort?t.sort():[t]),Js(a)}:oS().includes(r)?function(...t){return r.apply(xd(this),t),Js(y0.get(this))}:function(...t){return Js(r.apply(xd(this),t))}}function dS(r){return typeof r=="function"?fS(r):(r instanceof IDBTransaction&&cS(r),aS(r,lS())?new Proxy(r,qd):r)}function Js(r){if(r instanceof IDBRequest)return uS(r);if(Nd.has(r))return Nd.get(r);const t=dS(r);return t!==r&&(Nd.set(r,t),mm.set(t,r)),t}const xd=r=>mm.get(r);function mS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Js(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Js(d.result),v.oldVersion,v.newVersion,Js(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Dd=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=pS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||gS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Dd.set(t,c),c}hS(r=>({...r,get:(t,i,a)=>O_(t,i)||r.get(t,i,a),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));class yS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _S(r){return r.getComponent()?.type==="VERSION"}const Hd="@firebase/app",M_="0.14.8";const rs=new dm("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",bS="@firebase/app-check-compat",SS="@firebase/app-check",AS="@firebase/auth",wS="@firebase/auth-compat",RS="@firebase/database",CS="@firebase/data-connect",IS="@firebase/database-compat",NS="@firebase/functions",xS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",US="@firebase/performance-compat",LS="@firebase/remote-config",PS="@firebase/remote-config-compat",zS="@firebase/storage",jS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",GS="firebase",FS="12.9.0";const Gd="[DEFAULT]",QS={[Hd]:"fire-core",[vS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[bS]:"fire-app-check-compat",[AS]:"fire-auth",[wS]:"fire-auth-compat",[RS]:"fire-rtdb",[CS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[NS]:"fire-fn",[xS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[US]:"fire-perf-compat",[LS]:"fire-rc",[PS]:"fire-rc-compat",[zS]:"fire-gcs",[jS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const Pc=new Map,KS=new Map,Fd=new Map;function V_(r,t){try{r.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ja(r){const t=r.name;if(Fd.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const i of Pc.values())V_(i,r);for(const i of KS.values())V_(i,r);return!0}function gm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ei(r){return r==null?!1:r.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ko("app","Firebase",YS);class XS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const sl=FS;function v0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Gd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(i||(i=d0()),!i)throw Zs.create("no-options");const c=Pc.get(o);if(c){if(Hr(i,c.options)&&Hr(a,c.config))return c;throw Zs.create("duplicate-app",{appName:o})}const d=new eS(o);for(const v of Fd.values())d.addComponent(v);const p=new XS(i,a,d);return Pc.set(o,p),p}function E0(r=Gd){const t=Pc.get(r);if(!t&&r===Gd&&d0())return v0();if(!t)throw Zs.create("no-app",{appName:r});return t}function Ws(r,t,i){let a=QS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Ja(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const $S="firebase-heartbeat-database",JS=1,Co="firebase-heartbeat-store";let Od=null;function T0(){return Od||(Od=mS($S,JS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Od}async function ZS(r){try{const i=(await T0()).transaction(Co),a=await i.objectStore(Co).get(b0(r));return await i.done,a}catch(t){if(t instanceof cs)rs.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function k_(r,t){try{const a=(await T0()).transaction(Co,"readwrite");await a.objectStore(Co).put(t,b0(r)),await a.done}catch(i){if(i instanceof cs)rs.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function b0(r){return`${r.name}!${r.options.appId}`}const WS=1024,tA=30;class eA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=U_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tA){const o=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U_(),{heartbeatsToSend:i,unsentEntries:a}=nA(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rs.warn(t),""}}}function U_(){return new Date().toISOString().substring(0,10)}function nA(r,t=WS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),L_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),L_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class iA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hb()?Gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function L_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function sA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function rA(r){Ja(new Gr("platform-logger",t=>new yS(t),"PRIVATE")),Ja(new Gr("heartbeat",t=>new eA(t),"PRIVATE")),Ws(Hd,M_,r),Ws(Hd,M_,"esm2020"),Ws("fire-js","")}rA("");var aA="firebase",lA="12.9.0";Ws(aA,lA,"app");function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oA=S0,A0=new ko("auth","Firebase",S0());const zc=new dm("@firebase/auth");function uA(r,...t){zc.logLevel<=Vt.WARN&&zc.warn(`Auth (${sl}): ${r}`,...t)}function Cc(r,...t){zc.logLevel<=Vt.ERROR&&zc.error(`Auth (${sl}): ${r}`,...t)}function as(r,...t){throw pm(r,...t)}function Ii(r,...t){return pm(r,...t)}function w0(r,t,i){const a={...oA(),[t]:i};return new ko("auth","Firebase",a).create(t,{appName:r.name})}function tr(r){return w0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return A0.create(r,...t)}function vt(r,t,...i){if(!r)throw pm(t,...i)}function ns(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function ls(r,t){r||ns(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function cA(){return P_()==="http:"||P_()==="https:"}function P_(){return typeof self<"u"&&self.location?.protocol||null}function hA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cA()||zb()||"connection"in navigator)?navigator.onLine:!0}function fA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=Ub()||jb()}get(){return hA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(r,t){ls(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class R0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gA=new Lo(3e4,6e4);function rh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return C0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Uo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...c};return Pb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(_.credentials="include"),R0.fetch()(await N0(r,r.config.apiHost,i,p),_)})}async function C0(r,t,i){r._canInitEmulator=!1;const a={...dA,...t};try{const o=new pA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ec(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw w0(r,b,_);as(r,b)}}catch(o){if(o instanceof cs)throw o;as(r,"network-request-failed",{message:String(o)})}}async function I0(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function N0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?ym(r.config,o):`${r.config.apiScheme}://${o}`;return mA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),gA.get())})}}function Ec(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ii(r,t,a);return o.customData._tokenResponse=i,o}async function yA(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function jc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function To(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _A(r,t=!1){const i=Cn(r),a=await i.getIdToken(t),o=_m(a);vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Md(o.auth_time)),issuedAtTime:To(Md(o.iat)),expirationTime:To(Md(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(r){return Number(r)*1e3}function _m(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=h0(i);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z_(r){const t=_m(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof cs&&vA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function vA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,jc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?x0(o.providerUserInfo):[],d=bA(r.providerData,c),p=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,_=p?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Kd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function TA(r){const t=Cn(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function x0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SA(r,t){const i=await C0(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await N0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),R0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AA(r,t){return rl(r,"POST","/v2/accounts:revokeToken",rh(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await SA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(vt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _A(this,t)}reload(){return TA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Io(this,yA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:et,stsTokenManager:tt}=i;vt(w&&tt,t,"internal-error");const it=Fa.fromJSON(this.name,tt);vt(typeof w=="string",t,"internal-error"),Gs(a,t.name),Gs(o,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(v,t.name),Gs(_,t.name),Gs(b,t.name);const dt=new ni({uid:w,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:it,createdAt:_,lastLoginAt:b});return et&&Array.isArray(et)&&(dt.providerData=et.map(St=>({...St}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?x0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const v=new ni({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const j_=new Map;function is(r){ls(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?(ls(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}D0.type="NONE";const B_=D0;function Ic(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ic("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await jc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(is(B_),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||is(B_);const d=Ic(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let w;if(typeof b=="string"){const M=await jc(t,{idToken:b}).catch(()=>{});if(!M)break;w=await ni._fromGetAccountInfoResponse(t,M,b)}else w=ni._fromJSON(t,b);_!==c&&(p=w),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,a))}}function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(L0(t))return"Blackberry";if(P0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||V0(t))&&!t.includes("edge/"))return"Chrome";if(U0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function O0(r=nn()){return/firefox\//i.test(r)}function M0(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function V0(r=nn()){return/crios\//i.test(r)}function k0(r=nn()){return/iemobile/i.test(r)}function U0(r=nn()){return/android/i.test(r)}function L0(r=nn()){return/blackberry/i.test(r)}function P0(r=nn()){return/webos/i.test(r)}function vm(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wA(r=nn()){return vm(r)&&!!window.navigator?.standalone}function RA(){return Bb()&&document.documentMode===10}function z0(r=nn()){return vm(r)||U0(r)||P0(r)||L0(r)||/windows phone/i.test(r)||k0(r)}function j0(r,t=[]){let i;switch(r){case"Browser":i=q_(nn());break;case"Worker":i=`${q_(nn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class CA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function IA(r,t={}){return rl(r,"GET","/v2/passwordPolicy",rh(r,t))}const NA=6;class xA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??NA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class DA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new CA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await jc(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(tr(this));const i=t?Cn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IA(this),i=new xA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await AA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=j0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ah(r){return Cn(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xb(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OA(r){Em=r}function MA(r){return Em.loadJS(r)}function VA(){return Em.gapiScript}function kA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function UA(r,t){const i=gm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Hr(c,t??{}))return o;as(o,"already-initialized")}return i.initialize({options:t})}function LA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function PA(r,t,i){const a=ah(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=B0(t),{host:d,port:p}=zA(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Hr(_,a.config.emulator)&&Hr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(g0(`${c}//${d}${v}`),p0("Auth",!0)):jA()}function B0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zA(r){const t=B0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:G_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:G_(d)}}}function G_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class q0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Ka(r,t){return I0(r,"POST","/v1/accounts:signInWithIdp",rh(r,t))}const BA="http://localhost";class Fr extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Fr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:BA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class H0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Po extends H0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends Po{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ks extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Ys extends Po{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Xs extends Po{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function qA(r,t){return I0(r,"POST","/v1/accounts:signUp",rh(r,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ni._fromIdTokenResponse(t,a,o),d=F_(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=F_(a);return new ir({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function F_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function HA(r){if(ei(r.app))return Promise.reject(tr(r));const t=ah(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await qA(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class qc extends cs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new qc(t,i,a,o)}}function G0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,c,t,a):c})}async function GA(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ir._forOperation(r,"link",a)}async function FA(r,t,i=!1){const{auth:a}=r;if(ei(a.app))return Promise.reject(tr(a));const o="reauthenticate";try{const c=await Io(r,G0(a,o,t,r),i);vt(c.idToken,a,"internal-error");const d=_m(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),ir._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(a,"user-mismatch"),c}}async function QA(r,t,i=!1){if(ei(r.app))return Promise.reject(tr(r));const a="signIn",o=await G0(r,a,t),c=await ir._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function KA(r,t,i,a){return Cn(r).onIdTokenChanged(t,i,a)}function YA(r,t,i){return Cn(r).beforeAuthStateChanged(t,i)}function XA(r,t,i,a){return Cn(r).onAuthStateChanged(t,i,a)}const Hc="__sak";class F0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $A=1e3,JA=10;class Q0 extends F0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);RA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,JA):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q0.type="LOCAL";const ZA=Q0;class K0 extends F0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}K0.type="SESSION";const Y0=K0;function WA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await WA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Tm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class tw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Tm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function ew(r){Ni().location.href=r}function X0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function nw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iw(){return navigator?.serviceWorker?.controller||null}function sw(){return X0()?self:null}const $0="firebaseLocalStorageDb",rw=1,Gc="firebaseLocalStorage",J0="fbase_key";class zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(r,t){return r.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function aw(){const r=indexedDB.deleteDatabase($0);return new zo(r).toPromise()}function Yd(){const r=indexedDB.open($0,rw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Gc,{keyPath:J0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Gc)?t(a):(a.close(),await aw(),t(await Yd()))})})}async function Q_(r,t,i){const a=oh(r,!0).put({[J0]:t,value:i});return new zo(a).toPromise()}async function lw(r,t){const i=oh(r,!1).get(t),a=await new zo(i).toPromise();return a===void 0?null:a.value}function K_(r,t){const i=oh(r,!0).delete(t);return new zo(i).toPromise()}const ow=800,uw=3;class Z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>uw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(sw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nw(),!this.activeServiceWorker)return;this.sender=new tw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yd();return await Q_(t,Hc,"1"),await K_(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Q_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>K_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=oh(o,!1).getAll();return new zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z0.type="LOCAL";const cw=Z0;new Lo(3e4,6e4);function hw(r,t){return t?is(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bm extends q0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fw(r){return QA(r.auth,new bm(r),r.bypassAuthState)}function dw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),FA(i,new bm(r),r.bypassAuthState)}async function mw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),GA(i,new bm(r),r.bypassAuthState)}class W0{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fw;case"linkViaPopup":case"linkViaRedirect":return mw;case"reauthViaPopup":case"reauthViaRedirect":return dw;default:as(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gw=new Lo(2e3,1e4);class Ga extends W0{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gw.get())};t()}}Ga.currentPopupAction=null;const pw="pendingRedirect",Nc=new Map;class yw extends W0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await _w(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _w(r,t){const i=Tw(t),a=Ew(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function vw(r,t){Nc.set(r._key(),t)}function Ew(r){return is(r._redirectPersistence)}function Tw(r){return Ic(pw,r.config.apiKey,r.name)}async function bw(r,t,i=!1){if(ei(r.app))return Promise.reject(tr(r));const a=ah(r),o=hw(a,t),d=await new yw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Sw=600*1e3;class Aw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ww(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!tE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Sw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(t))}saveEventToCache(t){this.cachedEventUids.add(Y_(t)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function tE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ww(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tE(r);default:return!1}}async function Rw(r,t={}){return rl(r,"GET","/v1/projects",t)}const Cw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iw=/^https?/;async function Nw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Rw(r);for(const i of t)try{if(xw(i))return}catch{}as(r,"unauthorized-domain")}function xw(r){const t=Qd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Iw.test(i))return!1;if(Cw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Dw=new Lo(3e4,6e4);function X_(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ow(r){return new Promise((t,i)=>{function a(){X_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X_(),i(Ii(r,"network-request-failed"))},timeout:Dw.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const o=kA("iframefcb");return Ni()[o]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},MA(`${VA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function Mw(r){return xc=xc||Ow(r),xc}const Vw=new Lo(5e3,15e3),kw="__/auth/iframe",Uw="emulator/auth/iframe",Lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ym(t,Uw):`https://${r.config.authDomain}/${kw}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=Pw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function jw(r){const t=await Mw(r),i=Ni().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:zw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Vw.get());function v(){Ni().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Bw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qw=500,Hw=600,Gw="_blank",Fw="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qw(r,t,i,a=qw,o=Hw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Bw,width:a.toString(),height:o.toString(),top:c,left:d},_=nn().toLowerCase();i&&(p=V0(_)?Gw:i),O0(_)&&(t=t||Fw,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[G,et])=>`${M}${G}=${et},`,"");if(wA(_)&&p!=="_self")return Kw(t||"",p),new $_(null);const w=window.open(t||"",p,b);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new $_(w)}function Kw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Yw="__/auth/handler",Xw="emulator/auth/handler",$w=encodeURIComponent("fac");async function J_(r,t,i,a,o,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof H0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Yb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Po){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await r._getAppCheckToken(),_=v?`#${$w}=${encodeURIComponent(v)}`:"";return`${Jw(r)}?${Uo(p).slice(1)}${_}`}function Jw({config:r}){return r.emulator?ym(r,Xw):`https://${r.authDomain}/${Yw}`}const Vd="webStorageSupport";class Zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y0,this._completeRedirectFn=bw,this._overrideRedirectResult=vw}async _openPopup(t,i,a,o){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J_(t,i,a,Qd(),o);return Qw(t,c,Tm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await J_(t,i,a,Qd(),o);return ew(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await jw(t),a=new Aw(t);return i.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},o=>{const c=o?.[0]?.[Vd];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Nw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return z0()||M0()||vm()}}const Ww=Zw;var Z_="@firebase/auth",W_="1.12.0";class t2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function e2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(r){Ja(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j0(r)},_=new DA(a,o,c,v);return LA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Gr("auth-internal",t=>{const i=ah(t.getProvider("auth").getImmediate());return(a=>new t2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Z_,W_,e2(r)),Ws(Z_,W_,"esm2020")}const i2=300,s2=m0("authIdTokenMaxAge")||i2;let tv=null;const r2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>s2)return;const o=i?.token;tv!==o&&(tv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function a2(r=E0()){const t=gm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=UA(r,{popupRedirectResolver:Ww,persistence:[cw,ZA,Y0]}),a=m0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=r2(c.toString());YA(i,d,()=>d(i.currentUser)),KA(i,p=>d(p))}}const o=f0("auth");return o&&PA(i,`http://${o}`),i}function l2(){return document.getElementsByTagName("head")?.[0]??document}OA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",l2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");const Ye=[];for(let r=0;r<256;++r)Ye.push((r+256).toString(16).slice(1));function o2(r,t=0){return(Ye[r[t+0]]+Ye[r[t+1]]+Ye[r[t+2]]+Ye[r[t+3]]+"-"+Ye[r[t+4]]+Ye[r[t+5]]+"-"+Ye[r[t+6]]+Ye[r[t+7]]+"-"+Ye[r[t+8]]+Ye[r[t+9]]+"-"+Ye[r[t+10]]+Ye[r[t+11]]+Ye[r[t+12]]+Ye[r[t+13]]+Ye[r[t+14]]+Ye[r[t+15]]).toLowerCase()}let kd;const u2=new Uint8Array(16);function c2(){if(!kd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kd=crypto.getRandomValues.bind(crypto)}return kd(u2)}const h2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ev={randomUUID:h2};function f2(r,t,i){r=r||{};const a=r.random??r.rng?.()??c2();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,o2(a)}function d2(r,t,i){return ev.randomUUID&&!r?ev.randomUUID():f2(r)}var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,eE;(function(){var r;function t(I,A){function N(){}N.prototype=A.prototype,I.F=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(O,x,k){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return A.prototype[x].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,N){N||(N=0);const O=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)O[x]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(x=0;x<16;++x)O[x]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],x=I.g[2];let k=I.g[3],R;R=A+(k^N&(x^k))+O[0]+3614090360&4294967295,A=N+(R<<7&4294967295|R>>>25),R=k+(x^A&(N^x))+O[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=x+(N^k&(A^N))+O[2]+606105819&4294967295,x=k+(R<<17&4294967295|R>>>15),R=N+(A^x&(k^A))+O[3]+3250441966&4294967295,N=x+(R<<22&4294967295|R>>>10),R=A+(k^N&(x^k))+O[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=k+(x^A&(N^x))+O[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=x+(N^k&(A^N))+O[6]+2821735955&4294967295,x=k+(R<<17&4294967295|R>>>15),R=N+(A^x&(k^A))+O[7]+4249261313&4294967295,N=x+(R<<22&4294967295|R>>>10),R=A+(k^N&(x^k))+O[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=k+(x^A&(N^x))+O[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=x+(N^k&(A^N))+O[10]+4294925233&4294967295,x=k+(R<<17&4294967295|R>>>15),R=N+(A^x&(k^A))+O[11]+2304563134&4294967295,N=x+(R<<22&4294967295|R>>>10),R=A+(k^N&(x^k))+O[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=k+(x^A&(N^x))+O[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=x+(N^k&(A^N))+O[14]+2792965006&4294967295,x=k+(R<<17&4294967295|R>>>15),R=N+(A^x&(k^A))+O[15]+1236535329&4294967295,N=x+(R<<22&4294967295|R>>>10),R=A+(x^k&(N^x))+O[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=k+(N^x&(A^N))+O[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=x+(A^N&(k^A))+O[11]+643717713&4294967295,x=k+(R<<14&4294967295|R>>>18),R=N+(k^A&(x^k))+O[0]+3921069994&4294967295,N=x+(R<<20&4294967295|R>>>12),R=A+(x^k&(N^x))+O[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=k+(N^x&(A^N))+O[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=x+(A^N&(k^A))+O[15]+3634488961&4294967295,x=k+(R<<14&4294967295|R>>>18),R=N+(k^A&(x^k))+O[4]+3889429448&4294967295,N=x+(R<<20&4294967295|R>>>12),R=A+(x^k&(N^x))+O[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=k+(N^x&(A^N))+O[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=x+(A^N&(k^A))+O[3]+4107603335&4294967295,x=k+(R<<14&4294967295|R>>>18),R=N+(k^A&(x^k))+O[8]+1163531501&4294967295,N=x+(R<<20&4294967295|R>>>12),R=A+(x^k&(N^x))+O[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=k+(N^x&(A^N))+O[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=x+(A^N&(k^A))+O[7]+1735328473&4294967295,x=k+(R<<14&4294967295|R>>>18),R=N+(k^A&(x^k))+O[12]+2368359562&4294967295,N=x+(R<<20&4294967295|R>>>12),R=A+(N^x^k)+O[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=k+(A^N^x)+O[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=x+(k^A^N)+O[11]+1839030562&4294967295,x=k+(R<<16&4294967295|R>>>16),R=N+(x^k^A)+O[14]+4259657740&4294967295,N=x+(R<<23&4294967295|R>>>9),R=A+(N^x^k)+O[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=k+(A^N^x)+O[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=x+(k^A^N)+O[7]+4139469664&4294967295,x=k+(R<<16&4294967295|R>>>16),R=N+(x^k^A)+O[10]+3200236656&4294967295,N=x+(R<<23&4294967295|R>>>9),R=A+(N^x^k)+O[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=k+(A^N^x)+O[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=x+(k^A^N)+O[3]+3572445317&4294967295,x=k+(R<<16&4294967295|R>>>16),R=N+(x^k^A)+O[6]+76029189&4294967295,N=x+(R<<23&4294967295|R>>>9),R=A+(N^x^k)+O[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=k+(A^N^x)+O[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=x+(k^A^N)+O[15]+530742520&4294967295,x=k+(R<<16&4294967295|R>>>16),R=N+(x^k^A)+O[2]+3299628645&4294967295,N=x+(R<<23&4294967295|R>>>9),R=A+(x^(N|~k))+O[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=k+(N^(A|~x))+O[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=x+(A^(k|~N))+O[14]+2878612391&4294967295,x=k+(R<<15&4294967295|R>>>17),R=N+(k^(x|~A))+O[5]+4237533241&4294967295,N=x+(R<<21&4294967295|R>>>11),R=A+(x^(N|~k))+O[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=k+(N^(A|~x))+O[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=x+(A^(k|~N))+O[10]+4293915773&4294967295,x=k+(R<<15&4294967295|R>>>17),R=N+(k^(x|~A))+O[1]+2240044497&4294967295,N=x+(R<<21&4294967295|R>>>11),R=A+(x^(N|~k))+O[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=k+(N^(A|~x))+O[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=x+(A^(k|~N))+O[6]+2734768916&4294967295,x=k+(R<<15&4294967295|R>>>17),R=N+(k^(x|~A))+O[13]+1309151649&4294967295,N=x+(R<<21&4294967295|R>>>11),R=A+(x^(N|~k))+O[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=k+(N^(A|~x))+O[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=x+(A^(k|~N))+O[2]+718787259&4294967295,x=k+(R<<15&4294967295|R>>>17),R=N+(k^(x|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const N=A-this.blockSize,O=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=N;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(O[x++]=I.charCodeAt(k++),x==this.blockSize){o(this,O),x=0;break}}else for(;k<A;)if(O[x++]=I[k++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)I[A++]=this.g[N]>>>O&255;return I};function c(I,A){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function d(I,A){this.h=A;const N=[];let O=!0;for(let x=I.length-1;x>=0;x--){const k=I[x]|0;O&&k==A||(N[x]=k,O=!1)}this.g=N}var p={};function v(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return it(_(-I));const A=[];let N=1;for(let O=0;I>=N;O++)A[O]=I/N|0,N*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return it(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(A,8));let O=w;for(let k=0;k<I.length;k+=8){var x=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+x),A);x<8?(x=_(Math.pow(A,x)),O=O.j(x).add(_(R))):(O=O.j(N),O=O.add(_(R)))}return O}var w=v(0),M=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-it(this).m();let I=0,A=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);I+=(O>=0?O:4294967296+O)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(tt(this))return"-"+it(this).toString(I);const A=_(Math.pow(I,6));var N=this;let O="";for(;;){const x=qt(N,A).g;N=dt(N,x.j(A));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=x,et(N))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function tt(I){return I.h==-1}r.l=function(I){return I=dt(this,I),tt(I)?-1:et(I)?0:1};function it(I){const A=I.g.length,N=[];for(let O=0;O<A;O++)N[O]=~I.g[O];return new d(N,~I.h).add(M)}r.abs=function(){return tt(this)?it(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),N=[];let O=0;for(let x=0;x<=A;x++){let k=O+(this.i(x)&65535)+(I.i(x)&65535),R=(k>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);O=R>>>16,k&=65535,R&=65535,N[x]=R<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function dt(I,A){return I.add(it(A))}r.j=function(I){if(et(this)||et(I))return w;if(tt(this))return tt(I)?it(this).j(it(I)):it(it(this).j(I));if(tt(I))return it(this.j(it(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,N=[];for(var O=0;O<2*A;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let x=0;x<I.g.length;x++){const k=this.i(O)>>>16,R=this.i(O)&65535,ne=I.i(x)>>>16,Qt=I.i(x)&65535;N[2*O+2*x]+=R*Qt,St(N,2*O+2*x),N[2*O+2*x+1]+=k*Qt,St(N,2*O+2*x+1),N[2*O+2*x+1]+=R*ne,St(N,2*O+2*x+1),N[2*O+2*x+2]+=k*ne,St(N,2*O+2*x+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new d(N,0)};function St(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _t(I,A){this.g=I,this.h=A}function qt(I,A){if(et(A))throw Error("division by zero");if(et(I))return new _t(w,w);if(tt(I))return A=qt(it(I),A),new _t(it(A.g),it(A.h));if(tt(A))return A=qt(I,it(A)),new _t(it(A.g),A.h);if(I.g.length>30){if(tt(I)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var N=M,O=A;O.l(I)<=0;)N=le(N),O=le(O);var x=Nt(N,1),k=Nt(O,1);for(O=Nt(O,2),N=Nt(N,2);!et(O);){var R=k.add(O);R.l(I)<=0&&(x=x.add(N),k=R),O=Nt(O,1),N=Nt(N,1)}return A=dt(I,x.j(A)),new _t(x,A)}for(x=w;I.l(A)>=0;){for(N=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(N),R=k.j(A);tt(R)||R.l(I)>0;)N-=O,k=_(N),R=k.j(A);et(k)&&(k=M),x=x.add(k),I=dt(I,R)}return new _t(x,I)}r.B=function(I){return qt(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)&I.i(O);return new d(N,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)|I.i(O);return new d(N,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)^I.i(O);return new d(N,this.h^I.h)};function le(I){const A=I.g.length+1,N=[];for(let O=0;O<A;O++)N[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(N,I.h)}function Nt(I,A){const N=A>>5;A%=32;const O=I.g.length-N,x=[];for(let k=0;k<O;k++)x[k]=A>0?I.i(k+N)>>>A|I.i(k+N+1)<<32-A:I.i(k+N);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,er=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nE,po,iE,Dc,Xd,sE,rE,aE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[L].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const q=L.length||0;u.length=y+q;for(let nt=0;nt<q;nt++)u[y+nt]=L[nt]}else u.push(L)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,y){const T=_t.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new tt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Nt=!1,I=new St,A=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(N)}};function N(){for(var u;u=dt();){try{u.h.call(u.g)}catch(y){it(y)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ne,x),ne.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function X(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let q=0;q<U.length;q++)y=U[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,y,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ut(u,m,T,L);return nt>-1?(m=u[nt],y||(m.fa=!1)):(m=new st(m,this.src,q,!!T,L),m.fa=y,u.push(m)),m};function rt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ut(u,m,y,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return L}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),Dt={};function Lt(u,m,y,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Lt(u,m[q],y,T,L);return null}return y=cl(y),u&&u[Qt]?u.J(m,y,p(T)?!!T.capture:!1,L):Kt(u,m,y,!1,T,L)}function Kt(u,m,y,T,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let At=yn(u);if(At||(u[yt]=At=new W(u)),y=At.add(m,y,T,nt,q),y.proxy)return y;if(T=Be(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(pn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Be(){function u(y){return m.call(u.src,u.listener,y)}const m=ri;return u}function ki(u,m,y,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ki(u,m[q],y,T,L);else T=p(T)?!!T.capture:!!T,y=cl(y),u&&u[Qt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=ut(m,y,T,L),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=yn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ut(m,y,T,L)),(y=u>-1?m[u]:null)&&Ui(y))}function Ui(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])rt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(pn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=yn(m))?(rt(y,u),y.h==0&&(y.src=null,m[yt]=null)):ht(u)}}}function pn(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function ri(u,m){if(u.da)u=!0;else{m=new ne(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ui(u),u=y.call(T,m)}return u}function yn(u){return u=u[yt],u instanceof W?u:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function cl(u){return typeof u=="function"?u:(u[ln]||(u[ln]=function(m){return u.handleEvent(m)}),u[ln])}function ve(){O.call(this),this.i=new W(this),this.M=this,this.G=null}w(ve,O),ve.prototype[Qt]=!0,ve.prototype.removeEventListener=function(u,m,y,T){ki(this,u,m,y,T)};function xe(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),K(m,L)}L=!0;let q,nt;if(y)for(nt=y.length-1;nt>=0;nt--)q=m.g=y[nt],L=hs(q,T,!0,m)&&L;if(q=m.g=u,L=hs(q,T,!0,m)&&L,L=hs(q,T,!1,m)&&L,y)for(nt=0;nt<y.length;nt++)q=m.g=y[nt],L=hs(q,T,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ve.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function hs(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==y){const At=nt.listener,ge=nt.ha||nt.src;nt.fa&&rt(u.i,nt),L=At.call(ge,T)!==!1&&L}}return L&&!T.defaultPrevented}function Sh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=Sh(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(u){O.call(this),this.h=u,this.g={}}w(cr,O);var hl=[];function fl(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ui(m)},u),u.g={}}cr.prototype.N=function(){cr.Z.N.call(this),fl(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,Ah=d.JSON.parse,Qo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Yo(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){x.call(this,"d")}w(qe,x);function In(){x.call(this,"c")}w(In,x);var me={},Xo=null;function Wr(){return Xo=Xo||new ve}me.Ia="serverreachability";function $o(u){x.call(this,me.Ia,u)}w($o,x);function ai(u){const m=Wr();xe(m,new $o(m))}me.STAT_EVENT="statevent";function hr(u,m){x.call(this,me.STAT_EVENT,u),this.stat=m}w(hr,x);function Ee(u){const m=Wr();xe(m,new hr(m,u))}me.Ja="timingevent";function li(u,m){x.call(this,me.Ja,u),this.size=m}w(li,x);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function wh(u,m,y,T,L,q){u.info(function(){if(u.g)if(q){var nt="",At=q.split("&");for(let Ht=0;Ht<At.length;Ht++){var ge=At[Ht].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const On=oe.split("_");nt=On.length>=2&&On[1]=="type"?nt+(oe+"="+ge+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+nt})}function Jo(u,m,y,T,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+nt})}function ui(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rh(u,y)+(T?" "+T:"")})}function fr(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Rh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return fs(q)}catch{return m}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function mr(){}w(mr,Ko),mr.prototype.g=function(){return new XMLHttpRequest},ml=new mr;function Li(u){return encodeURIComponent(String(u))}function Zo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Fn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Te={},Ve={};function ci(u,m,y){u.M=1,u.A=gr(Se(m)),u.u=y,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),hi(u),u.B=Se(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Qn,u.g=du(u.j,y?m:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(hl[0]=L.toString()),L=hl);for(let q=0;q<L.length;q++){const nt=Lt(y,L[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),wh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Xn(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||At!=4||ge==7||(ge==8||Ht<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var y=Ch(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Ee(12),_n(this),Nn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<y.length;)if(oe=tu(this,y),oe==Ve){At==4&&(this.m=4,Ee(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),ui(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,y,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(y.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Nl(nt),nt.P=!0,Ee(11))}}else ui(this.i,this.l,y,null),di(this,y);At==4&&_n(this),this.o&&!this.K&&(At==4?uu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),_n(this),Nn(this)}}}catch{}};function Ch(u){if(!Wo(u))return u.g.la();const m=He(u.g);if(m==="")return"";let y="";const T=m.length,L=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?Te:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}Fn.prototype.cancel=function(){this.K=!0,_n(this)};function hi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fr(this.i,this.B),this.M!=2&&(ai(),Ee(17)),_n(this),this.m=2,Nn(this)):ea(this,this.T-u)};function Nn(u){u.j.I==0||u.K||uu(u.j,u)}function _n(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||gi(y.h,u))){if(!u.L&&gi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ua(y),Es(y);else break t;br(y),Ee(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=oi(_(y.Va,y),6e3));mi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ti(y,11)}else if((u.L||y.g==u)&&ua(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const oe=Ht[0];if(!(oe<=y.K))if(y.K=oe,Ht=Ht[1],y.I==2)if(Ht[0]=="c"){y.M=Ht[1],y.ba=Ht[2];const On=Ht[3];On!=null&&(y.ka=On,y.j.info("VER="+y.ka));const bi=Ht[4];bi!=null&&(y.za=bi,y.j.info("SVER="+y.za));const $n=Ht[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Jn=u.g;if(Jn){const Sr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var q=T.h;q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yl(q,q.h),q.h=null))}if(T.G){const ca=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Yt(T.J,T.G,ca))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var nt=u;if(T.na=fu(T,T.L?T.ba:null,T.W),nt.L){_l(T.h,nt);var At=nt,ge=T.O;ge&&(At.H=ge),At.D&&(fi(At),hi(At)),T.g=nt}else lu(T);y.i.length>0&&Ei(y)}else Ht[0]!="stop"&&Ht[0]!="close"||Ti(y,7);else y.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ti(y,7):Cl(y):Ht[0]!="noop"&&y.l&&y.l.qa(Ht),y.A=0)}}ai(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function gl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yl(u,m){u.g?u.g.add(m):u.h=m}function _l(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,q=null;T>=0?(L=u[y].substring(0,T),q=u[y].substring(T+1)):L=u[y],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,El(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ds(this,m[4]),this.h=pi(m[5]||"",!0),El(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,ia,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,ia,!0),"@"),u.push(Li(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(pr(y,y.charAt(0)=="/"?Tl:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",pr(y,iu)),u.join("")},vn.prototype.resolve=function(u){const m=Se(this);let y=!!u.j;y?ke(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ds(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const At=L[nt++];At=="."?T&&nt==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==L.length&&q.push("")):(q.push(At),T=!0)}T=q.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?El(m,ru(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Se(u){return new vn(u)}function ke(u,m,y){u.j=y?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,y){m instanceof gs?(u.i=m,ra(u.i,u.l)):(y||(m=pr(m,ms)),u.i=new gs(m,u.l))}function Yt(u,m,y){u.i.set(m,y)}function gr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,on),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,nu=/[#\?:]/g,Tl=/[#\?]/g,ms=/[#\?@]/g,iu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=gs.prototype,r.add=function(u,m){un(this),this.i=null,u=ps(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function su(u,m){un(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bl(u,m){return un(u),m=ps(u,m),u.g.has(m)}r.forEach=function(u,m){un(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){un(u);let y=[];if(typeof m=="string")bl(u,m)&&(y=y.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return un(this),this.i=null,u=ps(this,u),bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,y){su(u,m),y.length>0&&(u.i=null,u.g.set(ps(u,m),G(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Li(y);y=Sl(this,y);for(let q=0;q<y.length;q++){let nt=L;y[q]!==""&&(nt+="="+Li(y[q])),u.push(nt)}}return this.i=u.join("&")};function ru(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(su(this,T),sa(this,L,y))},u)),u.j=m}function Kn(u,m){const y=new Gn;if(d.Image){const T=new Image;T.onload=b(xn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(xn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(xn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(xn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const y=new Gn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?xn(y,"TestPingServer: ok",!0,m):xn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(y,"TestPingServer: error",!1,m)})}function xn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function ys(){this.g=new Qo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(yi,Ko),yi.prototype.g=function(){return new yr(this.i,this.h)};function yr(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(yr,ve),r=yr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):Yn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},r.Na=function(u){this.g&&(this.response=u,_s(this))},r.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function _r(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Dn(y),typeof u=="string"?y!=null&&Li(y):Yt(u,m,y))}function Jt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,ve);var _i=/^https?$/i,wl=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vr(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of y)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vr(this,q)}};function vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Pi(u)}function Rl(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},r.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let nt=String(u.D).match(eu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!_i.test(nt?nt.toLowerCase():"")}y=T}if(y)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Xn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Rl(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||xe(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Zo(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}X(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){Ee(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),Ei(this)};function Cl(u){if(la(u),u.I==3){var m=u.V++,y=Se(u.J);if(Yt(y,"SID",u.M),Yt(y,"RID",m),Yt(y,"TYPE","terminate"),Tr(u,y),m=new Fn(u,u.j,m),m.M=2,m.A=gr(Se(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}hu(u)}function Es(u){u.g&&(Nl(u),u.g.cancel(),u.g=null)}function la(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;le||A(),Nt||(le(),Nt=!0),I.add(m,u),u.D=0}}function oa(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Fn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),K(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),y=Se(this.J),Yt(y,"RID",u),Yt(y,"CVER",22),this.G&&Yt(y,"X-HTTP-Session-Id",this.G),Tr(this,y),q&&(this.R?m="headers="+Li(Dn(q))+"&"+m:this.u&&_r(y,this.u,q)),yl(this.h,L),this.Ra&&Yt(y,"TYPE","init"),this.S?(Yt(y,"$req",m),Yt(y,"SID","null"),L.U=!0,ci(L,y,null)):ci(L,y,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var y;m?y=m.l:y=u.V++;const T=Se(u.J);Yt(T,"SID",u.M),Yt(T,"RID",y),Yt(T,"AID",u.K),Tr(u,T),u.u&&u.o&&_r(T,u.u,u.o),y=new Fn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yl(u.h,y),ci(y,T,m)}function Tr(u,m){u.H&&xt(u.H,function(y,T){Yt(m,T,y)}),u.l&&xt({},function(y,T){Yt(m,T,y)})}function au(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const ge=["count="+y];At==-1?y>0?(At=L[0].g,ge.push("ofs="+At)):At=0:ge.push("ofs="+At);let Ht=!0;for(let oe=0;oe<y;oe++){var q=L[oe].g;const On=L[oe].map;if(q-=At,q<0)At=Math.max(0,L[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var nt=On instanceof Map?On:Object.entries(On);for(const[bi,$n]of nt){let Jn=$n;p($n)&&(Jn=fs($n)),ge.push(q+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw ge.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(On)}}if(Ht){nt=ge.join("&");break t}}nt=void 0}return u=u.i.splice(0,y),m.G=u,nt}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;le||A(),Nt||(le(),Nt=!0),I.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Es(this),ou(this))};function Nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&_r(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=gr(Se(m)),y.u=null,y.R=!0,ta(y,u)}r.Va=function(){this.C!=null&&(this.C=null,Es(this),br(this),Ee(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){ua(u),Nl(u),u.g=null;var T=2}else if(gi(u.h,m))y=m.G,_l(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),xe(T,new li(T,y)),Ei(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&br(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function cu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),gr(T),L?Kn(T.toString(),y):Al(T.toString(),y)}else Ee(2);u.I=0,u.l&&u.l.pa(m),hu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=vl(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,y){var T=y instanceof vn?Se(y):new vn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ds(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new vn(null);T&&ke(q,T),m&&(q.g=m),L&&ds(q,L),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Yt(T,y,m),Yt(T,"VER",u.ka),Tr(u,T),T}function du(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new yi({ab:y})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){ve.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}w(rn,ve),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Cl(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=fs(u),u=y);m.i.push(new be(m.Ya++,u)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,rn.Z.N.call(this)};function gu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(gu,qe);function pu(){In.call(this),this.status=1}w(pu,In);function ji(u){this.g=u}w(ji,mu),ji.prototype.ra=function(){xe(this.g,"a")},ji.prototype.qa=function(u){xe(this.g,new gu(u))},ji.prototype.pa=function(u){xe(this.g,new pu)},ji.prototype.oa=function(){xe(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,aE=function(){return new Ts},rE=function(){return Wr()},sE=me,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Dc=dr,dl.COMPLETE="complete",iE=dl,Yo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,po=Yo,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,nE=Jt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let al="12.9.0";function m2(r){al=r}const Qr=new dm("@firebase/firestore");function ja(){return Qr.logLevel}function at(r,...t){if(Qr.logLevel<=Vt.DEBUG){const i=t.map(Sm);Qr.debug(`Firestore (${al}): ${r}`,...i)}}function os(r,...t){if(Qr.logLevel<=Vt.ERROR){const i=t.map(Sm);Qr.error(`Firestore (${al}): ${r}`,...i)}}function Kr(r,...t){if(Qr.logLevel<=Vt.WARN){const i=t.map(Sm);Qr.warn(`Firestore (${al}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,lE(r,a,i)}function lE(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw os(a),new Error(a)}function Ft(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||lE(t,o,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class oE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=T2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function $d(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Ud(o)===Ud(c)?kt(o,c):Ud(o)?1:-1}return kt(r.length,t.length)}const b2=55296,S2=57343;function Ud(r){const t=r.charCodeAt(0);return t>=b2&&t<=S2}function Za(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const sv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class re extends Ci{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ci{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return A2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new $e([sv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}function uE(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function w2(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function rv(r){if(!mt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function av(r){if(mt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function bo(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function jo(r,t){if(!cE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const lv=-62135596800,ov=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*ov);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<lv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function R2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new sr(o,mt.empty(),t)}function C2(r){return new sr(r.readTime,r.key,No)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(Et.min(),mt.empty(),No)}static max(){return new sr(Et.max(),mt.empty(),No)}}function I2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==N2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function D2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Rm=-1;function ch(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function O2(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hE="";function M2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=uv(t)),t=V2(r.get(i),t);return uv(t)}function V2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case hE:i+="";break;default:i+=c}}return i}function uv(r){return r+hE+""}function cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Xr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function fE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=o??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Xe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new ii([])}unionWith(t){let i=new Me($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ii(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=k2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ar(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const mE="server_timestamp",gE="__type__",pE="__previous_value__",yE="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[gE]?.stringValue===mE}function hh(r){const t=r.mapValue.fields[pE];return Cm(t)?hh(t):t}function xo(r){const t=rr(r.mapValue.fields[yE].timestampValue);return new ae(t.seconds,t.nanos)}class U2{constructor(t,i,a,o,c,d,p,v,_,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=w}}const Qc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}function L2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(r.options.projectId,t)}const _E="__type__",P2="__max__",Sc={mapValue:{}},vE="__vector__",Kc="value";function lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:j2(r)?9007199254740991:z2(r)?10:11:pt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=lr(r);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xo(r).isEqual(xo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=rr(o.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return ar(o.bytesValue).isEqual(ar(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return _e(o.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _e(o.integerValue)===_e(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_e(o.doubleValue),p=_e(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(cv(d)!==cv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Mi(d[v],p[v])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=lr(r),a=lr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=_e(c.integerValue||c.doubleValue),v=_e(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(xo(r),xo(t));case 5:return $d(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),v=ar(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=kt(p[_],v[_]);if(b!==0)return b}return kt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(_e(c.latitude),_e(d.latitude));return p!==0?p:kt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[Kc]?.arrayValue,b=v[Kc]?.arrayValue,w=kt(_?.values?.length||0,b?.values?.length||0);return w!==0?w:dv(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const M=$d(v[w],b[w]);if(M!==0)return M;const G=Wa(p[v[w]],_[b[w]]);if(G!==0)return G}return kt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=rr(r),a=rr(t),o=kt(i.seconds,a.seconds);return o!==0?o:kt(i.nanos,a.nanos)}function dv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return kt(i.length,a.length)}function tl(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ar(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Jd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Jd(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Oc(r){switch(lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return ar(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Xr(a.fields,((c,d)=>{o+=c.length+Oc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function Zd(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function mv(r){return!!r&&"nullValue"in r}function gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function z2(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===vE}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function j2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P2}class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=$e.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=So(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Xr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Bn(So(this.value))}}function EE(r){const t=[];return Xr(r.fields,((i,a)=>{const o=new $e([i]);if(Mc(a)){const c=EE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new ii(t)}class en{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,Et.min(),Et.min(),Et.min(),Bn.empty(),0)}static newFoundDocument(t,i,a,o){return new en(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new en(t,2,i,Et.min(),Et.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,Et.min(),Et.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function pv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function yv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function B2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class TE{}class Oe extends TE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new H2(t,i,a):i==="array-contains"?new Q2(t,a):i==="in"?new K2(t,a):i==="not-in"?new Y2(t,a):i==="array-contains-any"?new X2(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new G2(t,a):new F2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends TE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return bE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function SE(r){return q2(r)&&bE(r)}function q2(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function Wd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(SE(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function AE(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Mi(a.value,o.value)})(r,t):r instanceof Vi?(function(a,o){return o instanceof Vi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&AE(d,o.filters[p])),!0):!1})(r,t):void pt(19439)}function wE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(r):"Filter"}class H2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class G2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=RE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class F2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=RE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function RE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class Q2 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Oo(i.arrayValue,this.value)}}class K2 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class Y2 extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class X2 extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class $2{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function _v(r,t=null,i=[],a=[],o=null,c=null,d=null){return new $2(r,t,i,a,o,c,d)}function Nm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!B2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!AE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yv(r.startAt,t.startAt)&&yv(r.endAt,t.endAt)}function tm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function J2(r,t,i,a,o,c,d,p){return new fh(r,t,i,a,o,c,d,p)}function Dm(r){return new fh(r)}function vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z2(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function W2(r){return r.collectionGroup!==null}function Ao(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new Xc($e.keyField(),a))}return t.Ie}function xi(r){const t=bt(r);return t.Ee||(t.Ee=tR(t,Ao(r))),t.Ee}function tR(r,t){if(r.limitType==="F")return _v(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Xc(o.field,c)}));const i=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return _v(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function em(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return xm(xi(r),xi(t))&&r.limitType===t.limitType}function CE(r){return`${Nm(xi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>wE(o))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(xi(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const _=pv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,p,v){const _=pv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Ao(a),o))})(r,t)}function eR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=nR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function nR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?Wa(v,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const iR=new ce(mt.comparator);function us(){return iR}const NE=new ce(mt.comparator);function yo(...r){let t=NE;for(const i of r)t=t.insert(i.key,i);return t}function xE(r){let t=NE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return wo()}function DE(){return wo()}function wo(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const sR=new ce(mt.comparator),rR=new Me(mt.comparator);function Ut(...r){let t=rR;for(const i of r)t=t.add(i);return t}const aR=new Me(kt);function lR(){return aR}function Om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function OE(r){return{integerValue:""+r}}function oR(r,t){return O2(t)?OE(t):Om(r,t)}class gh{constructor(){this._=void 0}}function uR(r,t,i){return r instanceof $c?(function(o,c){const d={fields:{[gE]:{stringValue:mE},[yE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cm(c)&&(c=hh(c)),c&&(d.fields[pE]=c),{mapValue:d}})(i,t):r instanceof Mo?VE(r,t):r instanceof Vo?kE(r,t):(function(o,c){const d=ME(o,c),p=Ev(d)+Ev(o.Ae);return Zd(d)&&Zd(o.Ae)?OE(p):Om(o.serializer,p)})(r,t)}function cR(r,t,i){return r instanceof Mo?VE(r,t):r instanceof Vo?kE(r,t):i}function ME(r,t){return r instanceof Jc?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends gh{}class Mo extends gh{constructor(t){super(),this.elements=t}}function VE(r,t){const i=UE(t);for(const a of r.elements)i.some((o=>Mi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends gh{constructor(t){super(),this.elements=t}}function kE(r,t){let i=UE(t);for(const a of r.elements)i=i.filter((o=>!Mi(o,a)));return{arrayValue:{values:i}}}class Jc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ev(r){return _e(r.integerValue||r.doubleValue)}function UE(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Mo&&o instanceof Mo||a instanceof Vo&&o instanceof Vo?Za(a.elements,o.elements,Mi):a instanceof Jc&&o instanceof Jc?Mi(a.Ae,o.Ae):a instanceof $c&&o instanceof $c})(r.transform,t.transform)}class fR{constructor(t,i){this.version=t,this.transformResults=i}}class ss{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ss}static exists(t){return new ss(void 0,t)}static updateTime(t){return new ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ph{}function LE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zE(r.key,ss.none()):new Bo(r.key,r.data,ss.none());{const i=r.data,a=Bn.empty();let o=new Me($e.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Jr(r.key,a,new ii(o.toArray()),ss.none())}}function dR(r,t,i){r instanceof Bo?(function(o,c,d){const p=o.value.clone(),v=bv(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Jr?(function(o,c,d){if(!Vc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=bv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(PE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Bo?(function(c,d,p,v){if(!Vc(c.precondition,d))return p;const _=c.value.clone(),b=Sv(c.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Jr?(function(c,d,p,v){if(!Vc(c.precondition,d))return p;const _=Sv(c.fieldTransforms,v,d),b=d.data;return b.setAll(PE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function mR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=ME(a.transform,o||null);c!=null&&(i===null&&(i=Bn.empty()),i.set(a.field,c))}return i||null}function Tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>hR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bo extends ph{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends ph{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function bv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,cR(d,p,i[o]))}return a}function Sv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,uR(c,d,t))}return a}class zE extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&dR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=DE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=LE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>Tv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>Tv(i,a)))}}class Mm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return sR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Mm(t,i,a,o)}}class yR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _R{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,zt;function vR(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function jE(r){if(r===void 0)return os("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ie.OK:return Z.OK;case Ie.CANCELLED:return Z.CANCELLED;case Ie.UNKNOWN:return Z.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Z.INTERNAL;case Ie.UNAVAILABLE:return Z.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Z.NOT_FOUND;case Ie.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ie.ABORTED:return Z.ABORTED;case Ie.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ie.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function ER(){return new TextEncoder}const TR=new er([4294967295,4294967295],0);function Av(r){const t=ER().encode(r),i=new eE;return i.update(t),new Uint8Array(i.digest())}function wv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([i,a],0),new er([o,c],0)]}class Vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=er.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(er.fromNumber(a)));return o.compare(TR)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Av(t),[a,o]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Vm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Av(t),[a,o]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(Et.min(),o,new ce(kt),us(),Ut())}}class qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new qo(a,i,Ut(),Ut(),Ut())}}class kc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class BE{constructor(t,i){this.targetId=t,this.Ce=i}}class qE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Rv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Cv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.He=Ac(),this.Je=Ac(),this.Ze=new ce(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(tm(c))if(a===0){const d=new mt(c.path);this.et(i,d,en.newNoDocument(d,Et.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=ar(a).toUint8Array()}catch(v){if(v instanceof dE)return Kr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Vm(d,o,c)}catch(v){return Kr(v instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tm(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,en.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new yh(t,i,this.Ze,this.je,a);return this.je=us(),this.He=Ac(),this.Je=Ac(),this.Ze=new ce(kt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Rv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new ce(mt.comparator)}function Cv(){return new ce(mt.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wR={and:"AND",or:"OR"};class RR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CR(r,t){return Zc(r,t.toTimestamp())}function Di(r){return Ft(!!r,49232),Et.fromTimestamp((function(i){const a=rr(i);return new ae(a.seconds,a.nanos)})(r))}function km(r,t){return im(r,t).canonicalString()}function im(r,t){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function GE(r){const t=re.fromString(r);return Ft(XE(t),10190,{key:t.toString()}),t}function sm(r,t){return km(r.databaseId,t.path)}function Ld(r,t){const i=GE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(QE(i))}function FE(r,t){return km(r.databaseId,t)}function IR(r){const t=GE(r);return t.length===4?re.emptyPath():QE(t)}function rm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iv(r,t,i){return{name:sm(r,t),fields:i.value.mapValue.fields}}function NR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:jE(_.code);return new ct(b,_.message||"")})(d);i=new qE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ld(r,a.document.name),c=Di(a.document.updateTime),d=a.document.createTime?Di(a.document.createTime):Et.min(),p=new Bn({mapValue:{fields:a.document.fields}}),v=en.newFoundDocument(o,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new kc(_,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Ld(r,a.document),c=a.readTime?Di(a.readTime):Et.min(),d=en.newNoDocument(o,c),p=a.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Ld(r,a.document),c=a.removedTargetIds||[];i=new kc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new _R(o,c),p=a.targetId;i=new BE(p,d)}}return i}function xR(r,t){let i;if(t instanceof Bo)i={update:Iv(r,t.key,t.value)};else if(t instanceof zE)i={delete:sm(r,t.key)};else if(t instanceof Jr)i={update:Iv(r,t.key,t.data),updateMask:zR(t.fieldMask)};else{if(!(t instanceof gR))return pt(16599,{dt:t.type});i={verify:sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:CR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function DR(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Di(o.updateTime):Di(c);return d.isEqual(Et.min())&&(d=Di(c)),new fR(d,o.transformResults||[])})(i,t)))):[]}function OR(r,t){return{documents:[FE(r,t.path)]}}function MR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=FE(r,o);const c=(function(_){if(_.length!==0)return YE(Vi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:qa(M.field),direction:UR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function VR(r){let t=IR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const M=KE(w);return M instanceof Vi&&SE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(et){return new Xc(Ha(et.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,ch(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,G=w.values||[];return new Yc(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new Yc(G,M)})(i.endAt)),J2(t,o,d,c,p,"F",v,_)}function kR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((a=>KE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function UR(r){return SR[r]}function LR(r){return AR[r]}function PR(r){return wR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return $e.fromServerFormat(r.fieldPath)}function YE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(gv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(mv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(mv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:LR(i.op),value:i.value}}})(r):r instanceof Vi?(function(i){const a=i.getFilters().map((o=>YE(o)));return a.length===1?a[0]:{compositeFilter:{op:PR(i.op),filters:a}}})(r):pt(54877,{filter:r})}function zR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function XE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function $E(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class $s{constructor(t,i,a,o,c=Et.min(),d=Et.min(),p=Je.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jR{constructor(t){this.yt=t}}function BR(r){const t=VR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?em(t,t.limit,"L"):t}class qR{constructor(){this.Sn=new HR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(sr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class HR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(re.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(re.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(JE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class el{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const xv="LruGarbageCollector",GR=1048576;function Dv([r,t],[i,a]){const o=kt(r,i);return o===0?kt(t,a):o}class FR{constructor(t){this.Pr=t,this.buffer=new Me(Dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?at(xv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class KR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(uh.ce);const a=new FR(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,v,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),ja()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function YR(r,t){return new KR(r,t)}class XR{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class JR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,ii.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=us();const d=wo(),p=(function(){return wo()})();return i.forEach(((v,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Jr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ro(b.mutation,_,b.mutation.getFieldMask(),ae.now())):d.set(_.key,ii.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new $R(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wo();let o=new ce(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=a.get(v)||ii.empty();b=p.applyToLocalView(_,b),a.set(v,b);const w=(o.get(p.batchId)||Ut()).add(v);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,w=DE();b.forEach((M=>{if(!c.has(M)){const G=LE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return Z2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):W2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(jr());let p=No,v=c;return d.next((_=>J.forEach(_,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,Ut()))).next((b=>({batchId:p,changes:xE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(v=>{const _=(function(w,M){return new fh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((b=>{b.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,en.newInvalidDocument(b)))}));let p=yo();return d.forEach(((v,_)=>{const b=c.get(v);b!==void 0&&Ro(b.mutation,_,ii.empty(),ae.now()),mh(i,_)&&(p=p.insert(v,_))})),p}))}}class ZR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:BR(o.bundledQuery),readTime:Di(o.readTime)}})(i)),J.resolve()}}class WR{constructor(){this.overlays=new ce(mt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ce(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=jr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return J.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class tC{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Um{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new re([])),a=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new re([])),a=new Pe(i,t),o=new Pe(i,t+1);let c=Ut();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class eC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Rm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(kt);return i.forEach((o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new mt(c),0);let p=new Me(kt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new Pe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nC{constructor(t){this.ti=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=us();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||I2(C2(b),a)<=0||(o.has(b.key)||mh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iC(this)}getSize(t){return J.resolve(this.size)}}class iC extends XR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class sC{constructor(t){this.persistence=t,this.ri=new $r((i=>Nm(i)),xm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Um,this.targetCount=0,this.oi=el._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class ZE{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new tC,this.referenceDelegate=t(this),this.li=new sC(this),this.indexManager=new qR,this.remoteDocumentCache=(function(o){return new nC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new jR(i),this.Pi=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new WR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new eC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new rC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class rC extends x2{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new Um,this.Ai=null}static Vi(t){return new Lm(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=mt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.fi=new $r((a=>M2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=YR(this,i)}static Vi(t,i){return new Wc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=Ut(),o=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Pm(t,i.fromCache,a,o)}}class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qb()?8:D2(nn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(ja()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(ja()<=Vt.DEBUG&&at("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ja()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(i))):J.resolve())}gs(t,i){if(vv(i))return J.resolve(null);let a=xi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=em(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,em(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,o){return vv(i)||o.isEqual(Et.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(ja()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.Ds(t,d,i,R2(o,No)).next((p=>p)))}))}bs(t,i){let a=new Me(IE(t));return i.forEach(((o,c)=>{mh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return ja()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.fs.getDocumentsMatchingQuery(t,i,sr.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const zm="LocalStore",oC=3e8;class uC{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ce(kt),this.Fs=new $r((c=>Nm(c)),xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function cC(r,t,i,a){return new uC(r,t,i,a)}async function WE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ut();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function hC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const w=_.batch,M=w.keys();let G=J.resolve();return M.forEach((et=>{G=G.next((()=>b.getEntry(v,et))).next((tt=>{const it=_.docVersions.get(et);Ft(it!==null,48541),tt.version.compareTo(it)<0&&(w.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),b.addEntry(tt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function tT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function fC(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((b,w)=>{const M=o.get(w);if(!M)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),o=o.insert(w,G),(function(tt,it,dt){return tt.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=oC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,G,b)&&p.push(i.li.updateTargetData(c,G))}));let v=us(),_=Ut();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(dC(c,d,t.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!a.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=o,c)))}function dC(r,t,i){let a=Ut(),o=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=us();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):at(zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function mC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function gC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new $s(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function am(r,t,i){const a=bt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;at(zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Ov(r,t,i){const a=bt(r);let o=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const w=bt(v),M=w.Fs.get(b);return M!==void 0?J.resolve(w.vs.get(M)):w.li.getTargetData(_,b)})(a,d,xi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Ut()))).next((p=>(pC(a,eR(t),p),{documents:p,ks:c})))))}function pC(r,t,i){let a=r.Ms.get(t)||Et.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Mv{constructor(){this.activeTargetIds=lR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yC{constructor(){this.vo=new Mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _C{Mo(t){}shutdown(){}}const Vv="ConnectivityMonitor";class kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Vv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function lm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Pd="RestConnection",vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class EC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=lm(),p=this.Qo(t,i.toUriEncodedString());at(Pd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:_}=new URL(p),b=il(_);return this.zo(t,p,v,a,b).then((w=>(at(Pd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Kr(Pd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=vC[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class TC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const We="WebChannelConnection",go=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ya extends EC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=rE();go(t,sE.STAT_EVENT,(i=>{i.stat===Xd.PROXY?at(We,"STAT_EVENT: detected buffering proxy"):i.stat===Xd.NOPROXY&&at(We,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,o,c){const d=lm();return new Promise(((p,v)=>{const _=new nE;_.setWithCredentials(!0),_.listenOnce(iE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Dc.NO_ERROR:const w=_.getResponseJson();at(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Dc.TIMEOUT:at(We,`RPC '${t}' ${d} timed out`),v(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const M=_.getStatus();if(at(We,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const et=G?.error;if(et&&et.status&&et.message){const tt=(function(dt){const St=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(St)>=0?St:Z.UNKNOWN})(et.status);v(new ct(tt,et.message))}else v(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(We,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);at(We,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=lm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");at(We,`Creating RPC '${t}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let w=!1,M=!1;const G=new TC({Ho:et=>{M?at(We,`Not sending because RPC '${t}' stream ${o} is closed:`,et):(w||(at(We,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),at(We,`RPC '${t}' stream ${o} sending:`,et),b.send(et))},Jo:()=>b.close()});return go(b,po.EventType.OPEN,(()=>{M||(at(We,`RPC '${t}' stream ${o} transport opened.`),G.i_())})),go(b,po.EventType.CLOSE,(()=>{M||(M=!0,at(We,`RPC '${t}' stream ${o} transport closed`),G.o_(),this.E_(b))})),go(b,po.EventType.ERROR,(et=>{M||(M=!0,Kr(We,`RPC '${t}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),G.o_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),go(b,po.EventType.MESSAGE,(et=>{if(!M){const tt=et.data[0];Ft(!!tt,16349);const it=tt,dt=it?.error||it[0]?.error;if(dt){at(We,`RPC '${t}' stream ${o} received error:`,dt);const St=dt.status;let _t=(function(Nt){const I=Ie[Nt];if(I!==void 0)return jE(I)})(St),qt=dt.message;St==="NOT_FOUND"&&qt.includes("database")&&qt.includes("does not exist")&&qt.includes(this.databaseId.database)&&Kr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_t===void 0&&(_t=Z.INTERNAL,qt="Unknown error status: "+St+" with message "+dt.message),M=!0,G.o_(new ct(_t,qt)),b.close()}else at(We,`RPC '${t}' stream ${o} received:`,tt),G.__(tt)}})),Ya.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aE()}}function bC(r){return new Ya(r)}function zd(){return typeof document<"u"?document:null}function _h(r){return new RR(r,!0)}Ya.c_=!1;class eT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class nT{constructor(t,i,a,o,c,d,p,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends nT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=NR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Di(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=tm(v)?{documents:OR(c,v)}:{query:MR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HE(c,d.resumeToken);const _=nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Zc(c,d.snapshotVersion.toTimestamp());const _=nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=kR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.K_(i)}}class AC extends nT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=DR(t.writeResults,t.commitTime),a=Di(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=rm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xR(this.serializer,a)))};this.K_(i)}}class wC{}class RC extends wC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,im(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,im(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function CC(r,t,i,a){return new RC(r,t,i,a)}class IC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class NC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(at(Yr,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await Ho(_),_.Va.set("Unknown"),_.Ea.delete(4),await vh(_)})(this))}))})),this.Va=new IC(a,o)}}async function vh(r){if(Zr(r))for(const t of r.Ra)await t(!0)}async function Ho(r){for(const t of r.Ra)await t(!1)}function iT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Hm(i)?qm(i):ul(i).O_()&&Bm(i,t))}function jm(r,t){const i=bt(r),a=ul(i);i.Ia.delete(t),a.O_()&&sT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Va.set("Unknown"))}function Bm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Z_(t)}function sT(r,t){r.da.$e(t),ul(r).X_(t)}function qm(r){r.da=new bR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Va.ua()}function Hm(r){return Zr(r)&&!ul(r).x_()&&r.Ia.size>0}function Zr(r){return bt(r).Ea.size===0}function rT(r){r.da=void 0}async function xC(r){r.Va.set("Online")}async function DC(r){r.Ia.forEach(((t,i)=>{Bm(r,t)}))}async function OC(r,t){rT(r),Hm(r)?(r.Va.ha(t),qm(r)):r.Va.set("Unknown")}async function MC(r,t,i){if(r.Va.set("Online"),t instanceof qE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(a){at(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(r,a)}else if(t instanceof kc?r.da.Xe(t):t instanceof BE?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const a=await tT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),sT(c,v);const w=new $s(b.target,v,_,b.sequenceNumber);Bm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Yr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await Ho(r),r.Va.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Yr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vh(r)}))}function aT(r,t){return t().catch((i=>th(r,i,t)))}async function Eh(r){const t=bt(r),i=or(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;VC(t);)try{const o=await mC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,kC(t,o)}catch(o){await th(t,o)}lT(t)&&oT(t)}function VC(r){return Zr(r)&&r.Ta.length<10}function kC(r,t){r.Ta.push(t);const i=or(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function lT(r){return Zr(r)&&!or(r).x_()&&r.Ta.length>0}function oT(r){or(r).start()}async function UC(r){or(r).ra()}async function LC(r){const t=or(r);for(const i of r.Ta)t.ea(i.mutations)}async function PC(r,t,i){const a=r.Ta.shift(),o=Mm.from(a,t,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Eh(r)}async function zC(r,t){t&&or(r).Y_&&await(async function(a,o){if((function(d){return vR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();or(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(a)}})(r,t),lT(r)&&oT(r)}async function Lv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at(Yr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Ho(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function jC(r,t){const i=bt(r);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Ho(i),i.Va.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:xC.bind(null,r),Yo:DC.bind(null,r),t_:OC.bind(null,r),J_:MC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Hm(r)?qm(r):r.Va.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new AC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UC.bind(null,r),t_:zC.bind(null,r),ta:LC.bind(null,r),na:PC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Yr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Gm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(os("AsyncQueue",`${t}: ${r}`),ol(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Pv{constructor(){this.ga=new ce(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Xa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qC{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=zv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function zv(){return new $r((r=>CE(r)),dh)}async function HC(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new BC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Fm(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Qm(i)}async function GC(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function FC(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Qm(i)}function QC(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Qm(r){r.Ca.forEach((t=>{t.next()}))}var om,jv;(jv=om||(om={})).Ma="default",jv.Cache="cache";class KC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class uT{constructor(t){this.key=t}}class cT{constructor(t){this.key=t}}class YC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=IE(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Pv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,w)=>{const M=o.get(b),G=mh(this.query,w)?w:null,et=!!M&&this.mutatedKeys.has(M.key),tt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let it=!1;M&&G?M.data.isEqual(G.data)?et!==tt&&(a.track({type:3,doc:G}),it=!0):this.su(M,G)||(a.track({type:2,doc:G}),it=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),it=!0):M&&!G&&(a.track({type:1,doc:M}),it=!0,(v||_)&&(p=!0)),it&&(G?(d=d.add(G),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(G,et){const tt=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:it})}};return tt(G)-tt(et)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new cT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new uT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Km="SyncEngine";class XC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $C{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((p=>CE(p)),dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(mt.comparator),this.Au=new Map,this.Vu=new Um,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,t,i=!0){const a=pT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await hT(a,t,i,!0),o}async function WC(r,t){const i=pT(r);await hT(i,t,!0,!1)}async function hT(r,t,i,a){const o=await gC(r.localStore,xi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,o),p}async function tI(r,t,i,a,o){r.pu=(w,M,G)=>(async function(tt,it,dt,St){let _t=it.view.ru(dt);_t.Ss&&(_t=await Ov(tt.localStore,it.query,!1).then((({documents:I})=>it.view.ru(I,_t))));const qt=St&&St.targetChanges.get(it.targetId),le=St&&St.targetMismatches.get(it.targetId)!=null,Nt=it.view.applyChanges(_t,tt.isPrimaryClient,qt,le);return qv(tt,it.targetId,Nt.au),Nt.snapshot})(r,w,M,G);const c=await Ov(r.localStore,t,!0),d=new YC(t,c.ks),p=d.ru(c.documents),v=qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);qv(r,i,_.au);const b=new XC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function eI(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await am(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&jm(a.remoteStore,o.targetId),um(a,o.targetId)})).catch(ll)):(um(a,o.targetId),await am(a.localStore,o.targetId,!0))}async function nI(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jm(i.remoteStore,a.targetId))}async function iI(r,t,i){const a=cI(r);try{const o=await(function(d,p){const v=bt(d),_=ae.now(),b=p.reduce(((G,et)=>G.add(et.key)),Ut());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let et=us(),tt=Ut();return v.xs.getEntries(G,b).next((it=>{et=it,et.forEach(((dt,St)=>{St.isValidDocument()||(tt=tt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,et))).next((it=>{w=it;const dt=[];for(const St of p){const _t=mR(St,w.get(St.key).overlayedDocument);_t!=null&&dt.push(new Jr(St.key,_t,EE(_t.value.mapValue),ss.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,dt,p)})).next((it=>{M=it;const dt=it.applyToLocalDocumentSet(w,tt);return v.documentOverlayCache.saveOverlays(G,it.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:xE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new ce(kt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await Go(a,o.changes),await Eh(a.remoteStore)}catch(o){const c=Fm(o,"Failed to persist write");i.reject(c)}}async function fT(r,t){const i=bt(r);try{const a=await fC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Go(i,a,t)}catch(a){await ll(a)}}function Bv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=bt(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,w)=>{for(const M of w.ba)M.va(p)&&(_=!0)})),_&&Qm(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ce(mt.comparator);d=d.insert(c,en.newNoDocument(c,Et.min()));const p=Ut().add(c),v=new yh(Et.min(),new Map,new ce(kt),d,p);await fT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Ym(a)}else await am(a.localStore,t,!1).then((()=>um(a,t,i))).catch(ll)}async function rI(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await hC(i.localStore,t);mT(i,a,null),dT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Go(i,o)}catch(o){await ll(o)}}async function aI(r,t,i){const a=bt(r);try{const o=await(function(d,p){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>(Ft(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);mT(a,t,i),dT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Go(a,o)}catch(o){await ll(o)}}function dT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function mT(r,t,i){const a=bt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function um(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||gT(r,a)}))}function gT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(jm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Ym(r))}function qv(r,t,i){for(const a of i)a instanceof uT?(r.Vu.addReference(a.key,t),lI(r,a)):a instanceof cT?(at(Km,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||gT(r,a.key)):pt(19791,{wu:a})}function lI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(at(Km,"New document in limbo: "+i),r.Eu.add(a),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new $C(i)),r.Ru=r.Ru.insert(i,a),iT(r.remoteStore,new $s(xi(Dm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Go(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Pm.Es(v.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,_){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(M=>J.forEach(M.Ts,(G=>b.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>J.forEach(M.Is,(G=>b.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!ol(w))throw w;at(zm,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=b.vs.get(M),et=G.snapshotVersion,tt=G.withLastLimboFreeSnapshotVersion(et);b.vs=b.vs.insert(M,tt)}}})(a.localStore,c))}async function oI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){at(Km,"User change. New user:",t.toKey());const a=await WE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Go(i,a.Ns)}}function uI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function pT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Pu.J_=FC.bind(null,t.eventManager),t.Pu.yu=QC.bind(null,t.eventManager),t}function cI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new ZE(Lm.Vi,this.serializer)}Du(t){return new yC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class hI extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new QR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new ZE((a=>Wc.Vi(a,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await jC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qC})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=bC(t.databaseInfo);return CC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new NC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Bv(this.syncEngine,i,0)),(function(){return kv.v()?new kv:new _C})())}createSyncEngine(t,i){return(function(o,c,d,p,v,_,b){const w=new JC(o,c,d,p,v,_);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);at(Yr,"RemoteStore shutting down."),a.Ea.add(5),await Ho(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class fI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class dI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),at(ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await WE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Hv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mI(r);at(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Lv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Lv(t.remoteStore,o))),r._onlineComponents=t}async function mI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ur,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Kr("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new eh)}}else at(ur,"Using default OfflineComponentProvider"),await jd(r,new hI(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ur,"Using user provided OnlineComponentProvider"),await Hv(r,r._uninitializedComponentsProvider._online)):(at(ur,"Using default OnlineComponentProvider"),await Hv(r,new cm))),r._onlineComponents}function gI(r){return yT(r).then((t=>t.syncEngine))}async function Gv(r){const t=await yT(r),i=t.eventManager;return i.onListen=ZC.bind(null,t.syncEngine),i.onUnlisten=eI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nI.bind(null,t.syncEngine),i}function pI(r,t,i,a){const o=new fI(a),c=new KC(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>HC(await Gv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>GC(await Gv(r),c)))}}function yI(r,t){const i=new Br;return r.asyncQueue.enqueueAndForget((async()=>iI(await gI(r),t,i))),i.promise}function _T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const _I="ComponentProvider",Fv=new Map;function vI(r,t,i,a,o){return new U2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_T(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const vT="firestore.googleapis.com",Qv=!0;class Kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=Qv}else this.host=t.host,this.ssl=t.ssl??Qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GR)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g2;switch(a.type){case"firstParty":return new v2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Fv.get(i);a&&(at(_I,"Removing Datastore"),Fv.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=bo(r,Th);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(g0(`https://${p}`),p0("Firestore",!0)),c.host!==vT&&c.host!==p&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Hr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=tn.MOCK_USER;else{_=Mb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(w)}r._authCredentials=new p2(new oE(_,b))}}class bh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jo(i,ze._jsonSchema))return new ze(t,a||null,new mt(re.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ne("string",ze._jsonSchemaVersion),referencePath:Ne("string")};class nr extends bh{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new mt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function Yv(r,t,...i){if(r=Cn(r),uE("collection","path",t),r instanceof Th){const a=re.fromString(t,...i);return av(a),new nr(r,null,a)}{if(!(r instanceof ze||r instanceof nr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return av(a),new nr(r.firestore,null,a)}}function TI(r,t,...i){if(r=Cn(r),arguments.length===1&&(t=Am.newId()),uE("doc","path",t),r instanceof Th){const a=re.fromString(t,...i);return rv(a),new ze(r,null,new mt(a))}{if(!(r instanceof ze||r instanceof nr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return rv(a),new ze(r.firestore,r instanceof nr?r.converter:null,new mt(a))}}const Xv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&at(Xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;at(Xv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",Jv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Gm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Jv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class nh extends Th{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new $v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function bI(r,t){const i=typeof r=="object"?r:E0(),a=typeof r=="string"?r:Qc,o=gm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Db("firestore");c&&EI(o,...c)}return o}function ET(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const t=r._freezeSettings(),i=vI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Je.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ne("string",qn._jsonSchemaVersion),bytes:Ne("string")};class TT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bT{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(jo(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new si(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Ne("string",si._jsonSchemaVersion),vectorValues:Ne("object")};const AI=/^__.*__$/;class wI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(t,this.data,i,this.fieldTransforms)}}function ST(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class Xm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ih(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(ST(this.dataSource)&&AI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class RI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}createContext(t,i,a,o=!1){return new Xm({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CI(r){const t=r._freezeSettings(),i=_h(r._databaseId);return new RI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function II(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);CT("Data must be an object, but it was:",d,a);const p=wT(a,d);let v,_;if(c.merge)v=new ii(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const M=$m(t,w,i);if(!d.contains(M))throw new ct(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);DI(b,M)||b.push(M)}v=new ii(b),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new wI(new Bn(p),v,_)}function AT(r,t){if(RT(r=Cn(r)))return CT("Unsupported field value:",t,r),wT(r,t);if(r instanceof bT)return(function(a,o){if(!ST(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=AT(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:Zc(o.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(o.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:HE(o.serializer,a._byteString)};if(a instanceof ze){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof si)return(function(d,p){const v=d instanceof si?d.toArray():d;return{mapValue:{fields:{[_E]:{stringValue:vE},[Kc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Om(p.serializer,b)}))}}}}}})(a,o);if($E(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wm(a)}`)})(r,t)}function wT(r,t){const i={};return fE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(r,((a,o)=>{const c=AT(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function RT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Oi||r instanceof qn||r instanceof ze||r instanceof bT||r instanceof si||$E(r))}function CT(r,t,i){if(!RT(i)||!cE(i)){const a=wm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function $m(r,t,i){if((t=Cn(t))instanceof TT)return t._internalPath;if(typeof t=="string")return xI(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function xI(r,t,i){if(t.search(NI)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new TT(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct(Z.INVALID_ARGUMENT,p+r+v)}function DI(r,t){return r.some((i=>i.isEqual(t)))}class OI{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Xr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new si(i)}convertGeoPoint(t){return new Oi(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=rr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Ft(XE(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class IT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}const Zv="@firebase/firestore",Wv="4.11.0";function t0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class NT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field($m("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends NT{data(){return super.data()}}function VI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function kI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends NT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($m("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ne("string",qr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Uc extends qr{data(t={}){return super.data(t)}}class $a{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:UI(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ne("string",$a._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function LI(r,t){const i=bo(r.firestore,nh),a=TI(r),o=kI(r.converter,t),c=CI(r.firestore);return zI(i,[II(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ss.exists(!1))]).then((()=>a))}function PI(r,...t){r=Cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||t0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof ze)d=bo(r.firestore,nh),p=Dm(r._key.path),c={next:_=>{t[a]&&t[a](jI(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=bo(r,bh);d=bo(_.firestore,nh),p=_._query;const b=new IT(d);c={next:w=>{t[a]&&t[a](new $a(d,b,_,w))},error:t[a+1],complete:t[a+2]},VI(r._query)}const v=ET(d);return pI(v,p,o,c)}function zI(r,t){const i=ET(r);return yI(i,t)}function jI(r,t,i){const a=i.docs.get(t._key),o=new IT(r);return new qr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){m2(sl),Ja(new Gr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new nh(new y2(a.getProvider("auth-internal")),new E2(d,a.getProvider("app-check-internal")),L2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(Zv,Wv,t),Ws(Zv,Wv,"esm2020")})();const xT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const BI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const e0=r=>{const t=qI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const FI=de.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>de.createElement("svg",{ref:v,...HI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:xT("lucide",o),...!c&&!GI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>de.createElement(_,b)),...Array.isArray(c)?c:[c]]));const je=(r,t)=>{const i=de.forwardRef(({className:a,...o},c)=>de.createElement(FI,{ref:c,iconNode:t,className:xT(`lucide-${BI(e0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=e0(r),i};const QI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],KI=je("book-open",QI);const YI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XI=je("calendar",YI);const $I=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JI=je("check",$I);const ZI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n0=je("chevron-left",ZI);const WI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tN=je("chevron-right",WI);const eN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DT=je("circle-check-big",eN);const nN=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],iN=je("eraser",nN);const sN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],rN=je("heart",sN);const aN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lN=je("history",aN);const oN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],uN=je("pen-tool",oN);const cN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],i0=je("pencil",cN);const hN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fN=je("rotate-ccw",hN);const dN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],mN=je("school",dN);const gN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pN=je("sparkles",gN);const yN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_N=je("sun",yN);const vN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],EN=je("trophy",vN);const TN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],hm=je("volume-2",TN);const bN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OT=je("x",bN),MT=JSON.parse('{"apiKey":"dummy-api-key","authDomain":"dummy-auth-domain","projectId":"dummy-project-id","storageBucket":"dummy-storage-bucket","messagingSenderId":"dummy-sender-id","appId":"dummy-app-id"}'),Rc=MT.apiKey==="dummy-api-key",VT=v0(MT),s0=a2(VT),r0=bI(VT),a0="school-diary-app",l0="AIzaSyCk1_X6dzHwKltSrr7PtY6vyk61G5Lf51A",Le=[{id:"when",label:"",suggestions:[{label:"",icon:B.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:B.jsx(_N,{className:"text-orange-500",size:40})})},{label:"",icon:B.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:B.jsx("div",{className:"text-blue-400 text-4xl",children:""})})}]},{id:"what",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"what_detail",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"friend_names",label:" ",subLabel:"4 ",suggestions:[{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""}]},{id:"who",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"feeling",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]}],Fs={:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:" ",text:" "},{label:"",text:" "},{label:"",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:"  "},{label:"",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:" "},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "},{label:"  ",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]}},SN=({text:r,onCancel:t,onSpeak:i,onSave:a})=>{const o=de.useRef(null),[c,d]=de.useState(!1);de.useEffect(()=>{const G=o.current;if(!G)return;const et=G.getContext("2d"),tt=()=>{const it=G.parentElement.getBoundingClientRect();G.width=it.width,G.height=it.height,et.lineCap="round",et.lineWidth=6,et.strokeStyle="#2563eb"};return window.addEventListener("resize",tt),tt(),()=>window.removeEventListener("resize",tt)},[]);const p=G=>{const tt=o.current.getBoundingClientRect(),it=G.touches?G.touches[0].clientX:G.clientX,dt=G.touches?G.touches[0].clientY:G.clientY;return{x:it-tt.left,y:dt-tt.top}},v=G=>{d(!0);const et=p(G),tt=o.current.getContext("2d");tt.beginPath(),tt.moveTo(et.x,et.y)},_=G=>{if(!c)return;const et=p(G),tt=o.current.getContext("2d");tt.lineTo(et.x,et.y),tt.stroke()},b=()=>d(!1),w=()=>{o.current.getContext("2d").clearRect(0,0,o.current.width,o.current.height)},M=()=>{const G=o.current.toDataURL("image/png");a(G)};return B.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-50 flex flex-col animate-in fade-in duration-300 overflow-hidden",children:[B.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-white border-b border-slate-100 shadow-sm",children:[B.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full flex items-center justify-center text-slate-300 active:scale-90",children:B.jsx(OT,{size:32})}),B.jsx("h2",{className:"text-xl font-black text-slate-800",children:""}),B.jsx("button",{onClick:i,className:"w-12 h-12 bg-blue-600 rounded-full shadow-lg flex items-center justify-center text-white active:scale-90",children:B.jsx(hm,{size:24})})]}),B.jsx("div",{className:"flex-1 p-4 md:p-8 flex justify-center items-center",children:B.jsxs("div",{className:"w-full h-full max-w-5xl bg-white rounded-[2.5rem] shadow-xl border-[6px] border-blue-50 relative overflow-hidden flex flex-row-reverse p-10",children:[B.jsx("div",{className:"absolute inset-0 p-10 flex flex-row-reverse justify-start select-none pointer-events-none z-0",style:{writingMode:"vertical-rl",textOrientation:"upright"},children:B.jsx("p",{className:"text-[5.2vh] font-black text-slate-100 leading-[1.9] tracking-[0.18em] whitespace-pre-wrap",children:r})}),B.jsx("canvas",{ref:o,onMouseDown:v,onMouseMove:_,onMouseUp:b,onMouseLeave:b,onTouchStart:v,onTouchMove:_,onTouchEnd:b,className:"absolute inset-0 w-full h-full touch-none cursor-crosshair z-10"}),B.jsx("div",{className:"absolute inset-4 border-2 border-dashed border-blue-100 rounded-[2rem] pointer-events-none opacity-40 z-0"})]})}),B.jsxs("div",{className:"bg-white px-8 py-6 border-t border-slate-100 flex gap-4",children:[B.jsxs("button",{onClick:w,className:"flex-1 h-16 bg-slate-50 text-slate-400 rounded-2xl font-black text-lg flex items-center justify-center gap-3 active:scale-95",children:[B.jsx(iN,{size:24})," "]}),B.jsxs("button",{onClick:M,className:"flex-1 h-16 bg-blue-600 text-white rounded-2xl font-black text-xl flex items-center justify-center gap-3 active:scale-95 shadow-lg shadow-blue-200",children:[B.jsx(DT,{size:24})," "]})]})]})},AN=({className:r})=>B.jsx("div",{className:`${r} rotate-[12deg] origin-center w-max select-none pointer-events-none`,children:B.jsx("div",{className:"inline-flex items-center justify-center px-4 py-1.5 rounded-full border-[3px] border-rose-500 bg-white shadow-sm",children:B.jsx("span",{className:"text-rose-500 font-black text-sm tracking-[0.1em] whitespace-nowrap",children:""})})});function wN(){const[r,t]=de.useState(null),[i,a]=de.useState("home"),[o,c]=de.useState(0),[d,p]=de.useState({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),[v,_]=de.useState(!1),[b,w]=de.useState(""),[M,G]=de.useState(null),[et,tt]=de.useState(""),[it,dt]=de.useState([]),[St,_t]=de.useState(!1);de.useEffect(()=>{const X=()=>speechSynthesis.getVoices();return speechSynthesis.onvoiceschanged=X,X(),()=>{speechSynthesis.onvoiceschanged=null}},[]);const qt=()=>{const X=speechSynthesis.getVoices();return X.find(S=>S.lang==="ja-JP"&&S.name.includes("Google"))||X.find(S=>S.lang==="ja-JP"&&S.name.includes("Kyoko"))||X.find(S=>S.lang==="ja-JP"&&S.name.includes("O-Ren"))||X.find(S=>S.lang==="ja-JP")},le=()=>{R(b)},Nt=new Date,I=`${Nt.getMonth()+1} ${Nt.getDate()}`,A=["","","","","","",""][Nt.getDay()];de.useEffect(()=>{(async()=>await HA(s0))();const S=XA(s0,t);return()=>S()},[]),de.useEffect(()=>{if(r)if(Rc){const X=()=>{const S=localStorage.getItem("school_diary_entries");if(S)try{const U=JSON.parse(S);dt(U.sort((K,W)=>W.timestamp-K.timestamp))}catch(U){console.error("Failed to parse local entries",U)}};return X(),window.addEventListener("storage",X),()=>window.removeEventListener("storage",X)}else{const X=Yv(r0,"artifacts",a0,"users",r.uid,"diary_entries"),S=PI(X,U=>{const K=U.docs.map(W=>({id:W.id,...W.data()}));dt(K.sort((W,rt)=>rt.timestamp-W.timestamp))},U=>console.error("Firestore Error:",U));return()=>S()}},[r]);const N=(X,S)=>{const U=new ArrayBuffer(44+X.length),K=new DataView(U),W=(rt,ut)=>{for(let yt=0;yt<ut.length;yt++)K.setUint8(rt+yt,ut.charCodeAt(yt))};return W(0,"RIFF"),K.setUint32(4,36+X.length,!0),W(8,"WAVE"),W(12,"fmt "),K.setUint32(16,16,!0),K.setUint16(20,1,!0),K.setUint16(22,1,!0),K.setUint32(24,S,!0),K.setUint32(28,S*2,!0),K.setUint16(32,2,!0),K.setUint16(34,16,!0),W(36,"data"),K.setUint32(40,X.length,!0),new Uint8Array(U,44).set(new Uint8Array(X)),new Blob([U],{type:"audio/wav"})},O=d.what&&Fs[d.what],x=X=>{const{when:S,what:U,what_detail:K,friend_names:W,who:rt,feeling:ut}=X;let yt=S;if(Fs[U]){const ki=Fs[U],Ui=ki.steps[0].options.find(ln=>ln.label===K),pn=ki.steps[1].options.find(ln=>ln.label===ut),ri=Ui?Ui.text:K;let yn=pn?pn.text:ut;if(U===""&&K===" "&&ut===""&&(yn=" "),U==="")return`${S} ${U}${ri} ${yn}`;if(U===""){let ln=ri;return ln.includes("")||(ln=`${ln} `),`${S}  ${ln} ${yn}`}else return U===""?`${S}${ri} ${yn}`:`${S} ${U} ${ri} ${yn}`}let Dt="";U===""?Dt="":U===""?Dt="":U===""?Dt=" ":U===""?Dt=" ":Dt=`${U} `;let Lt="";W&&W.length>0?Lt=W.join("")+" ":rt&&rt!==""&&(Lt=rt+" ");let Kt="";K?K===""||K===""?Kt="":K.endsWith("")?Kt=K.replace(""," "):Kt=`${K} `:U===""||U===""?Kt=" ":U===""?Kt=" ":U===""?Kt=" ":U===""?Kt=" ":U===""?Kt=" ":U===""?Kt=" ":U===""?Kt="":Kt="";let Be="";return ut===""?Be=" ":ut===""?Be=" ":ut===""?Be=" ":ut===""&&(Be=" "),`${yt}${Dt}${Lt}${Kt} ${Be}`},k=async X=>{_(!0),tt(" ...");const S=X||d;try{if(Rc){await new Promise(K=>setTimeout(K,800));const U=x(S);w(U),a("result")}else{let U=S.what;S.what===""&&S.what_detail&&(U=S.what_detail);let K=S.who;S.friend_names?.length>0&&(K=S.friend_names.join(""));const W="11",rt=`=${S.when}=${S.what}=${U}=${K}=${S.feeling}`,Dt=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${l0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:rt}]}],systemInstruction:{parts:[{text:W}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||x(S);w(Dt),a("result")}}catch(U){console.error(U),w(x(S)),a("result")}finally{_(!1),tt("")}},R=async X=>{const S=X||b;if(!S)return;_(!0);const U=K=>{tt(" ...");const W=new SpeechSynthesisUtterance(K);W.lang="ja-JP",W.rate=.9,W.pitch=1;const rt=qt();rt&&(W.voice=rt),window.speechSynthesis.speak(W),_(!1),setTimeout(()=>tt(""),2e3)};try{tt("AI  ...");const K=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${l0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:S}]}],generationConfig:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})});if(!K.ok)throw new Error("API response was not ok");const rt=(await K.json()).candidates?.[0]?.content?.parts?.[0]?.inlineData;if(rt?.data){const ut=atob(rt.data),yt=new Uint8Array(ut.length);for(let Be=0;Be<ut.length;Be++)yt[Be]=ut.charCodeAt(Be);const Dt=parseInt(rt.mimeType.match(/rate=(\d+)/)?.[1]||"24000"),Lt=N(yt,Dt),Kt=new Audio(URL.createObjectURL(Lt));Kt.playbackRate=.9,Kt.play(),Kt.onended=()=>{_(!1),tt("")}}else throw new Error("No audio data in response")}catch(K){console.error("TTS API Error, falling back to native:",K),tt(": "),U(S)}},ne=async()=>{if(!(!r&&!Rc)){_(!0),tt(" ...");try{if(Rc){const X={id:d2(),date:I,timestamp:Date.now(),text:b,handwriting:M},S=JSON.parse(localStorage.getItem("school_diary_entries")||"[]"),U=[X,...S];localStorage.setItem("school_diary_entries",JSON.stringify(U)),dt(U.sort((K,W)=>W.timestamp-K.timestamp))}else await LI(Yv(r0,"artifacts",a0,"users",r.uid,"diary_entries"),{date:I,timestamp:Date.now(),text:b,handwriting:M});a("home"),G(null)}catch(X){console.error(X)}finally{_(!1)}}},Qt=X=>Le.findIndex(S=>S.id===X),F=X=>["","","","",""].includes(X),st=X=>{const S=d.friend_names||[];S.includes(X)?p({...d,friend_names:S.filter(U=>U!==X)}):S.length<4&&p({...d,friend_names:[...S,X]})},ht=()=>{if(d.what&&Fs[d.what]){const X=Fs[d.what].steps;return[Le[0],Le[1],...X]}return Le},xt=(X,S)=>{const U={...d,[X]:S};if(p(U),Fs[U.what]){const K=ht();K.findIndex(rt=>rt.id===X)<K.length-1&&(X==="when"?c(1):X==="what"?c(2):X==="what_detail"?c(3):X==="feeling"&&k(U));return}X==="when"?c(Qt("what")):X==="what"?c(Qt(S===""?"what_detail":"who")):X==="what_detail"?F(S)?c(Qt("friend_names")):c(Qt("who")):X==="who"?c(Qt("feeling")):X==="feeling"&&k(U)};return B.jsxs("div",{className:"min-h-screen bg-[#FDFCFB] text-slate-900 font-sans antialiased pb-10 overflow-x-hidden",children:[St&&B.jsx(SN,{text:b,onCancel:()=>_t(!1),onSpeak:le,onSave:X=>{G(X),_t(!1)}}),B.jsxs("nav",{className:"sticky top-0 z-20 bg-white/90 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center shadow-sm",children:[B.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a("home"),children:[B.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-[1.2rem] flex items-center justify-center text-white shadow-lg",children:B.jsx(mN,{size:24})}),B.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:""})]}),i!=="home"&&B.jsx("button",{onClick:()=>a("home"),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 active:scale-90",children:B.jsx(OT,{size:18})})]}),B.jsxs("main",{className:"max-w-xl mx-auto px-6 mt-6",children:[i==="home"&&B.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-500",children:[B.jsxs("div",{className:"bg-white rounded-[2.8rem] p-8 shadow-xl shadow-slate-200/40 border border-slate-50 flex flex-col items-center text-center relative overflow-hidden",children:[B.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 bg-orange-50 px-3 py-1 rounded-full text-orange-600 font-bold text-xs",children:[B.jsx(EN,{size:14}),B.jsxs("span",{children:["x ",it.length]})]}),B.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-500 rounded-2xl flex items-center justify-center mb-3",children:B.jsx(XI,{size:32})}),B.jsx("p",{className:"text-slate-400 font-bold text-sm mb-1",children:A}),B.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-6 tracking-tight",children:I}),B.jsxs("button",{onClick:()=>{p({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),c(0),G(null),a("step")},className:"w-full bg-orange-500 text-white rounded-[1.8rem] py-6 flex items-center justify-center gap-4 shadow-xl shadow-orange-200 active:scale-[0.98] transition-all",children:[B.jsx(uN,{size:24}),B.jsx("span",{className:"text-xl font-black",children:" "})]})]}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center px-2",children:[B.jsxs("h3",{className:"font-black text-slate-400 text-xs tracking-widest uppercase flex items-center gap-2",children:[B.jsx(lN,{size:14})," "]}),B.jsx("button",{onClick:()=>a("history"),className:"text-blue-500 text-sm font-bold",children:""})]}),B.jsxs("div",{className:"grid grid-cols-1 gap-4 pb-10",children:[it.slice(0,1).map(X=>B.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex flex-col gap-4",children:[B.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:X.text}),X.handwriting&&B.jsx("div",{className:"bg-slate-50 rounded-2xl p-2 border border-slate-100 shadow-inner",children:B.jsx("img",{src:X.handwriting,className:"w-full h-auto object-contain max-h-32"})})]},X.id)),it.length===0&&B.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-12 border-2 border-dashed border-slate-100 flex flex-col items-center gap-4 opacity-40",children:[B.jsx(KI,{size:48,className:"text-slate-200"}),B.jsxs("p",{className:"text-sm font-bold text-slate-400 text-center",children:["  ",B.jsx("br",{})," "]})]})]})]})]}),i==="step"&&B.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[B.jsxs("div",{className:"flex justify-between items-center px-2",children:[O?B.jsx("div",{className:"flex flex-col",children:B.jsxs("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:[" ",Math.max(0,4-o),""]})}):B.jsx("div",{className:"flex flex-col",children:B.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:Le[o].id==="friend_names"?`${d.friend_names?.length||0} `:` ${Le.length-o}`})}),B.jsx("div",{className:"flex gap-1.5",children:O?[0,1,2,3].map(X=>B.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${X<=o?"bg-orange-500":"bg-slate-200"}`},X)):Le.map((X,S)=>X.id==="what_detail"&&d.what!==""||X.id==="friend_names"&&!F(d.what_detail)||X.id==="who"&&d.friend_names?.length>0?null:B.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${S<=o?"bg-orange-500":"bg-slate-200"}`},S))})]}),B.jsx("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-50 min-h-[480px] flex flex-col",children:O&&o>=2?(()=>{const S=Fs[d.what].steps[o-2];return S?B.jsxs("div",{className:"flex flex-col h-full",children:[B.jsx("h2",{className:"text-3xl font-black mb-8 text-slate-800 tracking-tight",children:S.question}),B.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-1 gap-4 content-start",children:S.options.map(U=>B.jsx("button",{onClick:()=>xt(S.id,U.label),className:`
                                                            p-6 text-2xl font-bold rounded-2xl transition-all shadow-sm border-2 text-left
                                                            ${d[S.id]===U.label?"bg-blue-100 border-blue-500 text-blue-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-blue-300"}
                                                        `,children:U.label},U.label))}),B.jsx("div",{className:"mt-6 p-6 bg-orange-50/50 rounded-2xl border-2 border-dashed border-orange-100 min-h-[100px] flex items-center justify-center",children:B.jsx("p",{className:"text-xl text-slate-700 font-bold text-center leading-relaxed",children:(()=>{const U=d.what_detail||"_____",K=Fs[d.what],W=K.steps[0].options.find(Kt=>Kt.label===U),rt=K.steps[1].options.find(Kt=>Kt.label===(d.feeling||"")),ut=W?W.text:"_____";let yt=rt?rt.text:"";d.what===""&&d.what_detail===" "&&d.feeling===""&&(yt=" ");let Dt=`${d.when} ${d.what} `;d.what===""?Dt=`${d.when} ${d.what}`:d.what===""?Dt=`${d.when}${d.what}  `:d.what===""?Dt=`${d.when}`:Dt=`${d.when} ${d.what} `;let Lt=ut;return d.what===""&&!Lt.includes("")&&(Lt=`${Lt} `),B.jsxs(B.Fragment,{children:[Dt,Lt," ",yt]})})()})})]}):null})():B.jsxs(B.Fragment,{children:[B.jsx("h2",{className:"text-3xl font-black mb-8 text-slate-800 tracking-tight",children:Le[o].label}),B.jsx("div",{className:"flex-1 overflow-y-auto pr-2 pb-4 scrollbar-hide",children:B.jsx("div",{className:`grid gap-3 ${Le[o].id==="when"?"grid-cols-1":"grid-cols-2"}`,children:Le[o].suggestions.map(X=>{const S=Le[o].id==="friend_names"?d.friend_names?.includes(X.label):d[Le[o].id]===X.label;return B.jsxs("button",{onClick:()=>Le[o].id==="friend_names"?st(X.label):xt(Le[o].id,X.label),className:`rounded-[1.4rem] flex flex-col items-center justify-center gap-2 transition-all border-2 ${S?"bg-blue-50 border-blue-400 ring-4 ring-blue-50 text-blue-600":"bg-white border-slate-50 text-slate-600 hover:border-slate-100"} ${Le[o].id==="when"?"py-8":"p-4 shadow-sm"}`,children:[S&&Le[o].id==="friend_names"&&B.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-md",children:B.jsx(JI,{size:14,strokeWidth:4})}),X.icon&&B.jsx("div",{children:typeof X.icon=="string"?B.jsx("span",{className:"text-3xl",children:X.icon}):X.icon}),B.jsx("span",{className:`${Le[o].id==="when"?"text-3xl":"text-base"} font-bold`,children:X.label})]},X.label)})})})]})}),B.jsxs("div",{className:"flex gap-4",children:[B.jsx("button",{onClick:()=>{o===Qt("friend_names")?c(Qt("what_detail")):o>0&&c(o-1)},className:"h-16 w-16 bg-white rounded-2xl flex items-center justify-center text-slate-300 border border-slate-100 active:scale-95 shadow-sm",children:B.jsx(n0,{size:28})}),(O&&o===2||Le[o].id==="friend_names")&&B.jsxs("button",{onClick:()=>{O?k(d):c(Qt("feeling"))},disabled:O?!d.feeling:d.friend_names?.length===0,className:`h-16 flex-1 rounded-2xl font-black text-lg flex items-center justify-center gap-3 shadow-xl ${(O?d.feeling:d.friend_names?.length>0)?"bg-blue-600 text-white shadow-blue-200":"bg-slate-200 text-white cursor-not-allowed"}`,children:["OK",B.jsx(tN,{size:24})]})]})]}),i==="result"&&B.jsxs("div",{className:"space-y-6 animate-in zoom-in-95 duration-700",children:[B.jsx("div",{className:"bg-white rounded-[3.2rem] shadow-2xl border border-slate-50 overflow-hidden relative",children:B.jsxs("div",{className:"p-10 relative",children:[B.jsx(AN,{className:"absolute top-8 right-8 z-10 animate-in zoom-in-50 spin-in-6 duration-1000 ease-out fill-mode-backwards"}),B.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-black text-[10px] uppercase mb-8 tracking-[0.2em]",children:[B.jsx(rN,{size:12,fill:"currentColor"})," "]}),B.jsxs("div",{className:"flex flex-col gap-8",children:[B.jsx("div",{className:"bg-white p-8 rounded-[2rem] border-l-[10px] border-blue-500 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.05)] relative overflow-hidden",children:B.jsx("p",{className:"text-[28px] font-black leading-[1.65] text-slate-800 tracking-tight",children:b})}),M&&B.jsxs("div",{className:"bg-white px-6 py-5 rounded-[2.2rem] border-2 border-dashed border-blue-100/60 shadow-sm relative animate-in fade-in slide-in-from-bottom-2",children:[B.jsxs("div",{className:"absolute -top-3 left-6 bg-white px-3 py-1 rounded-full border border-blue-100 flex items-center gap-1",children:[B.jsx(i0,{size:10,className:"text-blue-400"}),B.jsx("span",{className:"text-[9px] font-black text-blue-400 uppercase tracking-widest font-sans",children:" "})]}),B.jsx("div",{className:"bg-white flex justify-center py-2",children:B.jsx("img",{src:M,alt:"User handwriting",className:"w-full h-auto max-h-48 object-contain px-4"})})]})]}),B.jsxs("div",{className:"mt-12 flex items-center gap-4",children:[B.jsxs("button",{onClick:()=>_t(!0),className:"flex-1 h-16 bg-slate-100 text-slate-500 rounded-2xl flex items-center justify-center gap-3 font-black active:scale-95 border border-slate-100 hover:bg-slate-100 transition-colors",children:[B.jsx(i0,{size:20,className:"text-blue-500"}),B.jsx("span",{className:"text-sm",children:M?"":""})]}),B.jsx("button",{onClick:()=>R(),className:"h-16 w-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-xl shadow-blue-200 active:scale-90 transition-all",children:B.jsx(hm,{size:30})})]})]})}),B.jsxs("button",{onClick:ne,className:"w-full h-20 bg-slate-900 text-white rounded-[2rem] font-black text-xl shadow-2xl flex items-center justify-center gap-3 active:scale-[0.98] mt-2 border-b-4 border-black",children:[" ",B.jsx(DT,{size:24,className:"text-green-400"})]})]}),i==="history"&&B.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[B.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[B.jsx("button",{onClick:()=>a("home"),className:"p-2 -ml-2 text-slate-400 active:scale-90",children:B.jsx(n0,{size:32})}),B.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tighter",children:""})]}),B.jsx("div",{className:"space-y-6",children:it.map(X=>B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-md border border-slate-50 space-y-6 relative",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-[10px] font-bold text-slate-200 mb-2 tracking-[0.15em] uppercase",children:X.date}),B.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:X.text})]}),X.handwriting&&B.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl shadow-inner border border-slate-100 flex flex-col gap-2",children:[B.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest px-1 font-sans",children:"Handwriting"}),B.jsx("img",{src:X.handwriting,className:"w-full h-auto max-h-32 object-contain px-4"})]}),B.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-50",children:[B.jsx("button",{onClick:()=>{w(X.text),a("result"),G(X.handwriting)},className:"w-12 h-12 bg-slate-50 text-blue-500 rounded-full flex items-center justify-center shadow-sm active:scale-90",children:B.jsx(fN,{size:20})}),B.jsx("button",{onClick:()=>R(X.text),className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center shadow-sm active:scale-90",children:B.jsx(hm,{size:24})})]})]},X.id))})]})]}),v&&B.jsx("div",{className:"fixed inset-0 z-50 bg-white/80 backdrop-blur-xl flex items-center justify-center animate-in fade-in duration-300",children:B.jsxs("div",{className:"flex flex-col items-center gap-8 text-center px-10",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"w-24 h-24 border-8 border-slate-100 rounded-full border-t-orange-500 animate-spin shadow-inner"}),B.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-orange-500",children:B.jsx(pN,{size:32,fill:"currentColor"})})]}),B.jsx("p",{className:"text-2xl font-black text-slate-700 tracking-tighter animate-pulse",children:et})]})})]})}bb.createRoot(document.getElementById("root")).render(B.jsx(mb.StrictMode,{children:B.jsx(wN,{})}));
