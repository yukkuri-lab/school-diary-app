(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function u0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},_o={};var v_;function hb(){if(v_)return _o;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return _o.Fragment=t,_o.jsx=i,_o.jsxs=i,_o}var E_;function fb(){return E_||(E_=1,Sd.exports=hb()),Sd.exports}var U=fb(),Ad={exports:{}},St={};var T_;function db(){if(T_)return St;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,it={};function dt(D,Y,rt){this.props=D,this.context=Y,this.refs=it,this.updater=rt||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},dt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function wt(){}wt.prototype=dt.prototype;function vt(D,Y,rt){this.props=D,this.context=Y,this.refs=it,this.updater=rt||tt}var Kt=vt.prototype=new wt;Kt.constructor=vt,W(Kt,dt.prototype),Kt.isPureReactComponent=!0;var ue=Array.isArray;function jt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(D,Y,rt){var at=rt.ref;return{$$typeof:r,type:D,key:Y,ref:at!==void 0?at:null,props:rt}}function O(D,Y){return C(D.type,Y,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return Y[rt]})}var w=/\/+/g;function oe(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):Y.toString(36)}function Te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(jt,jt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,Y,rt,at,_t){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var Vt=!1;if(D===null)Vt=!0;else switch(Rt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(D.$$typeof){case r:case t:Vt=!0;break;case b:return Vt=D._init,G(Vt(D._payload),Y,rt,at,_t)}}if(Vt)return _t=_t(D),Vt=at===""?"."+oe(D,0):at,ue(_t)?(rt="",Vt!=null&&(rt=Vt.replace(w,"$&/")+"/"),G(_t,Y,rt,"",function(hi){return hi})):_t!=null&&(x(_t)&&(_t=O(_t,rt+(_t.key==null||D&&D.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Vt)),Y.push(_t)),1;Vt=0;var be=at===""?".":at+":";if(ue(D))for(var qt=0;qt<D.length;qt++)at=D[qt],Rt=be+oe(at,qt),Vt+=G(at,Y,rt,Rt,_t);else if(qt=H(D),typeof qt=="function")for(D=qt.call(D),qt=0;!(at=D.next()).done;)at=at.value,Rt=be+oe(at,qt++),Vt+=G(at,Y,rt,Rt,_t);else if(Rt==="object"){if(typeof D.then=="function")return G(Te(D),Y,rt,at,_t);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function st(D,Y,rt){if(D==null)return D;var at=[],_t=0;return G(D,at,"","",function(Rt){return Y.call(rt,Rt,_t++)}),at}function ht(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var xt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Gt={map:st,forEach:function(D,Y,rt){st(D,function(){Y.apply(this,arguments)},rt)},count:function(D){var Y=0;return st(D,function(){Y++}),Y},toArray:function(D){return st(D,function(Y){return Y})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return St.Activity=A,St.Children=Gt,St.Component=dt,St.Fragment=i,St.Profiler=o,St.PureComponent=vt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(D,Y,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var at=W({},D.props),_t=D.key;if(Y!=null)for(Rt in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(at[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=rt;else if(1<Rt){for(var Vt=Array(Rt),be=0;be<Rt;be++)Vt[be]=arguments[be+2];at.children=Vt}return C(D.type,_t,at)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Y,rt){var at,_t={},Rt=null;if(Y!=null)for(at in Y.key!==void 0&&(Rt=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=Y[at]);var Vt=arguments.length-2;if(Vt===1)_t.children=rt;else if(1<Vt){for(var be=Array(Vt),qt=0;qt<Vt;qt++)be[qt]=arguments[qt+2];_t.children=be}if(D&&D.defaultProps)for(at in Vt=D.defaultProps,Vt)_t[at]===void 0&&(_t[at]=Vt[at]);return C(D,Rt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=x,St.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ht}},St.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},St.startTransition=function(D){var Y=I.T,rt={};I.T=rt;try{var at=D(),_t=I.S;_t!==null&&_t(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,xt)}catch(Rt){xt(Rt)}finally{Y!==null&&rt.types!==null&&(Y.types=rt.types),I.T=Y}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(D){return I.H.use(D)},St.useActionState=function(D,Y,rt){return I.H.useActionState(D,Y,rt)},St.useCallback=function(D,Y){return I.H.useCallback(D,Y)},St.useContext=function(D){return I.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Y){return I.H.useDeferredValue(D,Y)},St.useEffect=function(D,Y){return I.H.useEffect(D,Y)},St.useEffectEvent=function(D){return I.H.useEffectEvent(D)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(D,Y,rt){return I.H.useImperativeHandle(D,Y,rt)},St.useInsertionEffect=function(D,Y){return I.H.useInsertionEffect(D,Y)},St.useLayoutEffect=function(D,Y){return I.H.useLayoutEffect(D,Y)},St.useMemo=function(D,Y){return I.H.useMemo(D,Y)},St.useOptimistic=function(D,Y){return I.H.useOptimistic(D,Y)},St.useReducer=function(D,Y,rt){return I.H.useReducer(D,Y,rt)},St.useRef=function(D){return I.H.useRef(D)},St.useState=function(D){return I.H.useState(D)},St.useSyncExternalStore=function(D,Y,rt){return I.H.useSyncExternalStore(D,Y,rt)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.4",St}var b_;function mm(){return b_||(b_=1,Ad.exports=db()),Ad.exports}var ne=mm();const mb=u0(ne);var wd={exports:{}},vo={},Rd={exports:{}},Cd={};var S_;function gb(){return S_||(S_=1,(function(r){function t(G,st){var ht=G.length;G.push(st);t:for(;0<ht;){var xt=ht-1>>>1,Gt=G[xt];if(0<o(Gt,st))G[xt]=st,G[ht]=Gt,ht=xt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var st=G[0],ht=G.pop();if(ht!==st){G[0]=ht;t:for(var xt=0,Gt=G.length,D=Gt>>>1;xt<D;){var Y=2*(xt+1)-1,rt=G[Y],at=Y+1,_t=G[at];if(0>o(rt,ht))at<Gt&&0>o(_t,rt)?(G[xt]=_t,G[at]=ht,xt=at):(G[xt]=rt,G[Y]=ht,xt=Y);else if(at<Gt&&0>o(_t,ht))G[xt]=_t,G[at]=ht,xt=at;else break t}}return st}function o(G,st){var ht=G.sortIndex-st.sortIndex;return ht!==0?ht:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,A=null,V=3,H=!1,tt=!1,W=!1,it=!1,dt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Kt(G){for(var st=i(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=G)a(y),st.sortIndex=st.expirationTime,t(v,st);else break;st=i(y)}}function ue(G){if(W=!1,Kt(G),!tt)if(i(v)!==null)tt=!0,jt||(jt=!0,M());else{var st=i(y);st!==null&&Te(ue,st.startTime-G)}}var jt=!1,I=-1,S=5,C=-1;function O(){return it?!0:!(r.unstable_now()-C<S)}function x(){if(it=!1,jt){var G=r.unstable_now();C=G;var st=!0;try{t:{tt=!1,W&&(W=!1,wt(I),I=-1),H=!0;var ht=V;try{e:{for(Kt(G),A=i(v);A!==null&&!(A.expirationTime>G&&O());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,V=A.priorityLevel;var Gt=xt(A.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){A.callback=Gt,Kt(G),st=!0;break e}A===i(v)&&a(v),Kt(G)}else a(v);A=i(v)}if(A!==null)st=!0;else{var D=i(y);D!==null&&Te(ue,D.startTime-G),st=!1}}break t}finally{A=null,V=ht,H=!1}st=void 0}}finally{st?M():jt=!1}}}var M;if(typeof vt=="function")M=function(){vt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,oe=w.port2;w.port1.onmessage=x,M=function(){oe.postMessage(null)}}else M=function(){dt(x,0)};function Te(G,st){I=dt(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var st=3;break;default:st=V}var ht=V;V=st;try{return G()}finally{V=ht}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=V;V=G;try{return st()}finally{V=ht}},r.unstable_scheduleCallback=function(G,st,ht){var xt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,G={id:b++,callback:st,priorityLevel:G,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>xt?(G.sortIndex=ht,t(y,G),i(v)===null&&G===i(y)&&(W?(wt(I),I=-1):W=!0,Te(ue,ht-xt))):(G.sortIndex=Gt,t(v,G),tt||H||(tt=!0,jt||(jt=!0,M()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var st=V;return function(){var ht=V;V=st;try{return G.apply(this,arguments)}finally{V=ht}}}})(Cd)),Cd}var A_;function pb(){return A_||(A_=1,Rd.exports=gb()),Rd.exports}var Id={exports:{}},rn={};var w_;function yb(){if(w_)return rn;w_=1;var r=mm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},rn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},rn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},rn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},rn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:H}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},rn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},rn.requestFormReset=function(v){a.d.r(v)},rn.unstable_batchedUpdates=function(v,y){return v(y)},rn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var R_;function _b(){if(R_)return Id.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=yb(),Id.exports}var C_;function vb(){if(C_)return vo;C_=1;var r=pb(),t=mm(),i=_b();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case dt:return"Profiler";case it:return"StrictMode";case ue:return"Suspense";case jt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case vt:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var Te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],Gt=-1;function D(e){return{current:e}}function Y(e){0>Gt||(e.current=xt[Gt],xt[Gt]=null,Gt--)}function rt(e,n){Gt++,xt[Gt]=e.current,e.current=n}var at=D(null),_t=D(null),Rt=D(null),Vt=D(null);function be(e,n){switch(rt(Rt,n),rt(_t,e),rt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=Hy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),rt(at,e)}function qt(){Y(at),Y(_t),Y(Rt)}function hi(e){e.memoizedState!==null&&rt(Vt,e);var n=at.current,s=Hy(n,e.type);n!==s&&(rt(_t,e),rt(at,s))}function ys(e){_t.current===e&&(Y(at),Y(_t)),Vt.current===e&&(Y(Vt),mo._currentValue=ht)}var _s,qi;function K(e){if(_s===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_s=n&&n[1]||"",qi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+e+qi}var Z=!1;function et(e,n){if(!e||Z)return"";Z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var F=`
`+R[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Z=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?K(s):""}function mt(e,n){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==n&&n!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return et(e.type,!1);case 11:return et(e.type.render,!1);case 1:return et(e.type,!0);case 31:return K("Activity");default:return""}}function Dt(e){try{var n="",s=null;do n+=mt(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Qt=r.unstable_scheduleCallback,Pe=r.unstable_cancelCallback,pe=r.unstable_shouldYield,En=r.unstable_requestPaint,Ft=r.unstable_now,Tn=r.unstable_getCurrentPriorityLevel,vs=r.unstable_ImmediatePriority,Es=r.unstable_UserBlockingPriority,Yn=r.unstable_NormalPriority,Ts=r.unstable_LowPriority,fi=r.unstable_IdlePriority,bn=r.log,$o=r.unstable_setDisableYieldValue,Xn=null,Ye=null;function Mn(e){if(typeof bn=="function"&&$o(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Xn,e)}catch{}}var Se=Math.clz32?Math.clz32:Zo,Jo=Math.log,la=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(Jo(e)/la|0)|0}var di=256,vr=262144,Ie=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=mi(l):(g&=E,g!==0?h=mi(g):s||(s=E&~e,s!==0&&(h=mi(s))))):(E=l&~f,E!==0?h=mi(E):g!==0?h=mi(g):s||(s=l&~e,s!==0&&(h=mi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function $n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function pi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-Se(s),X=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&Tr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Tr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Se(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function _l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Se(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function vl(e,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(e.suspendedLanes|n))!==0?0:s}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:f_(e.type))}function Jn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Zn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Zn,qe="__reactProps$"+Zn,yi="__reactContainer$"+Zn,oa="__reactEvents$"+Zn,Ih="__reactListeners$"+Zn,eu="__reactHandles$"+Zn,nu="__reactResources$"+Zn,_i="__reactMarker$"+Zn;function ua(e){delete e[xe],delete e[qe],delete e[oa],delete e[Ih],delete e[eu]}function vi(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[yi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=$y(e);e!==null;){if(s=e[xe])return s;e=$y(e)}return n}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[xe]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ei(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[_i]=!0}var El=new Set,Tl={};function Ti(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Tl[e]=n,e=0;e<n.length;e++)El.add(n[e])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},Al={};function iu(e){return bt.call(Al,e)?!0:bt.call(Sl,e)?!1:bl.test(e)?Al[e]=!0:(Sl[e]=!0,!1)}function ca(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function De(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=bs(e)?"checked":"value";e._valueTracker=wl(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=bs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function fn(e){return e.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Rl(e,g,He(n)):s!=null?Rl(e,g,He(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+He(E):e.removeAttribute("name")}function su(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Wt(e)}function Rl(e,n,s){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ss(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+He(s):""}function As(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Te(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=He(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Wt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Il(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Cl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(e,f,n[f])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var xl=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Ai=null;function wr(e){var n=Vn(e);if(n&&(e=n.stateNode)){var s=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ha(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[qe]||null;if(!h)throw Error(a(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Sr(l)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ss(e,!!s.multiple,n,!1)}}}var ma=!1;function Cs(e,n,s){if(ma)return e(n,s);ma=!0;try{var l=e(n);return l}finally{if(ma=!1,(Rs!==null||Ai!==null)&&(tc(),Rs&&(n=Rs,e=Ai,Ai=Rs=null,wr(n),e)))for(n=0;n<e.length;n++)wr(e[n])}}function ti(e,n){var s=e.stateNode;if(s===null)return null;var l=s[qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Un)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Rr=!1}var wi=null,Nl=null,Cr=null;function Dl(){if(Cr)return Cr;var e,n=Nl,s=n.length,l,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Cr=h.slice(e,1<l?1-l:void 0)}function Ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ei(){return!1}function Xe(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ei,this.isPropagationStopped=ei,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Xe(Fi),Is=A({},Fi,{view:0,detail:0}),Ol=Xe(Is),xs,ga,Ci,pa=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(xs=e.screenX-Ci.screenX,ga=e.screenY-Ci.screenY):ga=xs=0,Ci=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Ml=Xe(pa),xr=A({},pa,{dataTransfer:0}),ou=Xe(xr),uu=A({},Is,{relatedTarget:0}),Nr=Xe(uu),Vl=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Xe(Vl),ya=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=Xe(ya),fu=A({},Fi,{data:0}),Ii=Xe(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function Ns(){return pu}var cn=A({},Is,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Xe(cn),_u=A({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Xe(_u),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Xe(u),_=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(_),L=A({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(L),nt=A({},Fi,{newState:0,oldState:0}),Ct=Xe(nt),Ae=[9,13,27,32],$t=Un&&"CompositionEvent"in window,me=null;Un&&"documentMode"in document&&(me=document.documentMode);var Ln=Un&&"TextEvent"in window&&!me,xi=Un&&(!$t||me&&8<me&&11>=me),ni=" ",ii=!1;function Dr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function kT(e,n){switch(e){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return e=n.data,e===ni&&ii?null:e;default:return null}}function UT(e,n){if(va)return e==="compositionend"||!$t&&Dr(e,n)?(e=Dl(),Cr=Nl=wi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!LT[e.type]:n==="textarea"}function tg(e,n,s,l){Rs?Ai?Ai.push(l):Ai=[l]:Rs=l,n=lc(n,"onChange"),0<n.length&&(s=new Ri("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var kl=null,Ul=null;function PT(e){Uy(e,0)}function vu(e){var n=Sn(e);if(Sr(n))return e}function eg(e,n){if(e==="change")return n}var ng=!1;if(Un){var xh;if(Un){var Nh="oninput"in document;if(!Nh){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Nh=typeof ig.oninput=="function"}xh=Nh}else xh=!1;ng=xh&&(!document.documentMode||9<document.documentMode)}function sg(){kl&&(kl.detachEvent("onpropertychange",rg),Ul=kl=null)}function rg(e){if(e.propertyName==="value"&&vu(Ul)){var n=[];tg(n,Ul,e,kn(e)),Cs(PT,n)}}function zT(e,n,s){e==="focusin"?(sg(),kl=n,Ul=s,kl.attachEvent("onpropertychange",rg)):e==="focusout"&&sg()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Ul)}function BT(e,n){if(e==="click")return vu(n)}function qT(e,n){if(e==="input"||e==="change")return vu(n)}function HT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:HT;function Ll(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!bt.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,n){var s=ag(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ag(s)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Si(e.document)}return n}function Dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var GT=Un&&"documentMode"in document&&11>=document.documentMode,Ea=null,Oh=null,Pl=null,Mh=!1;function cg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||Ea==null||Ea!==Si(l)||(l=Ea,"selectionStart"in l&&Dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ll(Pl,l)||(Pl=l,l=lc(Oh,"onSelect"),0<l.length&&(n=new Ri("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ea)))}function Or(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ta={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Vh={},hg={};Un&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Mr(e){if(Vh[e])return Vh[e];if(!Ta[e])return e;var n=Ta[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in hg)return Vh[e]=n[s];return e}var fg=Mr("animationend"),dg=Mr("animationiteration"),mg=Mr("animationstart"),FT=Mr("transitionrun"),KT=Mr("transitionstart"),QT=Mr("transitioncancel"),gg=Mr("transitionend"),pg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function si(e,n){pg.set(e,n),Ti(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],ba=0,Uh=0;function Tu(){for(var e=ba,n=Uh=ba=0;n<e;){var s=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&yg(s,h,f)}}function bu(e,n,s,l){Pn[ba++]=e,Pn[ba++]=n,Pn[ba++]=s,Pn[ba++]=l,Uh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lh(e,n,s,l){return bu(e,n,s,l),Su(e)}function Vr(e,n){return bu(e,null,null,n),Su(e)}function yg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Se(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<ao)throw ao=0,Qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Sa={};function YT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,s,l){return new YT(e,n,s,l)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Rn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _g(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=W1(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Rn(31,s,n,h),e.elementType=C,e.lanes=f,e;case W:return kr(s.children,h,f,n);case it:g=8,h|=24;break;case dt:return e=Rn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ue:return e=Rn(13,s,n,h),e.elementType=ue,e.lanes=f,e;case jt:return e=Rn(19,s,n,h),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case wt:g=9;break t;case Kt:g=11;break t;case I:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Rn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function kr(e,n,s,l){return e=Rn(7,e,l,n),e.lanes=s,e}function zh(e,n,s){return e=Rn(6,e,null,n),e.lanes=s,e}function vg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Eg=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var s=Eg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Dt(n)},Eg.set(e,n),n)}return{value:e,source:n,stack:Dt(n)}}var Aa=[],wa=0,wu=null,zl=0,jn=[],Bn=0,Ds=null,Ni=1,Di="";function Yi(e,n){Aa[wa++]=zl,Aa[wa++]=wu,wu=e,zl=n}function Tg(e,n,s){jn[Bn++]=Ni,jn[Bn++]=Di,jn[Bn++]=Ds,Ds=e;var l=Ni;e=Di;var h=32-Se(l)-1;l&=~(1<<h),s+=1;var f=32-Se(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ni=1<<32-Se(n)+h|s<<h|l,Di=f+e}else Ni=1<<f|s<<h|l,Di=e}function Bh(e){e.return!==null&&(Yi(e,1),Tg(e,1,0))}function qh(e){for(;e===wu;)wu=Aa[--wa],Aa[wa]=null,zl=Aa[--wa],Aa[wa]=null;for(;e===Ds;)Ds=jn[--Bn],jn[Bn]=null,Di=jn[--Bn],jn[Bn]=null,Ni=jn[--Bn],jn[Bn]=null}function bg(e,n){jn[Bn++]=Ni,jn[Bn++]=Di,jn[Bn++]=Ds,Ni=n.id,Di=n.overflow,Ds=e}var $e=null,ce=null,Bt=!1,Os=null,qn=!1,Hh=Error(a(519));function Ms(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(zn(n,e)),Hh}function Sg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[xe]=e,n[qe]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<oo.length;s++)Mt(oo[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),su(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),As(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||jy(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Ms(e,!0)}function Ag(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:$e=$e.return}}function Ra(e){if(e!==$e)return!1;if(!Bt)return Ag(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||od(e.type,e.memoizedProps)),s=!s),s&&ce&&Ms(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=Xy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=Xy(e)}else n===27?(n=ce,Qs(e.type)?(e=dd,dd=null,ce=e):ce=n):ce=$e?Gn(e.stateNode.nextSibling):null;return!0}function Ur(){ce=$e=null,Bt=!1}function Gh(){var e=Os;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Os=null),e}function jl(e){Os===null?Os=[e]:Os.push(e)}var Fh=D(null),Lr=null,Xi=null;function Vs(e,n,s){rt(Fh,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=Fh.current,Y(Fh)}function Kh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Qh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ca(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(mo):e=[mo])}h=h.return}e!==null&&Qh(n,e,s,l),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Lr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return wg(Lr,e)}function Cu(e,n){return Lr===null&&Pr(e),wg(e,n)}function wg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var XT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$T=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,Oe={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new XT,data:new Map,refCount:0}}function Bl(e){e.refCount--,e.refCount===0&&$T(JT,function(){e.controller.abort()})}var ql=null,Xh=0,Ia=0,xa=null;function ZT(e,n){if(ql===null){var s=ql=[];Xh=0,Ia=Wf(),xa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xh++,n.then(Rg,Rg),n}function Rg(){if(--Xh===0&&ql!==null){xa!==null&&(xa.status="fulfilled");var e=ql;ql=null,Ia=0,xa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function WT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Cg=G.S;G.S=function(e,n){cy=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZT(e,n),Cg!==null&&Cg(e,n)};var zr=D(null);function $h(){var e=zr.current;return e!==null?e:le.pooledCache}function Iu(e,n){n===null?rt(zr,zr.current):rt(zr,n.pool)}function Ig(){var e=$h();return e===null?null:{parent:Oe._currentValue,pool:e}}var Na=Error(a(460)),Jh=Error(a(474)),xu=Error(a(542)),Nu={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Wn,Wn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw Br=n,Na}}function jr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Br=s,Na):s}}var Br=null;function Dg(){if(Br===null)throw Error(a(459));var e=Br;return Br=null,e}function Og(e){if(e===Na||e===xu)throw Error(a(483))}var Da=null,Hl=0;function Du(e){var n=Hl;return Hl+=1,Da===null&&(Da=[]),Ng(Da,e,n)}function Gl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mg(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function s(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Qi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Q){return N===null||N.tag!==6?(N=zh(P,k.mode,Q),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,Q){var ft=P.type;return ft===W?F(k,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jr(ft)===N.type)?(N=h(N,P.props),Gl(N,P),N.return=k,N):(N=Au(P.type,P.key,P.props,null,k.mode,Q),Gl(N,P),N.return=k,N)}function z(k,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=jh(P,k.mode,Q),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function F(k,N,P,Q,ft){return N===null||N.tag!==7?(N=kr(P,k.mode,Q,ft),N.return=k,N):(N=h(N,P),N.return=k,N)}function X(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Au(N.type,N.key,N.props,null,k.mode,P),Gl(P,N),P.return=k,P;case tt:return N=jh(N,k.mode,P),N.return=k,N;case S:return N=jr(N),X(k,N,P)}if(Te(N)||M(N))return N=kr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return X(k,Du(N),P);if(N.$$typeof===vt)return X(k,Cu(k,N),P);Ou(k,N)}return null}function j(k,N,P,Q){var ft=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ft?R(k,N,P,Q):null;case tt:return P.key===ft?z(k,N,P,Q):null;case S:return P=jr(P),j(k,N,P,Q)}if(Te(P)||M(P))return ft!==null?null:F(k,N,P,Q,null);if(typeof P.then=="function")return j(k,N,Du(P),Q);if(P.$$typeof===vt)return j(k,N,Cu(k,P),Q);Ou(k,P)}return null}function q(k,N,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(N,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,R(N,k,Q,ft);case tt:return k=k.get(Q.key===null?P:Q.key)||null,z(N,k,Q,ft);case S:return Q=jr(Q),q(k,N,P,Q,ft)}if(Te(Q)||M(Q))return k=k.get(P)||null,F(N,k,Q,ft,null);if(typeof Q.then=="function")return q(k,N,P,Du(Q),ft);if(Q.$$typeof===vt)return q(k,N,P,Cu(N,Q),ft);Ou(N,Q)}return null}function ot(k,N,P,Q){for(var ft=null,Yt=null,ut=N,Nt=N=0,Ut=null;ut!==null&&Nt<P.length;Nt++){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var Xt=j(k,ut,P[Nt],Q);if(Xt===null){ut===null&&(ut=Ut);break}e&&ut&&Xt.alternate===null&&n(k,ut),N=f(Xt,N,Nt),Yt===null?ft=Xt:Yt.sibling=Xt,Yt=Xt,ut=Ut}if(Nt===P.length)return s(k,ut),Bt&&Yi(k,Nt),ft;if(ut===null){for(;Nt<P.length;Nt++)ut=X(k,P[Nt],Q),ut!==null&&(N=f(ut,N,Nt),Yt===null?ft=ut:Yt.sibling=ut,Yt=ut);return Bt&&Yi(k,Nt),ft}for(ut=l(ut);Nt<P.length;Nt++)Ut=q(ut,k,Nt,P[Nt],Q),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Nt:Ut.key),N=f(Ut,N,Nt),Yt===null?ft=Ut:Yt.sibling=Ut,Yt=Ut);return e&&ut.forEach(function(Zs){return n(k,Zs)}),Bt&&Yi(k,Nt),ft}function pt(k,N,P,Q){if(P==null)throw Error(a(151));for(var ft=null,Yt=null,ut=N,Nt=N=0,Ut=null,Xt=P.next();ut!==null&&!Xt.done;Nt++,Xt=P.next()){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var Zs=j(k,ut,Xt.value,Q);if(Zs===null){ut===null&&(ut=Ut);break}e&&ut&&Zs.alternate===null&&n(k,ut),N=f(Zs,N,Nt),Yt===null?ft=Zs:Yt.sibling=Zs,Yt=Zs,ut=Ut}if(Xt.done)return s(k,ut),Bt&&Yi(k,Nt),ft;if(ut===null){for(;!Xt.done;Nt++,Xt=P.next())Xt=X(k,Xt.value,Q),Xt!==null&&(N=f(Xt,N,Nt),Yt===null?ft=Xt:Yt.sibling=Xt,Yt=Xt);return Bt&&Yi(k,Nt),ft}for(ut=l(ut);!Xt.done;Nt++,Xt=P.next())Xt=q(ut,k,Nt,Xt.value,Q),Xt!==null&&(e&&Xt.alternate!==null&&ut.delete(Xt.key===null?Nt:Xt.key),N=f(Xt,N,Nt),Yt===null?ft=Xt:Yt.sibling=Xt,Yt=Xt);return e&&ut.forEach(function(cb){return n(k,cb)}),Bt&&Yi(k,Nt),ft}function ae(k,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ft=P.key;N!==null;){if(N.key===ft){if(ft=P.type,ft===W){if(N.tag===7){s(k,N.sibling),Q=h(N,P.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jr(ft)===N.type){s(k,N.sibling),Q=h(N,P.props),Gl(Q,P),Q.return=k,k=Q;break t}s(k,N);break}else n(k,N);N=N.sibling}P.type===W?(Q=kr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Au(P.type,P.key,P.props,null,k.mode,Q),Gl(Q,P),Q.return=k,k=Q)}return g(k);case tt:t:{for(ft=P.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(k,N.sibling),Q=h(N,P.children||[]),Q.return=k,k=Q;break t}else{s(k,N);break}else n(k,N);N=N.sibling}Q=jh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=jr(P),ae(k,N,P,Q)}if(Te(P))return ot(k,N,P,Q);if(M(P)){if(ft=M(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(k,N,P,Q)}if(typeof P.then=="function")return ae(k,N,Du(P),Q);if(P.$$typeof===vt)return ae(k,N,Cu(k,P),Q);Ou(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(k,N.sibling),Q=h(N,P),Q.return=k,k=Q):(s(k,N),Q=zh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,N)}return function(k,N,P,Q){try{Hl=0;var ft=ae(k,N,P,Q);return Da=null,ft}catch(ut){if(ut===Na||ut===xu)throw ut;var Yt=Rn(29,ut,null,k.mode);return Yt.lanes=Q,Yt.return=k,Yt}}}var qr=Mg(!0),Vg=Mg(!1),ks=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(e),yg(e,null,s),n}return bu(e,l,n,s),Su(e)}function Fl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}function tf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function Kl(){if(ef){var e=xa;if(e!==null)throw e}}function Ql(e,n,s,l){ef=!1;var h=e.updateQueue;ks=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(kt&j)===j:(l&j)===j){j!==0&&j===Ia&&(ef=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var ae=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(ae,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(ae,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:ks=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),qs|=g,e.lanes=g,e.memoizedState=X}}function kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ug(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)kg(s[e],n)}var Oa=D(null),Mu=D(0);function Lg(e,n){e=rs,rt(Mu,e),rt(Oa,n),rs=e|n.baseLanes}function nf(){rt(Mu,rs),rt(Oa,Oa.current)}function sf(){rs=Mu.current,Y(Oa),Y(Mu)}var Cn=D(null),Hn=null;function Ps(e){var n=e.alternate;rt(we,we.current&1),rt(Cn,e),Hn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Hn=e)}function rf(e){rt(we,we.current),rt(Cn,e),Hn===null&&(Hn=e)}function Pg(e){e.tag===22?(rt(we,we.current),rt(Cn,e),Hn===null&&(Hn=e)):zs()}function zs(){rt(we,we.current),rt(Cn,Cn.current)}function In(e){Y(Cn),Hn===e&&(Hn=null),Y(we)}var we=D(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,It=null,se=null,Me=null,ku=!1,Ma=!1,Hr=!1,Uu=0,Yl=0,Va=null,t1=0;function _e(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!wn(e[s],n[s]))return!1;return!0}function lf(e,n,s,l,h,f){return Ji=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Tp:bf,Hr=!1,f=s(l,h),Hr=!1,Ma&&(f=jg(n,s,l,h)),zg(e),f}function zg(e){G.H=Jl;var n=se!==null&&se.next!==null;if(Ji=0,Me=se=It=null,ku=!1,Yl=0,Va=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&Ru(e)&&(Ve=!0))}function jg(e,n,s,l){It=e;var h=0;do{if(Ma&&(Va=null),Yl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Me=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=bp,f=n(s,l)}while(Ma);return f}function e1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Xl(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(It.flags|=1024),n}function of(){var e=Uu!==0;return Uu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Ji=0,Me=se=It=null,Ma=!1,Yl=Uu=0,Va=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?It.memoizedState=Me=e:Me=Me.next=e,Me}function Re(){if(se===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Me===null?It.memoizedState:Me.next;if(n!==null)Me=n,se=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?It.memoizedState=Me=e:Me=Me.next=e}return Me}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(e){var n=Yl;return Yl+=1,Va===null&&(Va=[]),e=Ng(Va,e,n),n=It,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Tp:bf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===vt)return Je(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Re();return ff(n,se,e)}function ff(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(Ji&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ia&&(F=!0);else if((Ji&j)===j){z=z.next,j===Ia&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,It.lanes|=j,qs|=j;X=z.action,Hr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,It.lanes|=X,qs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!wn(f,e.memoizedState)&&(Ve=!0,F&&(s=xa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var n=Re(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Bg(e,n,s){var l=It,h=Re(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!wn((se||h).memoizedState,s);if(g&&(h.memoizedState=s,Ve=!0),h=h.queue,pf(Gg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Hg.bind(null,l,h,s,n),null),le===null)throw Error(a(349));f||(Ji&127)!==0||qg(l,n,s)}return s}function qg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Lu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Hg(e,n,s,l){n.value=s,n.getSnapshot=l,Fg(n)&&Kg(e)}function Gg(e,n,s){return s(function(){Fg(n)&&Kg(e)})}function Fg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!wn(e,s)}catch{return!0}}function Kg(e){var n=Vr(e,2);n!==null&&_n(n,e,2)}function mf(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Hr){Mn(!0);try{s()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function Qg(e,n,s,l){return e.baseState=s,ff(e,se,typeof l=="function"?l:Zi)}function n1(e,n,s,l,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Yg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Yg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),R=G.S;R!==null&&R(g,E),Xg(e,n,E)}catch(z){gf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),Xg(e,n,f)}catch(z){gf(e,n,z)}}function Xg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$g(e,n,l)},function(l){return gf(e,n,l)}):$g(e,n,s)}function $g(e,n,s){n.status="fulfilled",n.value=s,Jg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Yg(e,s)))}function gf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Jg(n),n=n.next;while(n!==l)}e.action=null}function Jg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function Wg(e,n){if(Bt){var s=le.formState;if(s!==null){t:{var l=It;if(Bt){if(ce){e:{for(var h=ce,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Gn(h.nextSibling),l=h.data==="F!";break t}}Ms(l)}l=!1}l&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},s.queue=l,s=_p.bind(null,It,l),l.dispatch=s,l=mf(!1),f=Tf.bind(null,It,!1,l.queue),l=hn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=n1.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function tp(e){var n=Re();return ep(n,se,e)}function ep(e,n,s){if(n=ff(e,n,Zg)[0],e=zu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xl(n)}catch(g){throw g===Na?xu:g}else l=n;n=Re();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,ka(9,{destroy:void 0},i1.bind(null,h,s),null)),[l,f,e]}function i1(e,n){e.action=n}function np(e){var n=Re(),s=se;if(s!==null)return ep(n,s,e);Re(),n=n.memoizedState,s=Re();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ka(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Lu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function ip(){return Re().memoizedState}function ju(e,n,s,l){var h=hn();It.flags|=e,h.memoizedState=ka(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bu(e,n,s,l){var h=Re();l=l===void 0?null:l;var f=h.memoizedState.inst;se!==null&&l!==null&&af(l,se.memoizedState.deps)?h.memoizedState=ka(n,f,s,l):(It.flags|=e,h.memoizedState=ka(1|n,f,s,l))}function sp(e,n){ju(8390656,8,e,n)}function pf(e,n){Bu(2048,8,e,n)}function s1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Lu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function rp(e){var n=Re().memoizedState;return s1({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ap(e,n){return Bu(4,2,e,n)}function lp(e,n){return Bu(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function up(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,op.bind(null,n,e),s)}function yf(){}function cp(e,n){var s=Re();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&af(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function hp(e,n){var s=Re();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&af(n,l[1]))return l[0];if(l=e(),Hr){Mn(!0);try{e()}finally{Mn(!1)}}return s.memoizedState=[l,n],l}function _f(e,n,s){return s===void 0||(Ji&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=fy(),It.lanes|=e,qs|=e,s)}function fp(e,n,s,l){return wn(s,n)?s:Oa.current!==null?(e=_f(e,s,l),wn(e,n)||(Ve=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(kt&261930)===0?(Ve=!0,e.memoizedState=s):(e=fy(),It.lanes|=e,qs|=e,n)}function dp(e,n,s,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Tf(e,!1,n,s);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=WT(R,l);$l(e,n,F,Dn(e))}else $l(e,n,l,Dn(e))}catch(X){$l(e,n,{then:function(){},status:"rejected",reason:X},Dn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function r1(){}function vf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=mp(e).queue;dp(e,h,n,ht,s===null?r1:function(){return gp(e),s(l)})}function mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gp(e){var n=mp(e);n.next===null&&(n=e.alternate.memoizedState),$l(e,n.next.queue,{},Dn())}function Ef(){return Je(mo)}function pp(){return Re().memoizedState}function yp(){return Re().memoizedState}function a1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();e=Us(s);var l=Ls(n,e,s);l!==null&&(_n(l,n,s),Fl(l,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var l=Dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?vp(n,s):(s=Lh(e,n,s,l),s!==null&&(_n(s,e,l),Ep(s,n,l)))}function _p(e,n,s){var l=Dn();$l(e,n,s,l)}function $l(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,wn(E,g))return bu(e,n,h,0),le===null&&Tu(),!1}catch{}if(s=Lh(e,n,h,l),s!==null)return _n(s,e,l),Ep(s,n,l),!0}return!1}function Tf(e,n,s,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,l,2),n!==null&&_n(n,e,2)}function qu(e){var n=e.alternate;return e===It||n!==null&&n===It}function vp(e,n){Ma=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ep(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}var Jl={readContext:Je,use:Pu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Jl.useEffectEvent=_e;var Tp={readContext:Je,use:Pu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:sp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,op.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var l=e();if(Hr){Mn(!0);try{e()}finally{Mn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=hn();if(s!==void 0){var h=s(n);if(Hr){Mn(!0);try{s(n)}finally{Mn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=l1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=_p.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=hn();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=dp.bind(null,It,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=hn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(kt&127)!==0||qg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,sp(Gg.bind(null,l,f,e),[e]),l.flags|=2048,ka(9,{destroy:void 0},Hg.bind(null,l,f,s,n),null),s},useId:function(){var e=hn(),n=le.identifierPrefix;if(Bt){var s=Di,l=Ni;s=(l&~(1<<32-Se(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=t1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return hn().memoizedState=a1.bind(null,It)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bf={readContext:Je,use:Pu,useCallback:cp,useContext:Je,useEffect:pf,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:hp,useReducer:zu,useRef:ip,useState:function(){return zu(Zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=Re();return fp(s,se.memoizedState,e,n)},useTransition:function(){var e=zu(Zi)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:Bg,useId:pp,useHostTransitionStatus:Ef,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=Re();return Qg(s,se,e,n)},useMemoCache:hf,useCacheRefresh:yp};bf.useEffectEvent=rp;var bp={readContext:Je,use:Pu,useCallback:cp,useContext:Je,useEffect:pf,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:hp,useReducer:df,useRef:ip,useState:function(){return df(Zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=Re();return se===null?_f(s,e,n):fp(s,se.memoizedState,e,n)},useTransition:function(){var e=df(Zi)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:Bg,useId:pp,useHostTransitionStatus:Ef,useFormState:np,useActionState:np,useOptimistic:function(e,n){var s=Re();return se!==null?Qg(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:yp};bp.useEffectEvent=rp;function Sf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Dn(),h=Us(l);h.payload=n,s!=null&&(h.callback=s),n=Ls(e,h,l),n!==null&&(_n(n,e,l),Fl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Dn(),h=Us(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ls(e,h,l),n!==null&&(_n(n,e,l),Fl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Dn(),l=Us(s);l.tag=2,n!=null&&(l.callback=n),n=Ls(e,l,s),n!==null&&(_n(n,e,s),Fl(n,e,s))}};function Sp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ll(s,l)||!Ll(h,f):!0}function Ap(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function wp(e){Eu(e)}function Rp(e){console.error(e)}function Cp(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ip(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=Us(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function xp(e){return e=Us(e),e.tag=3,e}function Np(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Ip(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ip(n,s,l),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ca(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Hn===null?ec():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),$f(e,l,h)),!1;case 22:return s.flags|=65536,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),$f(e,l,h)),!1}throw Error(a(435,s.tag))}return $f(e,l,h),ec(),!1}if(Bt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Hh&&(e=Error(a(422),{cause:l}),jl(zn(e,s)))):(l!==Hh&&(n=Error(a(423),{cause:l}),jl(zn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=zn(l,s),h=wf(e.stateNode,l,h),tf(e,h),ve!==4&&(ve=2)),!1;var f=Error(a(520),{cause:l});if(f=zn(f,s),ro===null?ro=[f]:ro.push(f),ve!==4&&(ve=2),n===null)return!0;l=zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,l,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xp(h),Np(h,e,s,l),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Ve=!1;function Ze(e,n,s,l){n.child=e===null?Vg(n,null,s,l):qr(n,e.child,s,l)}function Dp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Pr(n),l=lf(e,n,s,g,f,h),E=of(),e!==null&&!Ve?(uf(e,n,h),Wi(e,n,h)):(Bt&&E&&Bh(n),n.flags|=1,Ze(e,n,l,h),n.child)}function Op(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Mp(e,n,f,l,h)):(e=Au(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ll,s(g,l)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Qi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Mp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ll(f,l)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Vf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Cf(e,n,s,l,h)}function Vp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return kp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Lg(n,f):nf(),Pg(n);else return l=n.lanes=536870912,kp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Iu(n,f.cachePool),Lg(n,f),zs(),n.memoizedState=null):(e!==null&&Iu(n,null),nf(),zs());return Ze(e,n,h,s),n.child}function Zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kp(e,n,s,l,h){var f=$h();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Iu(n,null),nf(),Pg(n),e!==null&&Ca(e,n,l,!0),n.childLanes=h,null}function Gu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Up(e,n,s){return qr(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function u1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=Gu(n,l),n.lanes=536870912,Zl(null,e);if(rf(n),(e=ce)?(e=Yy(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=vg(e),s.return=n,n.child=s,$e=n,ce=null)):e=null,e===null)throw Ms(n);return n.lanes=536870912,null}return Gu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Up(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ca(e,n,s,!1),h=(s&e.childLanes)!==0,Ve||h){if(l=le,l!==null&&(g=vl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Vr(e,g),_n(l,e,g),Rf;ec(),n=Up(e,n,s)}else e=f.treeContext,ce=Gn(g.nextSibling),$e=n,Bt=!0,Os=null,qn=!1,e!==null&&bg(n,e),n=Gu(n,l),n.flags|=4096;return n}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,l,h){return Pr(n),s=lf(e,n,s,l,void 0,h),l=of(),e!==null&&!Ve?(uf(e,n,h),Wi(e,n,h)):(Bt&&l&&Bh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function Lp(e,n,s,l,h,f){return Pr(n),n.updateQueue=null,s=jg(n,l,s,h),zg(e),l=of(),e!==null&&!Ve?(uf(e,n,f),Wi(e,n,f)):(Bt&&l&&Bh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function Pp(e,n,s,l,h){if(Pr(n),n.stateNode===null){var f=Sa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Je(g):Sa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Af.enqueueReplaceState(f,f.state,null),Ql(n,l,f,h),Kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Gr(s,E);f.props=R;var z=f.context,F=s.contextType;g=Sa,typeof F=="object"&&F!==null&&(g=Je(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Ap(n,f,l,g),ks=!1;var j=n.memoizedState;f.state=j,Ql(n,l,f,h),Kl(),z=n.memoizedState,E||j!==z||ks?(typeof X=="function"&&(Sf(n,s,X,l),z=n.memoizedState),(R=ks||Sp(n,s,R,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,F=Gr(s,g),f.props=F,X=n.pendingProps,j=f.context,z=s.contextType,R=Sa,typeof z=="object"&&z!==null&&(R=Je(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&Ap(n,f,l,R),ks=!1,j=n.memoizedState,f.state=j,Ql(n,l,f,h),Kl();var q=n.memoizedState;g!==X||j!==q||ks||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,l),q=n.memoizedState),(F=ks||Sp(n,s,F,l,j,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Fu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function zp(e,n,s,l){return Ur(),n.flags|=256,Ze(e,n,s,l),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Ig()}}function Nf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function jp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Ps(n):zs(),(e=ce)?(e=Yy(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=vg(e),s.return=n,n.child=s,$e=n,ce=null)):e=null,e===null)throw Ms(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(zs(),h=n.mode,E=Ku({mode:"hidden",children:E},h),l=kr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=xf(s),l.childLanes=Nf(e,g,s),n.memoizedState=If,Zl(null,l)):(Ps(n),Df(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Of(e,n,s)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),E=l.fallback,h=n.mode,l=Ku({mode:"visible",children:l.children},h),E=kr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,qr(n,e.child,null,s),l=n.child,l.memoizedState=xf(s),l.childLanes=Nf(e,g,s),n.memoizedState=If,n=Zl(null,l));else if(Ps(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,jl({value:l,source:null,stack:null}),n=Of(e,n,s)}else if(Ve||Ca(e,n,s,!1),g=(s&e.childLanes)!==0,Ve||g){if(g=le,g!==null&&(l=vl(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Vr(e,l),_n(g,e,l),Rf;hd(E)||ec(),n=Of(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ce=Gn(E.nextSibling),$e=n,Bt=!0,Os=null,qn=!1,e!==null&&bg(n,e),n=Df(n,l.children),n.flags|=4096);return n}return h?(zs(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=Qi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=kr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Zl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ig(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Nf(e,g,s),n.memoizedState=If,Zl(e.child,l)):(Ps(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Df(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Of(e,n,s){return qr(n,e.child,null,s),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Kh(e.return,n,s)}function Mf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function qp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=we.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,rt(we,g),Ze(e,n,l,s),l=Bt?zl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,s,n);else if(e.tag===19)Bp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ca(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function c1(e,n,s){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Vs(n,Oe,e.memoizedState.cache),Ur();break;case 27:case 5:hi(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?jp(e,n,s):(Ps(n),e=Wi(e,n,s),e!==null?e.sibling:null);Ps(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ca(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return qp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),l)break;return null;case 22:return n.lanes=0,Vp(e,n,s,n.pendingProps);case 24:Vs(n,Oe,e.memoizedState.cache)}return Wi(e,n,s)}function Hp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Ve=!1,c1(e,n,s);Ve=(e.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Tg(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=jr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(l=Gr(e,l),n.tag=1,n=Pp(null,n,e,l,s)):(n.tag=0,n=Cf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Kt){n.tag=11,n=Dp(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=Op(null,n,e,l,s);break t}}throw n=oe(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Gr(l,n.pendingProps),Pp(e,n,l,h,s);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),Ql(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Vs(n,Oe,l),l!==f.cache&&Qh(n,[Oe],s,!0),Kl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zp(e,n,l,s);break t}else if(l!==h){h=zn(Error(a(424)),n),jl(h),n=zp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Gn(e.firstChild),$e=n,Bt=!0,Os=null,qn=!0,s=Vg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ur(),l===h){n=Wi(e,n,s);break t}Ze(e,n,l,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=t_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,l=oc(Rt.current).createElement(s),l[xe]=n,l[qe]=e,We(l,s,e),Ne(l),n.stateNode=l):n.memoizedState=t_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hi(n),e===null&&Bt&&(l=n.stateNode=Jy(n.type,n.pendingProps,Rt.current),$e=n,qn=!0,h=ce,Qs(n.type)?(dd=h,ce=Gn(l.firstChild)):ce=h),Ze(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=l=ce)&&(l=j1(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,$e=n,ce=Gn(l.firstChild),qn=!1,h=!0):h=!1),h||Ms(n)),hi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,od(h,f)?l=null:g!==null&&od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,e1,null,null,s),mo._currentValue=h),Fu(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&Bt&&((e=s=ce)&&(s=B1(s,n.pendingProps,qn),s!==null?(n.stateNode=s,$e=n,ce=null,e=!0):e=!1),e||Ms(n)),null;case 13:return jp(e,n,s);case 4:return be(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=qr(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Vs(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Pr(n),h=Je(h),l=l(h),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return Op(e,n,n.type,n.pendingProps,s);case 15:return Mp(e,n,n.type,n.pendingProps,s);case 19:return qp(e,n,s);case 31:return u1(e,n,s);case 22:return Vp(e,n,s,n.pendingProps);case 24:return Pr(n),l=Je(Oe),e===null?(h=$h(),h===null&&(h=le,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Zh(n),Vs(n,Oe,h)):((e.lanes&s)!==0&&(Wh(e,n),Ql(n,null,null,s),Kl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Oe,l)):(l=f.cache,Vs(n,Oe,l),l!==h.cache&&Qh(n,[Oe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function kf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(py())e.flags|=8192;else throw Br=Nu,Jh}else e.flags&=-16777217}function Gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(n))if(py())e.flags|=8192;else throw Br=Nu,Jh}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wo():536870912,e.lanes|=n,za|=n)}function Wl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function h1(e,n,s){var l=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),$i(Oe),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ra(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(he(n),Gp(n,f)):(he(n),kf(n,h,null,l,s))):f?f!==e.memoizedState?(ts(n),he(n),Gp(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ts(n),he(n),kf(n,h,e,l,s)),null;case 27:if(ys(n),s=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=at.current,Ra(n)?Sg(n):(e=Jy(h,l,s),n.stateNode=e,ts(n))}return he(n),null;case 5:if(ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=at.current,Ra(n))Sg(n);else{var g=oc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[xe]=n,f[qe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(We(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ts(n)}}return he(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,Ra(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=$e,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||jy(e.nodeValue,s)),e||Ms(n,!0)}else e=oc(e).createTextNode(l),e[xe]=n,n.stateNode=e}return he(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ra(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ra(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),he(n),null);case 4:return qt(),e===null&&id(n.stateNode.containerInfo),he(n),null;case 10:return $i(n.type),he(n),null;case 19:if(Y(we),l=n.memoizedState,l===null)return he(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Wl(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Wl(l,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)_g(s,e),s=s.sibling;return rt(we,we.current&1|2),Bt&&Yi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ft()>Zu&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return he(n),null}else 2*Ft()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ft(),e.sibling=null,s=we.current,rt(we,h?s&1|2:s&1),Bt&&Yi(n,l.treeForkCount),e):(he(n),null);case 22:case 23:return In(n),sf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(zr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Oe),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function f1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Oe),qt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ys(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(we),null;case 4:return qt(),null;case 10:return $i(n.type),null;case 22:case 23:return In(n),sf(),e!==null&&Y(zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Oe),null;case 25:return null;default:return null}}function Fp(e,n){switch(qh(n),n.tag){case 3:$i(Oe),qt();break;case 26:case 27:case 5:ys(n);break;case 4:qt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(we);break;case 10:$i(n.type);break;case 22:case 23:In(n),sf(),e!==null&&Y(zr);break;case 24:$i(Oe)}}function to(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function js(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(F){ee(h,R,F)}}}l=l.next}while(l!==f)}}catch(F){ee(n,n.return,F)}}function Kp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ug(n,s)}catch(l){ee(e,e.return,l)}}}function Qp(e,n,s){s.props=Gr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ee(e,n,l)}}function eo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ee(e,n,h)}}function Oi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function Yp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Uf(e,n,s){try{var l=e.stateNode;V1(l,e.type,s,n),l[qe]=n}catch(h){ee(e,e.return,h)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Wn));else if(l!==4&&(l===27&&Qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Yu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function $p(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,l,s),n[xe]=e,n[qe]=s}catch(f){ee(e,e.return,f)}}var es=!1,ke=!1,zf=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function d1(e,n){if(e=e.containerInfo,ad=gc,e=ug(e),Dh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===l&&(R=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},gc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Gr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ee(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function Zp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),l&4&&to(5,s);break;case 1:if(is(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(s,s.return,g)}else{var h=Gr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(s,s.return,g)}}l&64&&Kp(s),l&512&&eo(s,s.return);break;case 3:if(is(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ug(e,n)}catch(g){ee(s,s.return,g)}}break;case 27:n===null&&l&4&&$p(s);case 26:case 5:is(e,s),n===null&&l&4&&Yp(s),l&512&&eo(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),l&4&&ey(e,s);break;case 13:is(e,s),l&4&&ny(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=b1.bind(null,s),q1(e,s))));break;case 22:if(l=s.memoizedState!==null||es,!l){n=n!==null&&n.memoizedState!==null||ke,h=es;var f=ke;es=l,(ke=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,ke=f}break;case 30:break;default:is(e,s)}}function Wp(e){var n=e.alternate;n!==null&&(e.alternate=null,Wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ua(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,mn=!1;function ns(e,n,s){for(s=s.child;s!==null;)ty(e,n,s),s=s.sibling}function ty(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Xn,s)}catch{}switch(s.tag){case 26:ke||Oi(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||Oi(s,n);var l=ge,h=mn;Qs(s.type)&&(ge=s.stateNode,mn=!1),ns(e,n,s),co(s.stateNode),ge=l,mn=h;break;case 5:ke||Oi(s,n);case 6:if(l=ge,h=mn,ge=null,ns(e,n,s),ge=l,mn=h,ge!==null)if(mn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:ge!==null&&(mn?(e=ge,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):Ky(ge,s.stateNode));break;case 4:l=ge,h=mn,ge=s.stateNode.containerInfo,mn=!0,ns(e,n,s),ge=l,mn=h;break;case 0:case 11:case 14:case 15:js(2,s,n),ke||js(4,s,n),ns(e,n,s);break;case 1:ke||(Oi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Qp(s,n,l)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:ke=(l=ke)||s.memoizedState!==null,ns(e,n,s),ke=l;break;default:ns(e,n,s)}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){ee(n,n.return,s)}}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){ee(n,n.return,s)}}function m1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jp),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=m1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=S1.bind(null,e,l);l.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ge=E.stateNode,mn=!1;break t}break;case 5:ge=E.stateNode,mn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ge===null)throw Error(a(160));ty(f,g,h),ge=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,e),n=n.sibling}var ri=null;function iy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),l&4&&(js(3,e,e.return),to(3,e),js(5,e,e.return));break;case 1:gn(n,e),pn(e),l&512&&(ke||s===null||Oi(s,s.return)),l&64&&es&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ri;if(gn(n,e),pn(e),l&512&&(ke||s===null||Oi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,l,s),f[xe]=e,Ne(f),l=f;break t;case"link":var g=i_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),We(f,l,s),h.head.appendChild(f);break;case"meta":if(g=i_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),We(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xe]=e,Ne(f),l=f}e.stateNode=l}else s_(h,e.type,e.stateNode);else e.stateNode=n_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?s_(h,e.type,e.stateNode):n_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),l&512&&(ke||s===null||Oi(s,s.return)),s!==null&&l&4&&Uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),l&512&&(ke||s===null||Oi(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ot){ee(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(gn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){ee(e,e.return,ot)}}break;case 3:if(hc=null,h=ri,ri=uc(n.containerInfo),gn(n,e),ri=h,pn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ot){ee(e,e.return,ot)}zf&&(zf=!1,sy(e));break;case 4:l=ri,ri=uc(e.stateNode.containerInfo),gn(n,e),pn(e),ri=l;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=Ft()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=es,F=ke;if(es=z||h,ke=F||R,gn(n,e),ke=F,es=z,pn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||es||ke||Fr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){ee(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){ee(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Qy(q,!0):Qy(R.stateNode,!1)}catch(ot){ee(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Xu(e,s))));break;case 19:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Xp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Yu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=Lf(e);Yu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Lf(e);Pf(e,z,R);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Fr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Fr(n);break;case 1:Oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),Fr(n);break;case 27:co(n.stateNode);case 26:case 5:Oi(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),to(4,f);break;case 1:if(ss(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)kg(R[h],E)}catch(z){ee(l,l.return,z)}}s&&g&64&&Kp(f),eo(f,f.return);break;case 27:$p(f);case 26:case 5:ss(h,f,s),s&&l===null&&g&4&&Yp(f),eo(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&ey(h,f);break;case 13:ss(h,f,s),s&&g&4&&ny(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),eo(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bl(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e))}function ai(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,s,l),n=n.sibling}function ry(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,s,l),h&2048&&to(9,n);break;case 1:ai(e,n,s,l);break;case 3:ai(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e)));break;case 12:if(h&2048){ai(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(n,n.return,R)}}else ai(e,n,s,l);break;case 31:ai(e,n,s,l);break;case 13:ai(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ai(e,n,s,l):no(e,n):f._visibility&2?ai(e,n,s,l):(f._visibility|=2,Ua(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:ai(e,n,s,l),h&2048&&Bf(n.alternate,n);break;default:ai(e,n,s,l)}}function Ua(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,R,h),to(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ua(f,g,E,R,h):no(f,g):(F._visibility|=2,Ua(f,g,E,R,h)),h&&z&2048&&jf(g.alternate,g);break;case 24:Ua(f,g,E,R,h),h&&z&2048&&Bf(g.alternate,g);break;default:Ua(f,g,E,R,h)}n=n.sibling}}function no(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:no(s,l),h&2048&&jf(l.alternate,l);break;case 24:no(s,l),h&2048&&Bf(l.alternate,l);break;default:no(s,l)}n=n.sibling}}var io=8192;function La(e,n,s){if(e.subtreeFlags&io)for(e=e.child;e!==null;)ay(e,n,s),e=e.sibling}function ay(e,n,s){switch(e.tag){case 26:La(e,n,s),e.flags&io&&e.memoizedState!==null&&tb(s,ri,e.memoizedState,e.memoizedProps);break;case 5:La(e,n,s);break;case 3:case 4:var l=ri;ri=uc(e.stateNode.containerInfo),La(e,n,s),ri=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=io,io=16777216,La(e,n,s),io=l):La(e,n,s));break;default:La(e,n,s)}}function ly(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function so(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,uy(l,e)}ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&js(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):so(e);break;default:so(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,uy(l,e)}ly(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:js(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function uy(e,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=e;Ge!==null;){l=Ge;var h=l.sibling,f=l.return;if(Wp(l),l===s){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var g1={getCacheForType:function(e){var n=Je(Oe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Je(Oe).controller.signal}},p1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,le=null,Ot=null,kt=0,te=0,xn=null,Bs=!1,Pa=!1,qf=!1,rs=0,ve=0,qs=0,Kr=0,Hf=0,Nn=0,za=0,ro=null,yn=null,Gf=!1,Ju=0,cy=0,Zu=1/0,Wu=null,Hs=null,ze=0,Gs=null,ja=null,as=0,Ff=0,Kf=null,hy=null,ao=0,Qf=null;function Dn(){return(Jt&2)!==0&&kt!==0?kt&-kt:G.T!==null?Wf():tu()}function fy(){if(Nn===0)if((kt&536870912)===0||Bt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function _n(e,n,s){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Fs(e,kt,Nn,!1)),Er(e,s),((Jt&2)===0||e!==le)&&(e===le&&((Jt&2)===0&&(Kr|=s),ve===4&&Fs(e,kt,Nn,!1)),Mi(e))}function dy(e,n,s){if((Jt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||$n(e,n),h=l?v1(e,n):Xf(e,n,!0),f=l;do{if(h===0){Pa&&!l&&Fs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!y1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ro;var R=E.current.memoizedState.isDehydrated;if(R&&(Ba(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!R){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ba(e,0),Fs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fs(l,n,Nn,!Bs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-Ft(),10<h)){if(Fs(l,n,Nn,!Bs),gi(l,0,!0)!==0)break t;as=n,l.timeoutHandle=Gy(my.bind(null,l,s,yn,Wu,Gf,n,Nn,Kr,za,Bs,f,"Throttled",-0,0),h);break t}my(l,s,yn,Wu,Gf,n,Nn,Kr,za,Bs,f,null,-0,0)}}break}while(!0);Mi(e)}function my(e,n,s,l,h,f,g,E,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},ay(n,f,X);var ot=(f&62914560)===f?Ju-Ft():(f&4194048)===f?cy-Ft():0;if(ot=eb(X,ot),ot!==null){as=f,e.cancelPendingCommit=ot(by.bind(null,e,n,f,s,l,h,g,E,R,F,X,null,j,q)),Fs(e,f,g,!z);return}}by(e,n,f,s,l,h,g,E,R)}function y1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(e,n,s,l){n&=~Hf,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Se(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Tr(e,s,n)}function tc(){return(Jt&6)===0?(lo(0),!1):!0}function Yf(){if(Ot!==null){if(te===0)var e=Ot.return;else e=Ot,Xi=Lr=null,cf(e),Da=null,Hl=0,e=Ot;for(;e!==null;)Fp(e.alternate,e),e=e.return;Ot=null}}function Ba(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,L1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,Yf(),le=e,Ot=s=Qi(e.current,null),kt=n,te=0,xn=null,Bs=!1,Pa=$n(e,n),qf=!1,za=Nn=Hf=Kr=qs=ve=0,yn=ro=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Se(l),f=1<<h;n|=e[h],l&=~f}return rs=n,Tu(),s}function gy(e,n){It=null,G.H=Jl,n===Na||n===xu?(n=Dg(),te=3):n===Jh?(n=Dg(),te=4):te=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ot===null&&(ve=1,Hu(e,zn(n,e.current)))}function py(){var e=Cn.current;return e===null?!0:(kt&4194048)===kt?Hn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Hn:!1}function yy(){var e=G.H;return G.H=Jl,e===null?Jl:e}function _y(){var e=G.A;return G.A=g1,e}function ec(){ve=4,Bs||(kt&4194048)!==kt&&Cn.current!==null||(Pa=!0),(qs&134217727)===0&&(Kr&134217727)===0||le===null||Fs(le,kt,Nn,!1)}function Xf(e,n,s){var l=Jt;Jt|=2;var h=yy(),f=_y();(le!==e||kt!==n)&&(Wu=null,Ba(e,n)),n=!1;var g=ve;t:do try{if(te!==0&&Ot!==null){var E=Ot,R=xn;switch(te){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=te;if(te=0,xn=null,qa(e,E,R,z),s&&Pa){g=0;break t}break;default:z=te,te=0,xn=null,qa(e,E,R,z)}}_1(),g=ve;break}catch(F){gy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Xi=Lr=null,Jt=l,G.H=h,G.A=f,Ot===null&&(le=null,kt=0,Tu()),g}function _1(){for(;Ot!==null;)vy(Ot)}function v1(e,n){var s=Jt;Jt|=2;var l=yy(),h=_y();le!==e||kt!==n?(Wu=null,Zu=Ft()+500,Ba(e,n)):Pa=$n(e,n);t:do try{if(te!==0&&Ot!==null){n=Ot;var f=xn;e:switch(te){case 1:te=0,xn=null,qa(e,n,f,1);break;case 2:case 9:if(xg(f)){te=0,xn=null,Ey(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),Mi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:xg(f)?(te=0,xn=null,Ey(n)):(te=0,xn=null,qa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?r_(g):E.stateNode.complete){te=0,xn=null;var R=E.sibling;if(R!==null)Ot=R;else{var z=E.return;z!==null?(Ot=z,nc(z)):Ot=null}break e}}te=0,xn=null,qa(e,n,f,5);break;case 6:te=0,xn=null,qa(e,n,f,6);break;case 8:Yf(),ve=6;break t;default:throw Error(a(462))}}E1();break}catch(F){gy(e,F)}while(!0);return Xi=Lr=null,G.H=l,G.A=h,Jt=s,Ot!==null?0:(le=null,kt=0,Tu(),ve)}function E1(){for(;Ot!==null&&!pe();)vy(Ot)}function vy(e){var n=Hp(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?nc(e):Ot=n}function Ey(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Lp(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Lp(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:cf(n);default:Fp(s,n),n=Ot=_g(n,rs),n=Hp(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?nc(e):Ot=n}function qa(e,n,s,l){Xi=Lr=null,cf(n),Da=null,Hl=0;var h=n.return;try{if(o1(e,h,n,s,kt)){ve=1,Hu(e,zn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;ve=1,Hu(e,zn(s,e.current)),Ot=null;return}n.flags&32768?(Bt||l===1?e=!0:Pa||(kt&536870912)!==0?e=!1:(Bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ty(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){Ty(n,Bs);return}e=n.return;var s=h1(n.alternate,n,rs);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ve===0&&(ve=5)}function Ty(e,n){do{var s=f1(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);ve=6,Ot=null}function by(e,n,s,l,h,f,g,E,R){e.cancelPendingCommit=null;do ic();while(ze!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ch(e,s,f,g,E,R),e===le&&(Ot=le=null,kt=0),ja=n,Gs=e,as=s,Ff=f,Kf=h,hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A1(Yn,function(){return Cy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=st.p,st.p=2,g=Jt,Jt|=4;try{d1(e,n,s)}finally{Jt=g,st.p=h,G.T=l}}ze=1,Sy(),Ay(),wy()}}function Sy(){if(ze===1){ze=0;var e=Gs,n=ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{iy(n,e);var f=ld,g=ug(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(R!==null&&Dh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),ae=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>ae&&(g=ae,ae=pt,pt=g);var k=lg(E,pt),N=lg(E,ae);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>ae?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!ad,ld=ad=null}finally{Jt=h,st.p=l,G.T=s}}e.current=n,ze=2}}function Ay(){if(ze===2){ze=0;var e=Gs,n=ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{Zp(e,n.alternate,n)}finally{Jt=h,st.p=l,G.T=s}}ze=3}}function wy(){if(ze===4||ze===3){ze=0,En();var e=Gs,n=ja,s=as,l=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ja=Gs=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Hi(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=st.p,st.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,st.p=h}}(as&3)!==0&&ic(),Mi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Qf?ao++:(ao=0,Qf=e):ao=0,lo(0)}}function Ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bl(n)))}function ic(){return Sy(),Ay(),wy(),Cy()}function Cy(){if(ze!==5)return!1;var e=Gs,n=Ff;Ff=0;var s=Hi(as),l=G.T,h=st.p;try{st.p=32>s?32:s,G.T=null,s=Kf,Kf=null;var f=Gs,g=as;if(ze=0,ja=Gs=null,as=0,(Jt&6)!==0)throw Error(a(331));var E=Jt;if(Jt|=4,oy(f.current),ry(f,f.current,g,s),Jt=E,lo(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{st.p=h,G.T=l,Ry(e,n)}}function Iy(e,n,s){n=zn(s,n),n=wf(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(Er(e,2),Mi(e))}function ee(e,n,s){if(e.tag===3)Iy(e,e,s);else for(;n!==null;){if(n.tag===3){Iy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){e=zn(s,e),s=xp(2),l=Ls(n,s,2),l!==null&&(Np(s,l,n,e),Er(l,2),Mi(l));break}}n=n.return}}function $f(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new p1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(qf=!0,h.add(s),e=T1.bind(null,e,n,s),n.then(e,e))}function T1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(kt&s)===s&&(ve===4||ve===3&&(kt&62914560)===kt&&300>Ft()-Ju?(Jt&2)===0&&Ba(e,0):Hf|=s,za===kt&&(za=0)),Mi(e)}function xy(e,n){n===0&&(n=Wo()),e=Vr(e,n),e!==null&&(Er(e,n),Mi(e))}function b1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),xy(e,s)}function S1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),xy(e,s)}function A1(e,n){return Qt(e,n)}var sc=null,Ha=null,Jf=!1,rc=!1,Zf=!1,Ks=0;function Mi(e){e!==Ha&&e.next===null&&(Ha===null?sc=Ha=e:Ha=Ha.next=e),rc=!0,Jf||(Jf=!0,R1())}function lo(e,n){if(!Zf&&rc){Zf=!0;do for(var s=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Se(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,My(l,f))}else f=kt,f=gi(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(s=!0,My(l,f));l=l.next}while(s);Zf=!1}}function w1(){Ny()}function Ny(){rc=Jf=!1;var e=0;Ks!==0&&U1()&&(e=Ks);for(var n=Ft(),s=null,l=sc;l!==null;){var h=l.next,f=Dy(l,n);f===0?(l.next=null,s===null?sc=h:s.next=h,h===null&&(Ha=s)):(s=l,(e!==0||(f&3)!==0)&&(rc=!0)),l=h}ze!==0&&ze!==5||lo(e),Ks!==0&&(Ks=0)}function Dy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Se(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Rh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=kt,s=gi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pe(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||$n(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Pe(l),Hi(s)){case 2:case 8:s=Es;break;case 32:s=Yn;break;case 268435456:s=fi;break;default:s=Yn}return l=Oy.bind(null,e),s=Qt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Pe(l),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var l=kt;return l=gi(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(dy(e,l,n),Dy(e,Ft()),e.callbackNode!=null&&e.callbackNode===s?Oy.bind(null,e):null)}function My(e,n){if(ic())return null;dy(e,n,!0)}function R1(){P1(function(){(Jt&6)!==0?Qt(vs,w1):Ny()})}function Wf(){if(Ks===0){var e=Ia;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Ks=e}return Ks}function Vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Vy((h[qe]||null).action),g=l.submitter;g&&(n=(n=g[qe]||null)?Vy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ri("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var R=g?ky(h,g):new FormData(h);vf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?ky(h,g):new FormData(h),vf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],I1=ed.toLowerCase(),x1=ed[0].toUpperCase()+ed.slice(1);si(I1,"on"+x1)}si(fg,"onAnimationEnd"),si(dg,"onAnimationIteration"),si(mg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(FT,"onTransitionRun"),si(KT,"onTransitionStart"),si(QT,"onTransitionCancel"),si(gg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=R}}}}function Mt(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var l=e+"__bubble";s.has(l)||(Ly(n,e,2,!1),s.add(l))}function nd(e,n,s){var l=0;n&&(l|=4),Ly(s,e,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ac]){e[ac]=!0,El.forEach(function(s){s!=="selectionchange"&&(N1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,nd("selectionchange",!1,n))}}function Ly(e,n,s,l){switch(f_(n)){case 2:var h=sb;break;case 8:h=rb;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=vi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Cs(function(){var z=f,F=kn(s),X=[];t:{var j=pg.get(e);if(j!==void 0){var q=Ri,ot=e;switch(e){case"keypress":if(Ir(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":ot="focus",q=Nr;break;case"focusout":ot="blur",q=Nr;break;case"beforeblur":case"afterblur":q=Nr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case fg:case dg:case mg:q=cu;break;case gg:q=T;break;case"scroll":case"scrollend":q=Ol;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ae=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ti(N,k),Q!=null&&pt.push(uo(N,Q,P))),ae)break;N=N.return}0<pt.length&&(j=new q(j,ot,null,s,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==xl&&(ot=s.relatedTarget||s.fromElement)&&(vi(ot)||ot[yi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?vi(ot):null,ot!==null&&(ae=c(ot),pt=ot.tag,ot!==ae||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Ml,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ki,Q="onPointerLeave",k="onPointerEnter",N="pointer"),ae=q==null?j:Sn(q),P=ot==null?j:Sn(ot),j=new pt(Q,N+"leave",q,s,F),j.target=ae,j.relatedTarget=P,Q=null,vi(F)===z&&(pt=new pt(k,N+"enter",ot,s,F),pt.target=P,pt.relatedTarget=ae,Q=pt),ae=Q,q&&ot)e:{for(pt=D1,k=q,N=ot,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ft=N;ft;ft=pt(ft))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)N=pt(N),Q--;for(;P--;){if(k===N||N!==null&&k===N.alternate){pt=k;break e}k=pt(k),N=pt(N)}pt=null}else pt=null;q!==null&&Py(X,j,q,pt,!1),ot!==null&&ae!==null&&Py(X,ae,ot,pt,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Yt=eg;else if(Wm(j))if(ng)Yt=qT;else{Yt=jT;var ut=zT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&fa(z.elementType)&&(Yt=eg):Yt=BT;if(Yt&&(Yt=Yt(e,z))){tg(X,Yt,s,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Rl(j,"number",j.value)}switch(ut=z?Sn(z):window,e){case"focusin":(Wm(ut)||ut.contentEditable==="true")&&(Ea=ut,Oh=z,Pl=null);break;case"focusout":Pl=Oh=Ea=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,cg(X,s,F);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":cg(X,s,F)}var Nt;if($t)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else va?Dr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(xi&&s.locale!=="ko"&&(va||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&va&&(Nt=Dl()):(wi=F,Nl="value"in wi?wi.value:wi.textContent,va=!0)),ut=lc(z,Ut),0<ut.length&&(Ut=new Ii(Ut,e,null,s,F),X.push({event:Ut,listeners:ut}),Nt?Ut.data=Nt:(Nt=_a(s),Nt!==null&&(Ut.data=Nt)))),(Nt=Ln?kT(e,s):UT(e,s))&&(Ut=lc(z,"onBeforeInput"),0<Ut.length&&(ut=new Ii("onBeforeInput","beforeinput",null,s,F),X.push({event:ut,listeners:Ut}),ut.data=Nt)),C1(X,e,z,s,F)}Uy(X,n)})}function uo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(e,s),h!=null&&l.unshift(uo(e,h,f)),h=ti(e,n),h!=null&&l.push(uo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function D1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Py(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ti(s,f),z!=null&&g.unshift(uo(s,z,R))):h||(z=ti(s,f),z!=null&&g.push(uo(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var O1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(M1,"")}function jy(e,n){return n=zy(n),zy(e)===n}function re(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(e,""+l);break;case"className":An(e,"class",l);break;case"tabIndex":An(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,l);break;case"style":Il(e,l,f);break;case"data":if(n!=="object"){An(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=da(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=da(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ca(e,"popover",l);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,ca(e,s,l))}}function rd(e,n,s,l,h,f){switch(s){case"style":Il(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ca(e,s,l)}}}function We(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),l&&re(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=f=g=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,l,F,s,null)}}su(e,f,E,R,z,g,h,!1);return;case"select":Mt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:re(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Ss(e,!!l,n,!1):s!=null&&Ss(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,s,null)}As(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":re(e,n,R,l,s,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<oo.length;l++)Mt(oo[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,l,s,null)}return;default:if(fa(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&rd(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&re(e,n,E,l,s,null))}function V1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(q)||re(e,n,q,null,l,X)}}for(var j in l){var q=l[j];if(X=s[j],l.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&re(e,n,j,q,l,X)}}ha(e,g,E,R,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||re(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,l,R)}n=E,s=g,l=q,j!=null?Ss(e,!!s,j,!1):!!l!=!!s&&(n!=null?Ss(e,!!s,n,!0):Ss(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,l,f)}ru(e,j,q);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:re(e,n,ot,null,l,j));for(R in l)j=l[R],q=s[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":re(e,n,R,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&re(e,n,pt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,l,q)}return;default:if(fa(n)){for(var ae in s)j=s[ae],s.hasOwnProperty(ae)&&j!==void 0&&!l.hasOwnProperty(ae)&&rd(e,n,ae,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||rd(e,n,F,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&re(e,n,k,null,l,j);for(X in l)j=l[X],q=s[X],!l.hasOwnProperty(X)||j===q||j==null&&q==null||re(e,n,X,j,l,q)}function By(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&By(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var F=R.transferSize,X=R.initiatorType;F&&By(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,ld=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function U1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(z1)}:Gy;function z1(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function Ky(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Qa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")co(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,co(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&co(e.ownerDocument.body);s=h}while(s);Qa(n)}function Qy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function j1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function B1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Gn(e.nextSibling),e===null))return null;return e}function Yy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function Xy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Gn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function $y(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Jy(e,n,s){switch(n=oc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function co(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ua(e)}var Fn=new Map,Zy=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=st.d;st.d={f:H1,r:G1,D:F1,C:K1,L:Q1,m:Y1,X:$1,S:X1,M:J1};function H1(){var e=ls.f(),n=tc();return e||n}function G1(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?gp(n):ls.r(e)}var Ga=typeof document>"u"?null:document;function Wy(e,n,s){var l=Ga;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),We(n,"link",e),Ne(n),l.head.appendChild(n)))}}function F1(e){ls.D(e),Wy("dns-prefetch",e,null)}function K1(e,n){ls.C(e,n),Wy("preconnect",e,n)}function Q1(e,n,s){ls.L(e,n,s);var l=Ga;if(l&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Ka(e)}Fn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Fn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ho(f))||n==="script"&&l.querySelector(fo(f))||(n=l.createElement("link"),We(n,"link",e),Ne(n),l.head.appendChild(n)))}}function Y1(e,n){ls.m(e,n);var s=Ga;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Fn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Fn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fo(f)))return}l=s.createElement("link"),We(l,"link",e),Ne(l),s.head.appendChild(l)}}}function X1(e,n,s){ls.S(e,n,s);var l=Ga;if(l&&e){var h=Ei(l).hoistableStyles,f=Fa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ho(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Fn.get(f))&&md(e,s);var R=g=l.createElement("link");Ne(R),We(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $1(e,n){ls.X(e,n);var s=Ga;if(s&&e){var l=Ei(s).hoistableScripts,h=Ka(e),f=l.get(h);f||(f=s.querySelector(fo(h)),f||(e=A({src:e,async:!0},n),(n=Fn.get(h))&&gd(e,n),f=s.createElement("script"),Ne(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J1(e,n){ls.M(e,n);var s=Ga;if(s&&e){var l=Ei(s).hoistableScripts,h=Ka(e),f=l.get(h);f||(f=s.querySelector(fo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Fn.get(h))&&gd(e,n),f=s.createElement("script"),Ne(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function t_(e,n,s,l){var h=(h=Rt.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Fa(s.href),s=Ei(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Fa(s.href);var f=Ei(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ho(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Fn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(e,s),f||Z1(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(s),s=Ei(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+fn(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function e_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Z1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),We(n,"link",s),Ne(n),e.head.appendChild(n))}function Ka(e){return'[src="'+fn(e)+'"]'}function fo(e){return"script[async]"+e}function n_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return n.instance=l,Ne(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),We(l,"style",h),cc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Fa(s.href);var f=e.querySelector(ho(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;l=e_(s),(h=Fn.get(h))&&md(l,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",l),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=Ka(s.src),(h=e.querySelector(fo(f)))?(n.instance=h,Ne(h),h):(l=s,(h=Fn.get(f))&&(l=A({},s),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),We(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,cc(l,s.precedence,e));return n.instance}function cc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function i_(e,n,s){if(hc===null){var l=new Map,h=hc=new Map;h.set(s,l)}else h=hc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[_i]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function s_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function W1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Fa(l.href),f=n.querySelector(ho(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,l=e_(l),(h=Fn.get(h))&&md(l,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function eb(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*k1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(nb,e),dc=null,fc.call(e))}function nb(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var l=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var mo={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ib(e,n,s,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function a_(e,n,s,l,h,f,g,E,R,z,F,X){return e=new ib(e,n,s,g,R,z,F,X,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Zh(f),e}function l_(e){return e?(e=Sa,e):Sa}function o_(e,n,s,l,h,f){h=l_(h),l.context===null?l.context=h:l.pendingContext=h,l=Us(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ls(e,l,n),s!==null&&(_n(s,e,n),Fl(s,e,n))}function u_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){u_(e,n),(e=e.alternate)&&u_(e,n)}function c_(e){if(e.tag===13||e.tag===31){var n=Vr(e,67108864);n!==null&&_n(n,e,67108864),yd(e,67108864)}}function h_(e){if(e.tag===13||e.tag===31){var n=Dn();n=br(n);var s=Vr(e,n);s!==null&&_n(s,e,n),yd(e,n)}}var gc=!0;function sb(e,n,s,l){var h=G.T;G.T=null;var f=st.p;try{st.p=2,_d(e,n,s,l)}finally{st.p=f,G.T=h}}function rb(e,n,s,l){var h=G.T;G.T=null;var f=st.p;try{st.p=8,_d(e,n,s,l)}finally{st.p=f,G.T=h}}function _d(e,n,s,l){if(gc){var h=vd(l);if(h===null)sd(e,n,l,pc,s),d_(e,l);else if(lb(h,e,n,s,l))l.stopPropagation();else if(d_(e,l),n&4&&-1<ab.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=mi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Se(g);E.entanglements[1]|=R,g&=~R}Mi(f),(Jt&6)===0&&(Zu=Ft()+500,lo(0))}}break;case 31:case 13:E=Vr(f,2),E!==null&&_n(E,f,2),tc(),yd(f,2)}if(f=vd(l),f===null&&sd(e,n,l,pc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else sd(e,n,l,null,s)}}function vd(e){return e=kn(e),Ed(e)}var pc=null;function Ed(e){if(pc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function f_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case vs:return 2;case Es:return 8;case Yn:case Ts:return 32;case fi:return 268435456;default:return 32}default:return 32}}var Td=!1,Ys=null,Xs=null,$s=null,go=new Map,po=new Map,Js=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,n){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function yo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&c_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lb(e,n,s,l,h){switch(n){case"focusin":return Ys=yo(Ys,e,n,s,l,h),!0;case"dragenter":return Xs=yo(Xs,e,n,s,l,h),!0;case"mouseover":return $s=yo($s,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,yo(go.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,yo(po.get(f)||null,e,n,s,l,h)),!0}return!1}function m_(e){var n=vi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){h_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){h_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);xl=l,s.target.dispatchEvent(l),xl=null}else return n=Vn(s),n!==null&&c_(n),e.blockedOn=s,!1;n.shift()}return!0}function g_(e,n,s){yc(e)&&s.delete(n)}function ob(){Td=!1,Ys!==null&&yc(Ys)&&(Ys=null),Xs!==null&&yc(Xs)&&(Xs=null),$s!==null&&yc($s)&&($s=null),go.forEach(g_),po.forEach(g_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var vc=null;function p_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ed(l||s)===null)continue;break}var f=Vn(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Qa(e){function n(R){return _c(R,e)}Ys!==null&&_c(Ys,e),Xs!==null&&_c(Xs,e),$s!==null&&_c($s,e),go.forEach(n),po.forEach(n);for(var s=0;s<Js.length;s++){var l=Js[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)m_(s),s.blockedOn===null&&Js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[qe]||null;if(typeof f=="function")g||p_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),p_(s)}}}function y_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}Ec.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Dn();o_(s,l,e,n,null,null)},Ec.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),tc(),n[yi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Js.length&&n!==0&&n<Js[s].priority;s++);Js.splice(s,0,e),s===0&&m_(e)}};var __=t.version;if(__!=="19.2.4")throw Error(a(527,__,"19.2.4"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ub={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Xn=Tc.inject(ub),Ye=Tc}catch{}}return vo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=wp,f=Rp,g=Cp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=a_(e,1,!1,null,null,s,l,null,h,f,g,y_),e[yi]=n.current,id(e),new bd(n)},vo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=wp,g=Rp,E=Cp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=a_(e,1,!0,n,s??null,l,h,R,f,g,E,y_),n.context=l_(null),s=n.current,l=Dn(),l=br(l),h=Us(l),h.callback=null,Ls(s,h,l),s=l,n.current.lanes=s,Er(n,s),Mi(n),e[yi]=n.current,id(e),new Ec(n)},vo.version="19.2.4",vo}var I_;function Eb(){if(I_)return wd.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=vb(),wd.exports}var Tb=Eb();const bb=u0(Tb),Sb=()=>{};var x_={};const c0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ab=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,H=y&63;v||(H=64,d||(V=64)),a.push(i[b],i[A],i[V],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(c0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ab(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new wb;const V=c<<2|p>>4;if(a.push(V),y!==64){const H=p<<4&240|y>>2;if(a.push(H),A!==64){const tt=y<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rb=function(r){const t=c0(r);return h0.encodeByteArray(t,!0)},jc=function(r){return Rb(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ib=()=>Cb().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof x_>"u")return;const r=x_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&f0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return Sb()||Ib()||xb()||Nb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>lh()?.emulatorHosts?.[r],Db=r=>{const t=d0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},m0=()=>lh()?.config,g0=r=>lh()?.[`_${r}`];class Ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function hl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(r){return(await fetch(r,{credentials:"include"})).ok}function Mb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const wo={};function Vb(){const r={prod:[],emulator:[]};for(const t of Object.keys(wo))wo[t]?r.emulator.push(t):r.prod.push(t);return r}function kb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let N_=!1;function y0(r,t){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||wo[r]===t||wo[r]||N_)return;wo[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Vb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{N_=!0,d()},V}function b(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=kb(a),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),it=document.getElementById(W)||document.createElement("a"),dt=i("preprendIcon"),wt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const vt=V.element;p(vt),b(it,W);const Kt=y();v(wt,dt),vt.append(wt,tt,it,Kt),document.body.appendChild(vt)}c?(tt.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Lb(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bb(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qb(){return!Lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hb(){try{return typeof indexedDB=="object"}catch{return!1}}function Gb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Fb="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Fb,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Kb(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ps(o,p,a)}}function Kb(r,t){return r.replace(Qb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Qb=/\{\$([^}]+)}/g;function Yb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Jr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(D_(c)&&D_(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}function Bo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Xb(r,t){const i=new $b(r,t);return i.subscribe.bind(i)}class $b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Jb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function On(r){return r&&r._delegate?r._delegate:r}class Zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qr="[DEFAULT]";class Zb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Ob;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tS(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Wb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wb(r){return r===Qr?void 0:r}function tS(r){return r.instantiationMode==="EAGER"}class eS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Zb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const nS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},iS=Lt.INFO,sS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},rS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=sS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=iS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const aS=(r,t)=>t.some(i=>r instanceof i);let O_,M_;function lS(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,Hd=new WeakMap,v0=new WeakMap,Nd=new WeakMap,pm=new WeakMap;function uS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ar(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_0.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function cS(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Gd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||v0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hS(r){Gd=r(Gd)}function fS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Dd(this),t,...i);return v0.set(a,t.sort?t.sort():[t]),ar(a)}:oS().includes(r)?function(...t){return r.apply(Dd(this),t),ar(_0.get(this))}:function(...t){return ar(r.apply(Dd(this),t))}}function dS(r){return typeof r=="function"?fS(r):(r instanceof IDBTransaction&&cS(r),aS(r,lS())?new Proxy(r,Gd):r)}function ar(r){if(r instanceof IDBRequest)return uS(r);if(Nd.has(r))return Nd.get(r);const t=dS(r);return t!==r&&(Nd.set(r,t),pm.set(t,r)),t}const Dd=r=>pm.get(r);function mS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=ar(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ar(d.result),v.oldVersion,v.newVersion,ar(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Od=new Map;function V_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=pS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||gS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Od.set(t,c),c}hS(r=>({...r,get:(t,i,a)=>V_(t,i)||r.get(t,i,a),has:(t,i)=>!!V_(t,i)||r.has(t,i)}));class yS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _S(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",k_="0.14.8";const hs=new gm("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",bS="@firebase/app-check-compat",SS="@firebase/app-check",AS="@firebase/auth",wS="@firebase/auth-compat",RS="@firebase/database",CS="@firebase/data-connect",IS="@firebase/database-compat",xS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",US="@firebase/performance-compat",LS="@firebase/remote-config",PS="@firebase/remote-config-compat",zS="@firebase/storage",jS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",GS="firebase",FS="12.9.0";const Kd="[DEFAULT]",KS={[Fd]:"fire-core",[vS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[bS]:"fire-app-check-compat",[AS]:"fire-auth",[wS]:"fire-auth-compat",[RS]:"fire-rtdb",[CS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[xS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[US]:"fire-perf-compat",[LS]:"fire-rc",[PS]:"fire-rc-compat",[zS]:"fire-gcs",[jS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const Bc=new Map,QS=new Map,Qd=new Map;function U_(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function rl(r){const t=r.name;if(Qd.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const i of Bc.values())U_(i,r);for(const i of QS.values())U_(i,r);return!0}function ym(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function li(r){return r==null?!1:r.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new jo("app","Firebase",YS);class XS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const fl=FS;function E0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(i||(i=m0()),!i)throw lr.create("no-options");const c=Bc.get(o);if(c){if(Jr(i,c.options)&&Jr(a,c.config))return c;throw lr.create("duplicate-app",{appName:o})}const d=new eS(o);for(const v of Qd.values())d.addComponent(v);const p=new XS(i,a,d);return Bc.set(o,p),p}function T0(r=Kd){const t=Bc.get(r);if(!t&&r===Kd&&m0())return E0();if(!t)throw lr.create("no-app",{appName:r});return t}function or(r,t,i){let a=KS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}rl(new Zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const $S="firebase-heartbeat-database",JS=1,Oo="firebase-heartbeat-store";let Md=null;function b0(){return Md||(Md=mS($S,JS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),Md}async function ZS(r){try{const i=(await b0()).transaction(Oo),a=await i.objectStore(Oo).get(S0(r));return await i.done,a}catch(t){if(t instanceof ps)hs.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function L_(r,t){try{const a=(await b0()).transaction(Oo,"readwrite");await a.objectStore(Oo).put(t,S0(r)),await a.done}catch(i){if(i instanceof ps)hs.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function S0(r){return`${r.name}!${r.options.appId}`}const WS=1024,tA=30;class eA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tA){const o=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:a}=nA(this._heartbeatsCache.heartbeats),o=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function nA(r,t=WS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),z_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class iA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hb()?Gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function z_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function sA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function rA(r){rl(new Zr("platform-logger",t=>new yS(t),"PRIVATE")),rl(new Zr("heartbeat",t=>new eA(t),"PRIVATE")),or(Fd,k_,r),or(Fd,k_,"esm2020"),or("fire-js","")}rA("");var aA="firebase",lA="12.9.0";or(aA,lA,"app");function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oA=A0,w0=new jo("auth","Firebase",A0());const qc=new gm("@firebase/auth");function uA(r,...t){qc.logLevel<=Lt.WARN&&qc.warn(`Auth (${fl}): ${r}`,...t)}function xc(r,...t){qc.logLevel<=Lt.ERROR&&qc.error(`Auth (${fl}): ${r}`,...t)}function fs(r,...t){throw _m(r,...t)}function ki(r,...t){return _m(r,...t)}function R0(r,t,i){const a={...oA(),[t]:i};return new jo("auth","Firebase",a).create(t,{appName:r.name})}function ur(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _m(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return w0.create(r,...t)}function Et(r,t,...i){if(!r)throw _m(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw xc(t),new Error(t)}function ds(r,t){r||os(t)}function Yd(){return typeof self<"u"&&self.location?.href||""}function cA(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}function hA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cA()||zb()||"connection"in navigator)?navigator.onLine:!0}function fA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=Ub()||jb()}get(){return hA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class C0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gA=new qo(3e4,6e4);function oh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function dl(r,t,i,a,o={}){return I0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Pb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&hl(r.emulatorConfig.host)&&(y.credentials="include"),C0.fetch()(await N0(r,r.config.apiHost,i,p),y)})}async function I0(r,t,i){r._canInitEmulator=!1;const a={...dA,...t};try{const o=new pA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw bc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(r,b,y);fs(r,b)}}catch(o){if(o instanceof ps)throw o;fs(r,"network-request-failed",{message:String(o)})}}async function x0(r,t,i,a,o={}){const c=await dl(r,t,i,a,o);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function N0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?vm(r.config,o):`${r.config.apiScheme}://${o}`;return mA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),gA.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ki(r,t,a);return o.customData._tokenResponse=i,o}async function yA(r,t){return dl(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return dl(r,"POST","/v1/accounts:lookup",t)}function Ro(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _A(r,t=!1){const i=On(r),a=await i.getIdToken(t),o=Em(a);Et(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Vd(o.auth_time)),issuedAtTime:Ro(Vd(o.iat)),expirationTime:Ro(Vd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function Em(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(i);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B_(r){const t=Em(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&vA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function vA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Mo(r,Hc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?D0(o.providerUserInfo):[],d=bA(r.providerData,c),p=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=p?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function TA(r){const t=On(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function D0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SA(r,t){const i=await I0(r,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await N0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&hl(r.emulatorConfig.host)&&(v.credentials="include"),C0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AA(r,t){return dl(r,"POST","/v2/accounts:revokeToken",oh(r,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=B_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await SA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Wa;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return os("not implemented")}}function Ws(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _A(this,t)}reload(){return TA(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await Mo(this,yA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:H,providerData:tt,stsTokenManager:W}=i;Et(A&&W,t,"internal-error");const it=Wa.fromJSON(this.name,W);Et(typeof A=="string",t,"internal-error"),Ws(a,t.name),Ws(o,t.name),Et(typeof V=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),Ws(c,t.name),Ws(d,t.name),Ws(p,t.name),Ws(v,t.name),Ws(y,t.name),Ws(b,t.name);const dt=new oi({uid:A,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:it,createdAt:y,lastLoginAt:b});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(wt=>({...wt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Wa;o.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?D0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(a);const v=new oi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const q_=new Map;function us(r){ds(r instanceof Function,"Expected a class definition");let t=q_.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,q_.set(r,t),t)}class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}O0.type="NONE";const H_=O0;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class tl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new tl(us(H_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||us(H_);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const V=await Hc(t,{idToken:b}).catch(()=>{});if(!V)break;A=await oi._fromGetAccountInfoResponse(t,V,b)}else A=oi._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new tl(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new tl(c,t,a))}}function G_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(z0(t))return"Webos";if(V0(t))return"Safari";if((t.includes("chrome/")||k0(t))&&!t.includes("edge/"))return"Chrome";if(L0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function M0(r=un()){return/firefox\//i.test(r)}function V0(r=un()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function k0(r=un()){return/crios\//i.test(r)}function U0(r=un()){return/iemobile/i.test(r)}function L0(r=un()){return/android/i.test(r)}function P0(r=un()){return/blackberry/i.test(r)}function z0(r=un()){return/webos/i.test(r)}function Tm(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wA(r=un()){return Tm(r)&&!!window.navigator?.standalone}function RA(){return Bb()&&document.documentMode===10}function j0(r=un()){return Tm(r)||L0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||U0(r)}function B0(r,t=[]){let i;switch(r){case"Browser":i=G_(un());break;case"Worker":i=`${G_(un())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${fl}/${a}`}class CA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function IA(r,t={}){return dl(r,"GET","/v2/passwordPolicy",oh(r,t))}const xA=6;class NA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??xA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class DA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new CA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(ur(this));const i=t?On(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IA(this),i=new NA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await AA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(r){return On(r)}class F_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xb(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OA(r){bm=r}function MA(r){return bm.loadJS(r)}function VA(){return bm.gapiScript}function kA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function UA(r,t){const i=ym(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Jr(c,t??{}))return o;fs(o,"already-initialized")}return i.initialize({options:t})}function LA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function PA(r,t,i){const a=uh(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=q0(t),{host:d,port:p}=zA(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Jr(y,a.config.emulator)&&Jr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,hl(d)?(p0(`${c}//${d}${v}`),y0("Auth",!0)):jA()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zA(r){const t=q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:K_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:K_(d)}}}function K_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class H0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function el(r,t){return x0(r,"POST","/v1/accounts:signInWithIdp",oh(r,t))}const BA="http://localhost";class Wr extends H0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Wr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return el(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,el(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,el(t,i)}buildRequest(){const t={requestUri:BA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bo(i)}return t}}class G0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends Ho{constructor(){super("facebook.com")}static credential(t){return Wr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class nr extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Wr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends Ho{constructor(){super("github.com")}static credential(t){return Wr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Wr._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function qA(r,t){return x0(r,"POST","/v1/accounts:signUp",oh(r,t))}class fr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await oi._fromIdTokenResponse(t,a,o),d=Q_(a);return new fr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=Q_(a);return new fr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function Q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function HA(r){if(li(r.app))return Promise.reject(ur(r));const t=uh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new fr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await qA(t,{returnSecureToken:!0}),a=await fr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Fc extends ps{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Fc(t,i,a,o)}}function F0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function GA(r,t,i=!1){const a=await Mo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return fr._forOperation(r,"link",a)}async function FA(r,t,i=!1){const{auth:a}=r;if(li(a.app))return Promise.reject(ur(a));const o="reauthenticate";try{const c=await Mo(r,F0(a,o,t,r),i);Et(c.idToken,a,"internal-error");const d=Em(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),fr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function KA(r,t,i=!1){if(li(r.app))return Promise.reject(ur(r));const a="signIn",o=await F0(r,a,t),c=await fr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function QA(r,t,i,a){return On(r).onIdTokenChanged(t,i,a)}function YA(r,t,i){return On(r).beforeAuthStateChanged(t,i)}function XA(r,t,i,a){return On(r).onAuthStateChanged(t,i,a)}const Kc="__sak";class K0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $A=1e3,JA=10;class Q0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);RA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,JA):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q0.type="LOCAL";const ZA=Q0;class Y0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Y0.type="SESSION";const X0=Y0;function WA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await WA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Sm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class tw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Sm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function ew(r){Ui().location.href=r}function $0(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function nw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iw(){return navigator?.serviceWorker?.controller||null}function sw(){return $0()?self:null}const J0="firebaseLocalStorageDb",rw=1,Qc="firebaseLocalStorage",Z0="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function aw(){const r=indexedDB.deleteDatabase(J0);return new Go(r).toPromise()}function $d(){const r=indexedDB.open(J0,rw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:Z0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await aw(),t(await $d()))})})}async function Y_(r,t,i){const a=hh(r,!0).put({[Z0]:t,value:i});return new Go(a).toPromise()}async function lw(r,t){const i=hh(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function X_(r,t){const i=hh(r,!0).delete(t);return new Go(i).toPromise()}const ow=800,uw=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>uw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(sw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nw(),!this.activeServiceWorker)return;this.sender=new tw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await Y_(t,Kc,"1"),await X_(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Y_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const cw=W0;new qo(3e4,6e4);function hw(r,t){return t?us(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Am extends H0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return el(t,this._buildIdpRequest())}_linkToIdToken(t,i){return el(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return el(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fw(r){return KA(r.auth,new Am(r),r.bypassAuthState)}function dw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),FA(i,new Am(r),r.bypassAuthState)}async function mw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),GA(i,new Am(r),r.bypassAuthState)}class tE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fw;case"linkViaPopup":case"linkViaRedirect":return mw;case"reauthViaPopup":case"reauthViaRedirect":return dw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gw=new qo(2e3,1e4);class Za extends tE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gw.get())};t()}}Za.currentPopupAction=null;const pw="pendingRedirect",Dc=new Map;class yw extends tE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await _w(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _w(r,t){const i=Tw(t),a=Ew(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function vw(r,t){Dc.set(r._key(),t)}function Ew(r){return us(r._redirectPersistence)}function Tw(r){return Nc(pw,r.config.apiKey,r.name)}async function bw(r,t,i=!1){if(li(r.app))return Promise.reject(ur(r));const a=uh(r),o=hw(a,t),d=await new yw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Sw=600*1e3;class Aw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ww(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!eE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Sw&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function eE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ww(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(r);default:return!1}}async function Rw(r,t={}){return dl(r,"GET","/v1/projects",t)}const Cw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iw=/^https?/;async function xw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Rw(r);for(const i of t)try{if(Nw(i))return}catch{}fs(r,"unauthorized-domain")}function Nw(r){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Iw.test(i))return!1;if(Cw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Dw=new qo(3e4,6e4);function J_(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ow(r){return new Promise((t,i)=>{function a(){J_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J_(),i(ki(r,"network-request-failed"))},timeout:Dw.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const o=kA("iframefcb");return Ui()[o]=()=>{gapi.load?a():i(ki(r,"network-request-failed"))},MA(`${VA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function Mw(r){return Oc=Oc||Ow(r),Oc}const Vw=new qo(5e3,15e3),kw="__/auth/iframe",Uw="emulator/auth/iframe",Lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zw(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?vm(t,Uw):`https://${r.config.authDomain}/${kw}`,a={apiKey:t.apiKey,appName:r.name,v:fl},o=Pw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function jw(r){const t=await Mw(r),i=Ui().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:zw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},Vw.get());function v(){Ui().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Bw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qw=500,Hw=600,Gw="_blank",Fw="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kw(r,t,i,a=qw,o=Hw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Bw,width:a.toString(),height:o.toString(),top:c,left:d},y=un().toLowerCase();i&&(p=k0(y)?Gw:i),M0(y)&&(t=t||Fw,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[H,tt])=>`${V}${H}=${tt},`,"");if(wA(y)&&p!=="_self")return Qw(t||"",p),new Z_(null);const A=window.open(t||"",p,b);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new Z_(A)}function Qw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Yw="__/auth/handler",Xw="emulator/auth/handler",$w=encodeURIComponent("fac");async function W_(r,t,i,a,o,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:fl,eventId:o};if(t instanceof G0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Yb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Ho){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await r._getAppCheckToken(),y=v?`#${$w}=${encodeURIComponent(v)}`:"";return`${Jw(r)}?${Bo(p).slice(1)}${y}`}function Jw({config:r}){return r.emulator?vm(r,Xw):`https://${r.authDomain}/${Yw}`}const kd="webStorageSupport";class Zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=bw,this._overrideRedirectResult=vw}async _openPopup(t,i,a,o){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(t,i,a,Yd(),o);return Kw(t,c,Sm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await W_(t,i,a,Yd(),o);return ew(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await jw(t),a=new Aw(t);return i.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},o=>{const c=o?.[0]?.[kd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j0()||V0()||Tm()}}const Ww=Zw;var tv="@firebase/auth",ev="1.12.0";class t2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function e2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(r){rl(new Zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},y=new DA(a,o,c,v);return LA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),rl(new Zr("auth-internal",t=>{const i=uh(t.getProvider("auth").getImmediate());return(a=>new t2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(tv,ev,e2(r)),or(tv,ev,"esm2020")}const i2=300,s2=g0("authIdTokenMaxAge")||i2;let nv=null;const r2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>s2)return;const o=i?.token;nv!==o&&(nv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function a2(r=T0()){const t=ym(r,"auth");if(t.isInitialized())return t.getImmediate();const i=UA(r,{popupRedirectResolver:Ww,persistence:[cw,ZA,X0]}),a=g0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=r2(c.toString());YA(i,d,()=>d(i.currentUser)),QA(i,p=>d(p))}}const o=d0("auth");return o&&PA(i,`http://${o}`),i}function l2(){return document.getElementsByTagName("head")?.[0]??document}OA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=ki("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",l2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");const tn=[];for(let r=0;r<256;++r)tn.push((r+256).toString(16).slice(1));function o2(r,t=0){return(tn[r[t+0]]+tn[r[t+1]]+tn[r[t+2]]+tn[r[t+3]]+"-"+tn[r[t+4]]+tn[r[t+5]]+"-"+tn[r[t+6]]+tn[r[t+7]]+"-"+tn[r[t+8]]+tn[r[t+9]]+"-"+tn[r[t+10]]+tn[r[t+11]]+tn[r[t+12]]+tn[r[t+13]]+tn[r[t+14]]+tn[r[t+15]]).toLowerCase()}let Ud;const u2=new Uint8Array(16);function c2(){if(!Ud){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ud=crypto.getRandomValues.bind(crypto)}return Ud(u2)}const h2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iv={randomUUID:h2};function f2(r,t,i){r=r||{};const a=r.random??r.rng?.()??c2();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,o2(a)}function d2(r,t,i){return iv.randomUUID&&!r?iv.randomUUID():f2(r)}var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,nE;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(O,x,M){for(var w=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)w[oe-2]=arguments[oe];return S.prototype[x].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,C){C||(C=0);const O=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)O[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)O[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],x=I.g[2];let M=I.g[3],w;w=S+(M^C&(x^M))+O[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(x^S&(C^x))+O[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=x+(C^M&(S^C))+O[2]+606105819&4294967295,x=M+(w<<17&4294967295|w>>>15),w=C+(S^x&(M^S))+O[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(M^C&(x^M))+O[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(x^S&(C^x))+O[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=x+(C^M&(S^C))+O[6]+2821735955&4294967295,x=M+(w<<17&4294967295|w>>>15),w=C+(S^x&(M^S))+O[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(M^C&(x^M))+O[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(x^S&(C^x))+O[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=x+(C^M&(S^C))+O[10]+4294925233&4294967295,x=M+(w<<17&4294967295|w>>>15),w=C+(S^x&(M^S))+O[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(M^C&(x^M))+O[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(x^S&(C^x))+O[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=x+(C^M&(S^C))+O[14]+2792965006&4294967295,x=M+(w<<17&4294967295|w>>>15),w=C+(S^x&(M^S))+O[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(x^M&(C^x))+O[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^x&(S^C))+O[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(M^S))+O[11]+643717713&4294967295,x=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(x^M))+O[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^M&(C^x))+O[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^x&(S^C))+O[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(M^S))+O[15]+3634488961&4294967295,x=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(x^M))+O[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^M&(C^x))+O[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^x&(S^C))+O[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(M^S))+O[3]+4107603335&4294967295,x=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(x^M))+O[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^M&(C^x))+O[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^x&(S^C))+O[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(M^S))+O[7]+1735328473&4294967295,x=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(x^M))+O[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(C^x^M)+O[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^x)+O[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=x+(M^S^C)+O[11]+1839030562&4294967295,x=M+(w<<16&4294967295|w>>>16),w=C+(x^M^S)+O[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^M)+O[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^x)+O[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=x+(M^S^C)+O[7]+4139469664&4294967295,x=M+(w<<16&4294967295|w>>>16),w=C+(x^M^S)+O[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^M)+O[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^x)+O[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=x+(M^S^C)+O[3]+3572445317&4294967295,x=M+(w<<16&4294967295|w>>>16),w=C+(x^M^S)+O[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^M)+O[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^x)+O[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=x+(M^S^C)+O[15]+530742520&4294967295,x=M+(w<<16&4294967295|w>>>16),w=C+(x^M^S)+O[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(x^(C|~M))+O[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~x))+O[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=x+(S^(M|~C))+O[14]+2878612391&4294967295,x=M+(w<<15&4294967295|w>>>17),w=C+(M^(x|~S))+O[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~M))+O[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~x))+O[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=x+(S^(M|~C))+O[10]+4293915773&4294967295,x=M+(w<<15&4294967295|w>>>17),w=C+(M^(x|~S))+O[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~M))+O[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~x))+O[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=x+(S^(M|~C))+O[6]+2734768916&4294967295,x=M+(w<<15&4294967295|w>>>17),w=C+(M^(x|~S))+O[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~M))+O[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~x))+O[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=x+(S^(M|~C))+O[2]+718787259&4294967295,x=M+(w<<15&4294967295|w>>>17),w=C+(M^(x|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+M&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,O=this.C;let x=this.h,M=0;for(;M<S;){if(x==0)for(;M<=C;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(O[x++]=I.charCodeAt(M++),x==this.blockSize){o(this,O),x=0;break}}else for(;M<S;)if(O[x++]=I[M++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)I[S++]=this.g[C]>>>O&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let O=!0;for(let x=I.length-1;x>=0;x--){const M=I[x]|0;O&&M==S||(C[x]=M,O=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return it(y(-I));const S=[];let C=1;for(let O=0;I>=C;O++)S[O]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return it(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let O=A;for(let M=0;M<I.length;M+=8){var x=Math.min(8,I.length-M);const w=parseInt(I.substring(M,M+x),S);x<8?(x=y(Math.pow(S,x)),O=O.j(x).add(y(w))):(O=O.j(C),O=O.add(y(w)))}return O}var A=v(0),V=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-it(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);I+=(O>=0?O:4294967296+O)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(W(this))return"-"+it(this).toString(I);const S=y(Math.pow(I,6));var C=this;let O="";for(;;){const x=Kt(C,S).g;C=dt(C,x.j(S));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=x,tt(C))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=dt(this,I),W(I)?-1:tt(I)?0:1};function it(I){const S=I.g.length,C=[];for(let O=0;O<S;O++)C[O]=~I.g[O];return new d(C,~I.h).add(V)}r.abs=function(){return W(this)?it(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let O=0;for(let x=0;x<=S;x++){let M=O+(this.i(x)&65535)+(I.i(x)&65535),w=(M>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);O=w>>>16,M&=65535,w&=65535,C[x]=w<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,S){return I.add(it(S))}r.j=function(I){if(tt(this)||tt(I))return A;if(W(this))return W(I)?it(this).j(it(I)):it(it(this).j(I));if(W(I))return it(this.j(it(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let x=0;x<I.g.length;x++){const M=this.i(O)>>>16,w=this.i(O)&65535,oe=I.i(x)>>>16,Te=I.i(x)&65535;C[2*O+2*x]+=w*Te,wt(C,2*O+2*x),C[2*O+2*x+1]+=M*Te,wt(C,2*O+2*x+1),C[2*O+2*x+1]+=w*oe,wt(C,2*O+2*x+1),C[2*O+2*x+2]+=M*oe,wt(C,2*O+2*x+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function wt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function vt(I,S){this.g=I,this.h=S}function Kt(I,S){if(tt(S))throw Error("division by zero");if(tt(I))return new vt(A,A);if(W(I))return S=Kt(it(I),S),new vt(it(S.g),it(S.h));if(W(S))return S=Kt(I,it(S)),new vt(it(S.g),S.h);if(I.g.length>30){if(W(I)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=S;O.l(I)<=0;)C=ue(C),O=ue(O);var x=jt(C,1),M=jt(O,1);for(O=jt(O,2),C=jt(C,2);!tt(O);){var w=M.add(O);w.l(I)<=0&&(x=x.add(C),M=w),O=jt(O,1),C=jt(C,1)}return S=dt(I,x.j(S)),new vt(x,S)}for(x=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=y(C),w=M.j(S);W(w)||w.l(I)>0;)C-=O,M=y(C),w=M.j(S);tt(M)&&(M=V),x=x.add(M),I=dt(I,w)}return new vt(x,I)}r.B=function(I){return Kt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)&I.i(O);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)|I.i(O);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)^I.i(O);return new d(C,this.h^I.h)};function ue(I){const S=I.g.length+1,C=[];for(let O=0;O<S;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(C,I.h)}function jt(I,S){const C=S>>5;S%=32;const O=I.g.length-C,x=[];for(let M=0;M<O;M++)x[M]=S>0?I.i(M+C)>>>S|I.i(M+C+1)<<32-S:I.i(M+C);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,nE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,cr=d}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,To,sE,Mc,Jd,rE,aE,lE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var nt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)nt[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,nt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let nt=0;nt<B;nt++)u[_+nt]=L[nt]}else u.push(L)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,_){const T=vt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new W(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,jt=!1,I=new wt,S=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){it(_)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}jt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function oe(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(oe,x),oe.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=Rt(u,m,T,L);return nt>-1?(m=u[nt],_||(m.fa=!1)):(m=new st(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Rt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),be={};function qt(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)qt(u,m[B],_,T,L);return null}return _=Dt(_),u&&u[Te]?u.J(m,_,p(T)?!!T.capture:!1,L):hi(u,m,_,!1,T,L)}function hi(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let Ct=et(u);if(Ct||(u[Vt]=Ct=new at(u)),_=Ct.add(m,_,T,nt,B),_.proxy)return _;if(T=ys(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)M||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(K(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ys(){function u(_){return m.call(u.src,u.listener,_)}const m=Z;return u}function _s(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)_s(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=Dt(_),u&&u[Te]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Rt(m,_,T,L),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=et(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,_,T,L)),(_=u>-1?m[u]:null)&&qi(_))}function qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(K(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=et(m))?(_t(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ht(u)}}}function K(u){return u in be?be[u]:be[u]="on"+u}function Z(u,m){if(u.da)u=!0;else{m=new oe(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&qi(u),u=_.call(T,m)}return u}function et(u){return u=u[Vt],u instanceof at?u:null}var mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dt(u){return typeof u=="function"?u:(u[mt]||(u[mt]=function(m){return u.handleEvent(m)}),u[mt])}function bt(){O.call(this),this.i=new at(this),this.M=this,this.G=null}A(bt,O),bt.prototype[Te]=!0,bt.prototype.removeEventListener=function(u,m,_,T){_s(this,u,m,_,T)};function Qt(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),rt(m,L)}L=!0;let B,nt;if(_)for(nt=_.length-1;nt>=0;nt--)B=m.g=_[nt],L=Pe(B,T,!0,m)&&L;if(B=m.g=u,L=Pe(B,T,!0,m)&&L,L=Pe(B,T,!1,m)&&L,_)for(nt=0;nt<_.length;nt++)B=m.g=_[nt],L=Pe(B,T,!1,m)&&L}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},bt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Pe(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==_){const Ct=nt.listener,Ae=nt.ha||nt.src;nt.fa&&_t(u.i,nt),L=Ct.call(Ae,T)!==!1&&L}}return L&&!T.defaultPrevented}function pe(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function En(u){u.g=pe(()=>{u.g=null,u.i&&(u.i=!1,En(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ft extends O{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(u){O.call(this),this.h=u,this.g={}}A(Tn,O);var vs=[];function Es(u){xt(u.g,function(m,_){this.g.hasOwnProperty(_)&&qi(m)},u),u.g={}}Tn.prototype.N=function(){Tn.Z.N.call(this),Es(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,Ts=d.JSON.parse,fi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bn(){}function $o(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){x.call(this,"d")}A(Ye,x);function Mn(){x.call(this,"c")}A(Mn,x);var Se={},Jo=null;function la(){return Jo=Jo||new bt}Se.Ia="serverreachability";function Zo(u){x.call(this,Se.Ia,u)}A(Zo,x);function di(u){const m=la();Qt(m,new Zo(m))}Se.STAT_EVENT="statevent";function vr(u,m){x.call(this,Se.STAT_EVENT,u),this.stat=m}A(vr,x);function Ie(u){const m=la();Qt(m,new vr(m,u))}Se.Ja="timingevent";function mi(u,m){x.call(this,Se.Ja,u),this.size=m}A(mi,x);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var nt="",Ct=B.split("&");for(let $t=0;$t<Ct.length;$t++){var Ae=Ct[$t].split("=");if(Ae.length>1){const me=Ae[0];Ae=Ae[1];const Ln=me.split("_");nt=Ln.length>=2&&Ln[1]=="type"?nt+(me+"="+Ae+"&"):nt+(me+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function Wo(u,m,_,T,L,B,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+nt})}function pi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,_)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return Yn(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function br(){}A(br,bn),br.prototype.g=function(){return new XMLHttpRequest},vl=new br;function Hi(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var xe={},qe={};function yi(u,m,_){u.M=1,u.A=Sr(De(m)),u.u=_,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),_i(u),u.B=De(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),fa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Zn,u.g=gu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ft(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vs[0]=L.toString()),L=vs);for(let B=0;B<L.length;B++){const nt=qt(_,L[B],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ei(this.g),Ae=this.g.ya(),$t=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ct!=4||Ae==7||(Ae==8||$t<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var _=Ih(this);if(this.o=m==200,Wo(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Ie(12),Sn(this),Vn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<_.length;)if(me=nu(this,_),me==qe){Ct==4&&(this.m=4,Ie(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==xe){this.m=4,Ie(15),pi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,me,null),Ei(this,me);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||_.length!=0||this.h.h||(this.m=1,Ie(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,_,"[Invalid Chunked Response]"),Sn(this),Vn(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Vl(nt),nt.P=!0,Ie(11))}}else pi(this.i,this.l,_,null),Ei(this,_);Ct==4&&Sn(this),this.o&&!this.K&&(Ct==4?hu(this.j,this):(this.o=!1,_i(this)))}else Fi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),Sn(this),Vn(this)}}}catch{}};function Ih(u){if(!eu(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let _="";const T=m.length,L=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?qe:(_=Number(m.substring(_,T)),isNaN(_)?xe:(T+=1,T+_>m.length?qe:(m=m.slice(T,T+_),u.C=T+_,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function _i(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(di(),Ie(17)),Sn(this),this.m=2,Vn(this)):ua(this,this.T-u)};function Vn(u){u.j.I==0||u.K||hu(u.j,u)}function Sn(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Es(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||bi(_.h,u))){if(!u.L&&bi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ya(_),xs(_);else break t;Nr(_),Ie(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=gi(y(_.Va,_),6e3));Ti(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ii(_,11)}else if((u.L||_.g==u)&&ya(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let $t=L[m];const me=$t[0];if(!(me<=_.K))if(_.K=me,$t=$t[1],_.I==2)if($t[0]=="c"){_.M=$t[1],_.ba=$t[2];const Ln=$t[3];Ln!=null&&(_.ka=Ln,_.j.info("VER="+_.ka));const xi=$t[4];xi!=null&&(_.za=xi,_.j.info("SVER="+_.za));const ni=$t[5];ni!=null&&typeof ni=="number"&&ni>0&&(T=1.5*ni,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ii=u.g;if(ii){const Dr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=T.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bl(B,B.h),B.h=null))}if(T.G){const _a=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(T.wa=_a,Wt(T.J,T.G,_a))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var nt=u;if(T.na=mu(T,T.L?T.ba:null,T.W),nt.L){Sl(T.h,nt);var Ct=nt,Ae=T.O;Ae&&(Ct.H=Ae),Ct.D&&(vi(Ct),_i(Ct)),T.g=nt}else uu(T);_.i.length>0&&Ci(_)}else $t[0]!="stop"&&$t[0]!="close"||Ii(_,7);else _.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ii(_,7):Ol(_):$t[0]!="noop"&&_.l&&_.l.qa($t),_.A=0)}}di(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function El(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bl(u,m){u.g?u.g.add(m):u.h=m}function Sl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}El.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Al(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,wl(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,He(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),bs(this,m[4]),this.h=Si(m[5]||"",!0),wl(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,ha,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,ha,!0),"@"),u.push(Hi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ar(_,_.charAt(0)=="/"?Rl:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ar(_,ru)),u.join("")},An.prototype.resolve=function(u){const m=De(this);let _=!!u.j;_?He(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)bs(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const Ct=L[nt++];Ct=="."?T&&nt==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&nt==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?wl(m,lu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function De(u){return new An(u)}function He(u,m,_){u.j=_?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wl(u,m,_){m instanceof As?(u.i=m,da(u.i,u.l)):(_||(m=Ar(m,Ss)),u.i=new As(m,u.l))}function Wt(u,m,_){u.i.set(m,_)}function Sr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,su=/[#\?:]/g,Rl=/[#\?]/g,Ss=/[#\?@]/g,ru=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=As.prototype,r.add=function(u,m){dn(this),this.i=null,u=ws(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function au(u,m){dn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return dn(u),m=ws(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Il(u,m){dn(u);let _=[];if(typeof m=="string")Cl(u,m)&&(_=_.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return dn(this),this.i=null,u=ws(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,_){au(u,m),_.length>0&&(u.i=null,u.g.set(ws(u,m),H(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Hi(_);_=Il(this,_);for(let B=0;B<_.length;B++){let nt=L;_[B]!==""&&(nt+="="+Hi(_[B])),u.push(nt)}}return this.i=u.join("&")};function lu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(au(this,T),fa(this,L,_))},u)),u.j=m}function Wn(u,m){const _=new $n;if(d.Image){const T=new Image;T.onload=b(kn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(kn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(kn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(kn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xl(u,m){const _=new $n,T=new AbortController,L=setTimeout(()=>{T.abort(),kn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?kn(_,"TestPingServer: ok",!0,m):kn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),kn(_,"TestPingServer: error",!1,m)})}function kn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Rs(){this.g=new fi}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ai,bn),Ai.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,bt),r=wr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ti(this),this.readyState==3&&ma(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},r.Na=function(u){this.g&&(this.response=u,Cs(this))},r.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return xt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Rr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Un(_),typeof u=="string"?_!=null&&Hi(_):Wt(u,m,_))}function ie(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,bt);var wi=/^https?$/i,Nl=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of _)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Dl(u),Gi(u)}function Dl(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Qt(this,"complete"),Qt(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},r.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Qt(u,"readystatechange"),ei(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let nt=String(u.D).match(iu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!wi.test(nt?nt.toLowerCase():"")}_=T}if(_)Qt(u,"complete"),Qt(u,"success");else{u.o=6;try{var L=ei(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Dl(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Qt(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ts(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=tu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new El(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Ie(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),Ci(this)};function Ol(u){if(ga(u),u.I==3){var m=u.V++,_=De(u.J);if(Wt(_,"SID",u.M),Wt(_,"RID",m),Wt(_,"TYPE","terminate"),xr(u,_),m=new Jn(u,u.j,m),m.M=2,m.A=Sr(De(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}du(u)}function xs(u){u.g&&(Vl(u),u.g.cancel(),u.g=null)}function ga(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ue||S(),jt||(ue(),jt=!0),I.add(m,u),u.D=0}}function pa(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),rt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ou(this,L,m),_=De(this.J),Wt(_,"RID",u),Wt(_,"CVER",22),this.G&&Wt(_,"X-HTTP-Session-Id",this.G),xr(this,_),B&&(this.R?m="headers="+Hi(Un(B))+"&"+m:this.u&&Rr(_,this.u,B)),bl(this.h,L),this.Ra&&Wt(_,"TYPE","init"),this.S?(Wt(_,"$req",m),Wt(_,"SID","null"),L.U=!0,yi(L,_,null)):yi(L,_,m),this.I=2}}else this.I==3&&(u?Ml(this,u):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(u,m){var _;m?_=m.l:_=u.V++;const T=De(u.J);Wt(T,"SID",u.M),Wt(T,"RID",_),Wt(T,"AID",u.K),xr(u,T),u.u&&u.o&&Rr(T,u.u,u.o),_=new Jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bl(u.h,_),yi(_,T,m)}function xr(u,m){u.H&&xt(u.H,function(_,T){Wt(m,T,_)}),u.l&&xt({},function(_,T){Wt(m,T,_)})}function ou(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const Ae=["count="+_];Ct==-1?_>0?(Ct=L[0].g,Ae.push("ofs="+Ct)):Ct=0:Ae.push("ofs="+Ct);let $t=!0;for(let me=0;me<_;me++){var B=L[me].g;const Ln=L[me].map;if(B-=Ct,B<0)Ct=Math.max(0,L[me].g-100),$t=!1;else try{B="req"+B+"_"||"";try{var nt=Ln instanceof Map?Ln:Object.entries(Ln);for(const[xi,ni]of nt){let ii=ni;p(ni)&&(ii=Yn(ni)),Ae.push(B+xi+"="+encodeURIComponent(ii))}}catch(xi){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),xi}}catch{T&&T(Ln)}}if($t){nt=Ae.join("&");break t}}nt=void 0}return u=u.i.splice(0,_),m.G=u,nt}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ue||S(),jt||(ue(),jt=!0),I.add(m,u),u.A=0}}function Nr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),xs(this),cu(this))};function Vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Sr(De(m)),_.u=null,_.R=!0,oa(_,u)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),Nr(this),Ie(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){ya(u),Vl(u),u.g=null;var T=2}else if(bi(u.h,m))_=m.G,Sl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=la(),Qt(T,new mi(T,_)),Ci(u)}else uu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&pa(u,m)||T==2&&Nr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function fu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(T,"https"),Sr(T),L?Wn(T.toString(),_):xl(T.toString(),_)}else Ie(2);u.I=0,u.l&&u.l.pa(m),du(u),ga(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=Al(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,_){var T=_ instanceof An?De(_):new An(_);if(T.g!="")m&&(T.g=m+"."+T.g),bs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&He(B,T),m&&(B.g=m),L&&bs(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Wt(T,_,m),Wt(T,"VER",u.ka),xr(u,T),T}function gu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ai({ab:_})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){bt.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}A(cn,bt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ol(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Yn(u),u=_);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ci(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,cn.Z.N.call(this)};function yu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(yu,Ye);function _u(){Mn.call(this),this.status=1}A(_u,Mn);function Ki(u){this.g=u}A(Ki,pu),Ki.prototype.ra=function(){Qt(this.g,"a")},Ki.prototype.qa=function(u){Qt(this.g,new yu(u))},Ki.prototype.pa=function(u){Qt(this.g,new _u)},Ki.prototype.oa=function(){Qt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,lE=function(){return new Ns},aE=function(){return la()},rE=Se,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Mc=Tr,_l.COMPLETE="complete",sE=_l,$o.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,To=$o,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,iE=ie}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let ml="12.9.0";function m2(r){ml=r}const ta=new gm("@firebase/firestore");function Ya(){return ta.logLevel}function lt(r,...t){if(ta.logLevel<=Lt.DEBUG){const i=t.map(wm);ta.debug(`Firestore (${ml}): ${r}`,...i)}}function ms(r,...t){if(ta.logLevel<=Lt.ERROR){const i=t.map(wm);ta.error(`Firestore (${ml}): ${r}`,...i)}}function ea(r,...t){if(ta.logLevel<=Lt.WARN){const i=t.map(wm);ta.warn(`Firestore (${ml}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,oE(r,a,i)}function oE(r,t,i){let a=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function Zt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||oE(t,o,a)}function At(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class uE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new uE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new rv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=T2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function Zd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Ld(o)===Ld(c)?Pt(o,c):Ld(o)?1:-1}return Pt(r.length,t.length)}const b2=55296,S2=57343;function Ld(r){const t=r.charCodeAt(0);return t>=b2&&t<=S2}function al(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const av="__name__";class Vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Vi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Vi.isNumericId(t),o=Vi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class fe extends Vi{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Vi{construct(t,i,a){return new nn(t,i,a)}static isValidIdentifier(t){return A2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new nn([av])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(fe.fromString(t))}static fromName(t){return new gt(fe.fromString(t).popFirst(5))}static empty(){return new gt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new fe(t.slice()))}}function cE(r,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function w2(r,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function lv(r){if(!gt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ov(r){if(gt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Co(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Le(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fo(r,t){if(!hE(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const uv=-62135596800,cv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*cv);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<uv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fo(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new de(0,0))}static max(){return new Tt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vo=-1;function R2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new dr(o,gt.empty(),t)}function C2(r){return new dr(r.readTime,r.key,Vo)}class dr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(Tt.min(),gt.empty(),Vo)}static max(){return new dr(Tt.max(),gt.empty(),Vo)}}function I2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==x2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function D2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function pl(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Im=-1;function dh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function O2(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fE="";function M2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=hv(t)),t=V2(r.get(i),t);return hv(t)}function V2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case fE:i+="";break;default:i+=c}}return i}function hv(r){return r+fE+""}function fv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ia(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function dE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new en(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new ui([])}unionWith(t){let i=new Be(nn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ui(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return al(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mE("Invalid base64 string: "+c):c}})(t);return new sn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new sn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=k2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===gE}function mh(r){const t=r.mapValue.fields[yE];return xm(t)?mh(t):t}function ko(r){const t=mr(r.mapValue.fields[_E].timestampValue);return new de(t.seconds,t.nanos)}class U2{constructor(t,i,a,o,c,d,p,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Xc="(default)";class Uo{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Uo&&t.projectId===this.projectId&&t.database===this.database}}function L2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(r.options.projectId,t)}const vE="__type__",P2="__max__",wc={mapValue:{}},EE="__vector__",$c="value";function pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:j2(r)?9007199254740991:z2(r)?10:11:yt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const i=pr(r);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ko(r).isEqual(ko(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=mr(o.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return gr(o.bytesValue).isEqual(gr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ce(o.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ce(o.integerValue)===Ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ce(o.doubleValue),p=Ce(c.doubleValue);return d===p?Yc(d)===Yc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return al(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(fv(d)!==fv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ji(d[v],p[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Lo(r,t){return(r.values||[]).find((i=>ji(i,t)))!==void 0}function ll(r,t){if(r===t)return 0;const i=pr(r),a=pr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ce(c.integerValue||c.doubleValue),v=Ce(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return mv(r.timestampValue,t.timestampValue);case 4:return mv(ko(r),ko(t));case 5:return Zd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=gr(c),v=gr(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Pt(p[y],v[y]);if(b!==0)return b}return Pt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Ce(c.latitude),Ce(d.latitude));return p!==0?p:Pt(Ce(c.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[$c]?.arrayValue,b=v[$c]?.arrayValue,A=Pt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:gv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const V=Zd(v[A],b[A]);if(V!==0)return V;const H=ll(p[v[A]],y[b[A]]);if(H!==0)return H}return Pt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=mr(r),a=mr(t),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function gv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ll(i[o],a[o]);if(c)return c}return Pt(i.length,a.length)}function ol(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Wd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Wd(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Vc(r){switch(pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ia(a.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function tm(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function z2(r){return(r?.mapValue?.fields||{})[vE]?.stringValue===EE}function Io(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ia(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Io(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Io(r.arrayValue.values[i]);return t}return{...r}}function j2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P2}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Io(i)}setAll(t){let i=nn.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Io(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ia(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Kn(Io(this.value))}}function TE(r){const t=[];return ia(r.fields,((i,a)=>{const o=new nn([i]);if(kc(a)){const c=TE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new ui(t)}class on{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new on(t,0,Tt.min(),Tt.min(),Tt.min(),Kn.empty(),0)}static newFoundDocument(t,i,a,o){return new on(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new on(t,2,i,Tt.min(),Tt.min(),Kn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,Tt.min(),Tt.min(),Kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function _v(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=ll(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ji(r.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function B2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class bE{}class je extends bE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new H2(t,i,a):i==="array-contains"?new K2(t,a):i==="in"?new Q2(t,a):i==="not-in"?new Y2(t,a):i==="array-contains-any"?new X2(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new G2(t,a):new F2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ll(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(ll(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends bE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return SE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(r){return r.op==="and"}function AE(r){return q2(r)&&SE(r)}function q2(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function em(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+ol(r.value);if(AE(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((i=>em(i))).join(",");return`${r.op}(${t})`}}function wE(r,t){return r instanceof je?(function(a,o){return o instanceof je&&a.op===o.op&&a.field.isEqual(o.field)&&ji(a.value,o.value)})(r,t):r instanceof Bi?(function(a,o){return o instanceof Bi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&wE(d,o.filters[p])),!0):!1})(r,t):void yt(19439)}function RE(r){return r instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${ol(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(RE).join(" ,")+"}"})(r):"Filter"}class H2 extends je{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class G2 extends je{constructor(t,i){super(t,"in",i),this.keys=CE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class F2 extends je{constructor(t,i){super(t,"not-in",i),this.keys=CE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function CE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class K2 extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&Lo(i.arrayValue,this.value)}}class Q2 extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Lo(this.value.arrayValue,i)}}class Y2 extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Lo(this.value.arrayValue,i)}}class X2 extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Lo(this.value.arrayValue,a)))}}class $2{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Ev(r,t=null,i=[],a=[],o=null,c=null,d=null){return new $2(r,t,i,a,o,c,d)}function Dm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ol(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ol(a))).join(",")),t.Te=i}return t.Te}function Om(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!B2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!wE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vv(r.startAt,t.startAt)&&vv(r.endAt,t.endAt)}function nm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function J2(r,t,i,a,o,c,d,p){return new gh(r,t,i,a,o,c,d,p)}function Mm(r){return new gh(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z2(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function W2(r){return r.collectionGroup!==null}function xo(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(nn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(nn.keyField().canonicalString())||t.Ie.push(new Zc(nn.keyField(),a))}return t.Ie}function Li(r){const t=At(r);return t.Ee||(t.Ee=tR(t,xo(r))),t.Ee}function tR(r,t){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function im(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Om(Li(r),Li(t))&&r.limitType===t.limitType}function IE(r){return`${Dm(Li(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>RE(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ol(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ol(o))).join(",")),`Target(${a})`})(Li(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of xo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=_v(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,xo(a),o)||a.endAt&&!(function(d,p,v){const y=_v(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,xo(a),o))})(r,t)}function eR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xE(r){return(t,i)=>{let a=!1;for(const o of xo(r)){const c=nR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function nR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?ll(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const iR=new ye(gt.comparator);function gs(){return iR}const NE=new ye(gt.comparator);function bo(...r){let t=NE;for(const i of r)t=t.insert(i.key,i);return t}function DE(r){let t=NE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Yr(){return No()}function OE(){return No()}function No(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const sR=new ye(gt.comparator),rR=new Be(gt.comparator);function zt(...r){let t=rR;for(const i of r)t=t.add(i);return t}const aR=new Be(Pt);function lR(){return aR}function Vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function ME(r){return{integerValue:""+r}}function oR(r,t){return O2(t)?ME(t):Vm(r,t)}class _h{constructor(){this._=void 0}}function uR(r,t,i){return r instanceof Wc?(function(o,c){const d={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xm(c)&&(c=mh(c)),c&&(d.fields[yE]=c),{mapValue:d}})(i,t):r instanceof Po?kE(r,t):r instanceof zo?UE(r,t):(function(o,c){const d=VE(o,c),p=bv(d)+bv(o.Ae);return tm(d)&&tm(o.Ae)?ME(p):Vm(o.serializer,p)})(r,t)}function cR(r,t,i){return r instanceof Po?kE(r,t):r instanceof zo?UE(r,t):i}function VE(r,t){return r instanceof th?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Wc extends _h{}class Po extends _h{constructor(t){super(),this.elements=t}}function kE(r,t){const i=LE(t);for(const a of r.elements)i.some((o=>ji(o,a)))||i.push(a);return{arrayValue:{values:i}}}class zo extends _h{constructor(t){super(),this.elements=t}}function UE(r,t){let i=LE(t);for(const a of r.elements)i=i.filter((o=>!ji(o,a)));return{arrayValue:{values:i}}}class th extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function bv(r){return Ce(r.integerValue||r.doubleValue)}function LE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Po&&o instanceof Po||a instanceof zo&&o instanceof zo?al(a.elements,o.elements,ji):a instanceof th&&o instanceof th?ji(a.Ae,o.Ae):a instanceof Wc&&o instanceof Wc})(r.transform,t.transform)}class fR{constructor(t,i){this.version=t,this.transformResults=i}}class cs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new cs}static exists(t){return new cs(void 0,t)}static updateTime(t){return new cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function PE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jE(r.key,cs.none()):new Ko(r.key,r.data,cs.none());{const i=r.data,a=Kn.empty();let o=new Be(nn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ra(r.key,a,new ui(o.toArray()),cs.none())}}function dR(r,t,i){r instanceof Ko?(function(o,c,d){const p=o.value.clone(),v=Av(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ra?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Av(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(zE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Do(r,t,i,a){return r instanceof Ko?(function(c,d,p,v){if(!Uc(c.precondition,d))return p;const y=c.value.clone(),b=wv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ra?(function(c,d,p,v){if(!Uc(c.precondition,d))return p;const y=wv(c.fieldTransforms,v,d),b=d.data;return b.setAll(zE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function mR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=VE(a.transform,o||null);c!=null&&(i===null&&(i=Kn.empty()),i.set(a.field,c))}return i||null}function Sv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&al(a,o,((c,d)=>hR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ko extends vh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends vh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Av(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,cR(d,p,i[o]))}return a}function wv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,uR(c,d,t))}return a}class jE extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&dR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=OE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=PE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&al(this.mutations,t.mutations,((i,a)=>Sv(i,a)))&&al(this.baseMutations,t.baseMutations,((i,a)=>Sv(i,a)))}}class km{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return sR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new km(t,i,a,o)}}class yR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _R{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Ht;function vR(r){switch(r){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function BE(r){if(r===void 0)return ms("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ue.OK:return J.OK;case Ue.CANCELLED:return J.CANCELLED;case Ue.UNKNOWN:return J.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return J.INTERNAL;case Ue.UNAVAILABLE:return J.UNAVAILABLE;case Ue.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ue.NOT_FOUND:return J.NOT_FOUND;case Ue.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ue.ABORTED:return J.ABORTED;case Ue.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ue.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:r})}}(Ht=Ue||(Ue={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function ER(){return new TextEncoder}const TR=new cr([4294967295,4294967295],0);function Rv(r){const t=ER().encode(r),i=new nE;return i.update(t),new Uint8Array(i.digest())}function Cv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new cr([i,a],0),new cr([o,c],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(a<0)throw new So(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(cr.fromNumber(a)));return o.compare(TR)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Rv(t),[a,o]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Um(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Rv(t),[a,o]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Tt.min(),o,new ye(Pt),gs(),zt())}}class Qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Qo(a,i,zt(),zt(),zt())}}class Lc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class qE{constructor(t,i){this.targetId=t,this.Ce=i}}class HE{constructor(t,i,a=sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=xv(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=xv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.He=Rc(),this.Je=Rc(),this.Ze=new ye(Pt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(nm(c))if(a===0){const d=new gt(c.path);this.et(i,d,on.newNoDocument(d,Tt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=gr(a).toUint8Array()}catch(v){if(v instanceof mE)return ea("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Um(d,o,c)}catch(v){return ea(v instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const v=new gt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ze,this.je,a);return this.je=gs(),this.He=Rc(),this.Je=Rc(),this.Ze=new ye(Pt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(Pt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(Pt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Rc(){return new ye(gt.comparator)}function xv(){return new ye(gt.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wR={and:"AND",or:"OR"};class RR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CR(r,t){return eh(r,t.toTimestamp())}function Pi(r){return Zt(!!r,49232),Tt.fromTimestamp((function(i){const a=mr(i);return new de(a.seconds,a.nanos)})(r))}function Lm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function FE(r){const t=fe.fromString(r);return Zt($E(t),10190,{key:t.toString()}),t}function am(r,t){return Lm(r.databaseId,t.path)}function Pd(r,t){const i=FE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(QE(i))}function KE(r,t){return Lm(r.databaseId,t)}function IR(r){const t=FE(r);return t.length===4?fe.emptyPath():QE(t)}function lm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Nv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function xR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),sn.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),sn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:BE(y.code);return new ct(b,y.message||"")})(d);i=new HE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pd(r,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Tt.min(),p=new Kn({mapValue:{fields:a.document.fields}}),v=on.newFoundDocument(o,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Lc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pd(r,a.document),c=a.readTime?Pi(a.readTime):Tt.min(),d=on.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new _R(o,c),p=a.targetId;i=new qE(p,d)}}return i}function NR(r,t){let i;if(t instanceof Ko)i={update:Nv(r,t.key,t.value)};else if(t instanceof jE)i={delete:am(r,t.key)};else if(t instanceof ra)i={update:Nv(r,t.key,t.data),updateMask:zR(t.fieldMask)};else{if(!(t instanceof gR))return yt(16599,{dt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:CR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function DR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Pi(o.updateTime):Pi(c);return d.isEqual(Tt.min())&&(d=Pi(c)),new fR(d,o.transformResults||[])})(i,t)))):[]}function OR(r,t){return{documents:[KE(r,t.path)]}}function MR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=KE(r,o);const c=(function(y){if(y.length!==0)return XE(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:$a(V.field),direction:UR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function VR(r){let t=IR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=YE(A);return V instanceof Bi&&AE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(tt){return new Zc(Ja(tt.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,dh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,H=A.values||[];return new Jc(H,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,H=A.values||[];return new Jc(H,V)})(i.endAt)),J2(t,o,d,c,p,"F",v,y)}function kR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ja(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(i.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ja(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return je.create(Ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>YE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function UR(r){return SR[r]}function LR(r){return AR[r]}function PR(r){return wR[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Ja(r){return nn.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof je?(function(i){if(i.op==="=="){if(yv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:LR(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((o=>XE(o)));return a.length===1?a[0]:{compositeFilter:{op:PR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function zR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function JE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class rr{constructor(t,i,a,o,c=Tt.min(),d=Tt.min(),p=sn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jR{constructor(t){this.yt=t}}function BR(r){const t=VR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class qR{constructor(){this.Sn=new HR}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(dr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class HR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Be(fe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Be(fe.comparator)).toArray()}}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(ZE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class ul{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ul(0)}static ar(){return new ul(-1)}}const Ov="LruGarbageCollector",GR=1048576;function Mv([r,t],[i,a]){const o=Pt(r,i);return o===0?Pt(t,a):o}class FR{constructor(t){this.Pr=t,this.buffer=new Be(Mv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Mv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(Ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){pl(i)?lt(Ov,"Ignoring IndexedDB error during garbage collection: ",i):await gl(i)}await this.Ar(3e5)}))}}class QR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new FR(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Dv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ya()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function YR(r,t){return new QR(r,t)}class XR{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class JR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Do(a.mutation,o,ui.empty(),de.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=Yr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=bo();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Yr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=gs();const d=No(),p=(function(){return No()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof ra)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Do(b.mutation,y,b.mutation.getFieldMask(),de.now())):d.set(y.key,ui.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new $R(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=No();let o=new ye(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||ui.empty();b=p.applyToLocalView(y,b),a.set(v,b);const A=(o.get(p.batchId)||zt()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,A=OE();b.forEach((V=>{if(!c.has(V)){const H=PE(i.get(V),a.get(V));H!==null&&A.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return Z2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):W2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(Yr());let p=Vo,v=c;return d.next((y=>$.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,zt()))).next((b=>({batchId:p,changes:DE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let o=bo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=bo();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(v=>{const y=(function(A,V){return new gh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let p=bo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Do(b.mutation,y,ui.empty(),de.now()),yh(i,y)&&(p=p.insert(v,y))})),p}))}}class ZR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:BR(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),$.resolve()}}class WR{constructor(){this.overlays=new ye(gt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Yr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=Yr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ye(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Yr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Yr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return $.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yR(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class tC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Pm{constructor(){this.kr=new Be(Ke.Kr),this.qr=new Be(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new fe([])),a=new Ke(i,t),o=new Ke(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new fe([])),a=new Ke(i,t),o=new Ke(i,t+1);let c=zt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||Pt(t.Hr,i.Hr)}static Ur(t,i){return Pt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class eC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ke.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Im:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Pt);return i.forEach((o=>{const c=new Ke(o,0),d=new Ke(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new gt(c),0);let p=new Be(Pt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Zt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Ke(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ke(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nC{constructor(t){this.ti=t,this.docs=(function(){return new ye(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=gs();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||I2(C2(b),a)<=0||(o.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iC(this)}getSize(t){return $.resolve(this.size)}}class iC extends XR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class sC{constructor(t){this.persistence=t,this.ri=new sa((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Pm,this.targetCount=0,this.oi=ul._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ul(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class WE{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new tC,this.referenceDelegate=t(this),this.li=new sC(this),this.indexManager=new qR,this.remoteDocumentCache=(function(o){return new nC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new jR(i),this.Pi=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new WR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new eC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new rC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class rC extends N2{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Ai=null}static Vi(t){return new zm(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=gt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.fi=new sa((a=>M2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=YR(this,i)}static Vi(t,i){return new nh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jm(t,i.fromCache,a,o)}}class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qb()?8:D2(un())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(Ya()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ya()<=Lt.DEBUG&&lt("QueryEngine","Query:",Xa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ya()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):$.resolve())}gs(t,i){if(Tv(i))return $.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=im(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,im(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return Tv(i)||o.isEqual(Tt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?$.resolve(null):(Ya()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(i)),this.Ds(t,d,i,R2(o,Vo)).next((p=>p)))}))}bs(t,i){let a=new Be(xE(t));return i.forEach(((o,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return Ya()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.fs.getDocumentsMatchingQuery(t,i,dr.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",oC=3e8;class uC{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ye(Pt),this.Fs=new sa((c=>Dm(c)),Om),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function cC(r,t,i,a){return new uC(r,t,i,a)}async function tT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=zt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function hC(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const A=y.batch,V=A.keys();let H=$.resolve();return V.forEach((tt=>{H=H.next((()=>b.getEntry(v,tt))).next((W=>{const it=y.docVersions.get(tt);Zt(it!==null,48541),W.version.compareTo(it)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),b.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function eT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function fC(r,t){const i=At(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((b,A)=>{const V=o.get(A);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(sn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),o=o.insert(A,H),(function(W,it,dt){return W.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=oC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,H,b)&&p.push(i.li.updateTargetData(c,H))}));let v=gs(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(dC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(Tt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function dC(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):lt(Bm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function mC(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function gC(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new rr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function om(r,t,i){const a=At(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!pl(d))throw d;lt(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Vv(r,t,i){const a=At(r);let o=Tt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=At(v),V=A.Fs.get(b);return V!==void 0?$.resolve(A.vs.get(V)):A.li.getTargetData(y,b)})(a,d,Li(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:zt()))).next((p=>(pC(a,eR(t),p),{documents:p,ks:c})))))}function pC(r,t,i){let a=r.Ms.get(t)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class kv{constructor(){this.activeTargetIds=lR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yC{constructor(){this.vo=new kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _C{Mo(t){}shutdown(){}}const Uv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function um(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const zd="RestConnection",vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class EC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=um(),p=this.Qo(t,i.toUriEncodedString());lt(zd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(p),b=hl(y);return this.zo(t,p,v,a,b).then((A=>(lt(zd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ea(zd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=vC[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class TC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const an="WebChannelConnection",Eo=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class nl extends EC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!nl.c_){const t=aE();Eo(t,rE.STAT_EVENT,(i=>{i.stat===Jd.PROXY?lt(an,"STAT_EVENT: detected buffering proxy"):i.stat===Jd.NOPROXY&&lt(an,"STAT_EVENT: detected no buffering proxy")})),nl.c_=!0}}zo(t,i,a,o,c){const d=um();return new Promise(((p,v)=>{const y=new iE;y.setWithCredentials(!0),y.listenOnce(sE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const A=y.getResponseJson();lt(an,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Mc.TIMEOUT:lt(an,`RPC '${t}' ${d} timed out`),v(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const V=y.getStatus();if(lt(an,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H?.error;if(tt&&tt.status&&tt.message){const W=(function(dt){const wt=dt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(wt)>=0?wt:J.UNKNOWN})(tt.status);v(new ct(W,tt.message))}else v(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ct(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(an,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);lt(an,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");lt(an,`Creating RPC '${t}' stream ${o}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,V=!1;const H=new TC({Ho:tt=>{V?lt(an,`Not sending because RPC '${t}' stream ${o} is closed:`,tt):(A||(lt(an,`Opening RPC '${t}' stream ${o} transport.`),b.open(),A=!0),lt(an,`RPC '${t}' stream ${o} sending:`,tt),b.send(tt))},Jo:()=>b.close()});return Eo(b,To.EventType.OPEN,(()=>{V||(lt(an,`RPC '${t}' stream ${o} transport opened.`),H.i_())})),Eo(b,To.EventType.CLOSE,(()=>{V||(V=!0,lt(an,`RPC '${t}' stream ${o} transport closed`),H.o_(),this.E_(b))})),Eo(b,To.EventType.ERROR,(tt=>{V||(V=!0,ea(an,`RPC '${t}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),H.o_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),Eo(b,To.EventType.MESSAGE,(tt=>{if(!V){const W=tt.data[0];Zt(!!W,16349);const it=W,dt=it?.error||it[0]?.error;if(dt){lt(an,`RPC '${t}' stream ${o} received error:`,dt);const wt=dt.status;let vt=(function(jt){const I=Ue[jt];if(I!==void 0)return BE(I)})(wt),Kt=dt.message;wt==="NOT_FOUND"&&Kt.includes("database")&&Kt.includes("does not exist")&&Kt.includes(this.databaseId.database)&&ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),vt===void 0&&(vt=J.INTERNAL,Kt="Unknown error status: "+wt+" with message "+dt.message),V=!0,H.o_(new ct(vt,Kt)),b.close()}else lt(an,`RPC '${t}' stream ${o} received:`,W),H.__(W)}})),nl.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lE()}}function bC(r){return new nl(r)}function jd(){return typeof document<"u"?document:null}function Th(r){return new RR(r,!0)}nl.c_=!1;class nT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Pv="PersistentStream";class iT{constructor(t,i,a,o,c,d,p,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(lt(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends iT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Pi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=nm(v)?{documents:OR(c,v)}:{query:MR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=GE(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=eh(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=kR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.K_(i)}}class AC extends iT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=DR(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>NR(this.serializer,a)))};this.K_(i)}}class wC{}class RC extends wC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,rm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function CC(r,t,i,a){return new RC(r,t,i,a)}class IC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class xC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(lt(na,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await Yo(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new IC(a,o)}}async function bh(r){if(aa(r))for(const t of r.Ra)await t(!0)}async function Yo(r){for(const t of r.Ra)await t(!1)}function sT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):yl(i).O_()&&Hm(i,t))}function qm(r,t){const i=At(r),a=yl(i);i.Ia.delete(t),a.O_()&&rT(i,t),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Va.set("Unknown"))}function Hm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yl(r).Z_(t)}function rT(r,t){r.da.$e(t),yl(r).X_(t)}function Gm(r){r.da=new bR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Va.ua()}function Fm(r){return aa(r)&&!yl(r).x_()&&r.Ia.size>0}function aa(r){return At(r).Ea.size===0}function aT(r){r.da=void 0}async function NC(r){r.Va.set("Online")}async function DC(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function OC(r,t){aT(r),Fm(r)?(r.Va.ha(t),Gm(r)):r.Va.set("Unknown")}async function MC(r,t,i){if(r.Va.set("Online"),t instanceof HE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(a){lt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ih(r,a)}else if(t instanceof Lc?r.da.Xe(t):t instanceof qE?r.da.st(t):r.da.tt(t),!i.isEqual(Tt.min()))try{const a=await eT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(sn.EMPTY_BYTE_STRING,b.snapshotVersion)),rT(c,v);const A=new rr(b.target,v,y,b.sequenceNumber);Hm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(na,"Failed to raise snapshot:",a),await ih(r,a)}}async function ih(r,t,i){if(!pl(t))throw t;r.Ea.add(1),await Yo(r),r.Va.set("Offline"),i||(i=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function lT(r,t){return t().catch((i=>ih(r,i,t)))}async function Sh(r){const t=At(r),i=yr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;VC(t);)try{const o=await mC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,kC(t,o)}catch(o){await ih(t,o)}oT(t)&&uT(t)}function VC(r){return aa(r)&&r.Ta.length<10}function kC(r,t){r.Ta.push(t);const i=yr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function oT(r){return aa(r)&&!yr(r).x_()&&r.Ta.length>0}function uT(r){yr(r).start()}async function UC(r){yr(r).ra()}async function LC(r){const t=yr(r);for(const i of r.Ta)t.ea(i.mutations)}async function PC(r,t,i){const a=r.Ta.shift(),o=km.from(a,t,i);await lT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function zC(r,t){t&&yr(r).Y_&&await(async function(a,o){if((function(d){return vR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();yr(a).B_(),await lT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Sh(a)}})(r,t),oT(r)&&uT(r)}async function zv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt(na,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await Yo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function jC(r,t){const i=At(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function yl(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:NC.bind(null,r),Yo:DC.bind(null,r),t_:OC.bind(null,r),J_:MC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Va.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function yr(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new AC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UC.bind(null,r),t_:zC.bind(null,r),ta:LC.bind(null,r),na:PC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Km{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Km(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(ms("AsyncQueue",`${t}: ${r}`),pl(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}class il{static emptySet(t){return new il(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=bo(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof il)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new il;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class jv{constructor(){this.ga=new ye(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class cl{constructor(t,i,a,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new cl(t,i,il.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qC{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Bv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Bv(){return new sa((r=>IE(r)),ph)}async function HC(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new BC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Qm(d,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function GC(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function FC(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Ym(i)}function KC(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var cm,qv;(qv=cm||(cm={})).Ma="default",qv.Cache="cache";class QC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new cl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class YC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=xE(t),this.tu=new il(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new jv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const V=o.get(b),H=yh(this.query,A)?A:null,tt=!!V&&this.mutatedKeys.has(V.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let it=!1;V&&H?V.data.isEqual(H.data)?tt!==W&&(a.track({type:3,doc:H}),it=!0):this.su(V,H)||(a.track({type:2,doc:H}),it=!0,(v&&this.eu(H,v)>0||y&&this.eu(H,y)<0)&&(p=!0)):!V&&H?(a.track({type:0,doc:H}),it=!0):V&&!H&&(a.track({type:1,doc:V}),it=!0,(v||y)&&(p=!0)),it&&(H?(d=d.add(H),c=W?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(H,tt){const W=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:it})}};return W(H)-W(tt)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new cl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new hT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new cT(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xm="SyncEngine";class XC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $C{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>IE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(gt.comparator),this.Au=new Map,this.Vu=new Pm,this.du={},this.mu=new Map,this.fu=ul.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,t,i=!0){const a=yT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await fT(a,t,i,!0),o}async function WC(r,t){const i=yT(r);await fT(i,t,!0,!1)}async function fT(r,t,i,a){const o=await gC(r.localStore,Li(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&sT(r.remoteStore,o),p}async function tI(r,t,i,a,o){r.pu=(A,V,H)=>(async function(W,it,dt,wt){let vt=it.view.ru(dt);vt.Ss&&(vt=await Vv(W.localStore,it.query,!1).then((({documents:I})=>it.view.ru(I,vt))));const Kt=wt&&wt.targetChanges.get(it.targetId),ue=wt&&wt.targetMismatches.get(it.targetId)!=null,jt=it.view.applyChanges(vt,W.isPrimaryClient,Kt,ue);return Gv(W,it.targetId,jt.au),jt.snapshot})(r,A,V,H);const c=await Vv(r.localStore,t,!0),d=new YC(t,c.ks),p=d.ru(c.documents),v=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,v);Gv(r,i,y.au);const b=new XC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function eI(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await om(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&qm(a.remoteStore,o.targetId),hm(a,o.targetId)})).catch(gl)):(hm(a,o.targetId),await om(a.localStore,o.targetId,!0))}async function nI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function iI(r,t,i){const a=cI(r);try{const o=await(function(d,p){const v=At(d),y=de.now(),b=p.reduce(((H,tt)=>H.add(tt.key)),zt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=gs(),W=zt();return v.xs.getEntries(H,b).next((it=>{tt=it,tt.forEach(((dt,wt)=>{wt.isValidDocument()||(W=W.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,tt))).next((it=>{A=it;const dt=[];for(const wt of p){const vt=mR(wt,A.get(wt.key).overlayedDocument);vt!=null&&dt.push(new ra(wt.key,vt,TE(vt.value.mapValue),cs.exists(!0)))}return v.mutationQueue.addMutationBatch(H,y,dt,p)})).next((it=>{V=it;const dt=it.applyToLocalDocumentSet(A,W);return v.documentOverlayCache.saveOverlays(H,it.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:DE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new ye(Pt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Xo(a,o.changes),await Sh(a.remoteStore)}catch(o){const c=Qm(o,"Failed to persist write");i.reject(c)}}async function dT(r,t){const i=At(r);try{const a=await fC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Zt(d.hu,14607):o.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Xo(i,a,t)}catch(a){await gl(a)}}function Hv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,A)=>{for(const V of A.ba)V.va(p)&&(y=!0)})),y&&Ym(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ye(gt.comparator);d=d.insert(c,on.newNoDocument(c,Tt.min()));const p=zt().add(c),v=new Eh(Tt.min(),new Map,new ye(Pt),d,p);await dT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),$m(a)}else await om(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(gl)}async function rI(r,t){const i=At(r),a=t.batch.batchId;try{const o=await hC(i.localStore,t);gT(i,a,null),mT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(i,o)}catch(o){await gl(o)}}async function aI(r,t,i){const a=At(r);try{const o=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Zt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);gT(a,t,i),mT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xo(a,o)}catch(o){await gl(o)}}function mT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function gT(r,t,i){const a=At(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||pT(r,a)}))}function pT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(qm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),$m(r))}function Gv(r,t,i){for(const a of i)a instanceof cT?(r.Vu.addReference(a.key,t),lI(r,a)):a instanceof hT?(lt(Xm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||pT(r,a.key)):yt(19791,{wu:a})}function lI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(lt(Xm,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new $C(i)),r.Ru=r.Ru.insert(i,a),sT(r.remoteStore,new rr(Li(Mm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Xo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=jm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(V=>$.forEach(V.Ts,(H=>b.persistence.referenceDelegate.addReference(A,V.targetId,H))).next((()=>$.forEach(V.Is,(H=>b.persistence.referenceDelegate.removeReference(A,V.targetId,H)))))))))}catch(A){if(!pl(A))throw A;lt(Bm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const H=b.vs.get(V),tt=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(tt);b.vs=b.vs.insert(V,W)}}})(a.localStore,c))}async function oI(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){lt(Xm,"User change. New user:",t.toKey());const a=await tT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(i,a.Ns)}}function uI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function yT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Pu.J_=FC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function cI(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new WE(zm.Vi,this.serializer)}Du(t){return new yC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class hI extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new WE((a=>nh.Vi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await jC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qC})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=bC(t.databaseInfo);return CC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new xC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Hv(this.syncEngine,i,0)),(function(){return Lv.v()?new Lv:new _C})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,b){const A=new JC(o,c,d,p,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);lt(na,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class fI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const _r="FirestoreClient";class dI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(_r,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await tT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Fv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mI(r);lt(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>zv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>zv(t.remoteStore,o))),r._onlineComponents=t}async function mI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(_r,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ea("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new sh)}}else lt(_r,"Using default OfflineComponentProvider"),await Bd(r,new hI(void 0));return r._offlineComponents}async function _T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(_r,"Using user provided OnlineComponentProvider"),await Fv(r,r._uninitializedComponentsProvider._online)):(lt(_r,"Using default OnlineComponentProvider"),await Fv(r,new fm))),r._onlineComponents}function gI(r){return _T(r).then((t=>t.syncEngine))}async function Kv(r){const t=await _T(r),i=t.eventManager;return i.onListen=ZC.bind(null,t.syncEngine),i.onUnlisten=eI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nI.bind(null,t.syncEngine),i}function pI(r,t,i,a){const o=new fI(a),c=new QC(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>HC(await Kv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>GC(await Kv(r),c)))}}function yI(r,t){const i=new Xr;return r.asyncQueue.enqueueAndForget((async()=>iI(await gI(r),t,i))),i.promise}function vT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const _I="ComponentProvider",Qv=new Map;function vI(r,t,i,a,o){return new U2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,vT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const ET="firestore.googleapis.com",Yv=!0;class Xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=Yv}else this.host=t.host,this.ssl=t.ssl??Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GR)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g2;switch(a.type){case"firstParty":return new v2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(lt(_I,"Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=Co(r,Ah);const o=hl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(p0(`https://${p}`),y0("Firestore",!0)),c.host!==ET&&c.host!==p&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Jr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=ln.MOCK_USER;else{y=Mb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(A)}r._authCredentials=new p2(new uE(y,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Qe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fo(i,Qe._jsonSchema))return new Qe(t,a||null,new gt(fe.fromString(i.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:Le("string",Qe._jsonSchemaVersion),referencePath:Le("string")};class hr extends wh{constructor(t,i,a){super(t,i,Mm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new gt(t))}withConverter(t){return new hr(this.firestore,t,this._path)}}function $v(r,t,...i){if(r=On(r),cE("collection","path",t),r instanceof Ah){const a=fe.fromString(t,...i);return ov(a),new hr(r,null,a)}{if(!(r instanceof Qe||r instanceof hr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return ov(a),new hr(r.firestore,null,a)}}function TI(r,t,...i){if(r=On(r),arguments.length===1&&(t=Rm.newId()),cE("doc","path",t),r instanceof Ah){const a=fe.fromString(t,...i);return lv(a),new Qe(r,null,new gt(a))}{if(!(r instanceof Qe||r instanceof hr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return lv(a),new Qe(r.firestore,r instanceof hr?r.converter:null,new gt(a))}}const Jv="AsyncQueue";class Zv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&lt(Jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!pl(t))throw t;lt(Jv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",Wv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:Wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Wv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class rh extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Zv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zv(t),this._firestoreClient=void 0,await t}}}function bI(r,t){const i=typeof r=="object"?r:T0(),a=typeof r=="string"?r:Xc,o=ym(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Db("firestore");c&&EI(o,...c)}return o}function TT(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const t=r._freezeSettings(),i=vI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(sn.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fo(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Le("string",Qn._jsonSchemaVersion),bytes:Le("string")};class bT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ST{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Fo(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Le("string",zi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fo(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Le("string",ci._jsonSchemaVersion),vectorValues:Le("object")};const AI=/^__.*__$/;class wI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(t,this.data,i,this.fieldTransforms)}}function AT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class Jm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(AT(this.dataSource)&&AI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class RI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,o=!1){return new Jm({dataSource:t,methodName:i,targetDoc:a,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CI(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new RI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function II(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);IT("Data must be an object, but it was:",d,a);const p=RT(a,d);let v,y;if(c.merge)v=new ui(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=Zm(t,A,i);if(!d.contains(V))throw new ct(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);DI(b,V)||b.push(V)}v=new ui(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new wI(new Kn(p),v,y)}function wT(r,t){if(CT(r=On(r)))return IT("Unsupported field value:",t,r),RT(r,t);if(r instanceof ST)return(function(a,o){if(!AT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=wT(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=On(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:eh(o.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(o.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:GE(o.serializer,a._byteString)};if(a instanceof Qe){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ci)return(function(d,p){const v=d instanceof ci?d.toArray():d;return{mapValue:{fields:{[vE]:{stringValue:EE},[$c]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Vm(p.serializer,b)}))}}}}}})(a,o);if(JE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Cm(a)}`)})(r,t)}function RT(r,t){const i={};return dE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(r,((a,o)=>{const c=wT(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function CT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof zi||r instanceof Qn||r instanceof Qe||r instanceof ST||r instanceof ci||JE(r))}function IT(r,t,i){if(!CT(i)||!hE(i)){const a=Cm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Zm(r,t,i){if((t=On(t))instanceof bT)return t._internalPath;if(typeof t=="string")return NI(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const xI=new RegExp("[~\\*/\\[\\]]");function NI(r,t,i){if(t.search(xI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bT(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct(J.INVALID_ARGUMENT,p+r+v)}function DI(r,t){return r.some((i=>i.isEqual(t)))}class OI{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ia(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new ci(i)}convertGeoPoint(t){return new zi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const i=mr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Zt($E(a),9688,{name:t});const o=new Uo(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return o.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class xT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,i)}}const t0="@firebase/firestore",e0="4.11.0";function n0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class NT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Zm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends NT{data(){return super.data()}}function VI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function kI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends NT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Zm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Le("string",$r._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Pc extends $r{data(t={}){return super.data(t)}}class sl{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:UI(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:Le("string",sl._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};function LI(r,t){const i=Co(r.firestore,rh),a=TI(r),o=kI(r.converter,t),c=CI(r.firestore);return zI(i,[II(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,cs.exists(!1))]).then((()=>a))}function PI(r,...t){r=On(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||n0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(n0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Qe)d=Co(r.firestore,rh),p=Mm(r._key.path),c={next:y=>{t[a]&&t[a](jI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Co(r,wh);d=Co(y.firestore,rh),p=y._query;const b=new xT(d);c={next:A=>{t[a]&&t[a](new sl(d,b,y,A))},error:t[a+1],complete:t[a+2]},VI(r._query)}const v=TT(d);return pI(v,p,o,c)}function zI(r,t){const i=TT(r);return yI(i,t)}function jI(r,t,i){const a=i.docs.get(t._key),o=new xT(r);return new $r(r,o,t._key,a,new Ao(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){m2(fl),rl(new Zr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new rh(new y2(a.getProvider("auth-internal")),new E2(d,a.getProvider("app-check-internal")),L2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(t0,e0,t),or(t0,e0,"esm2020")})();const DT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const BI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const i0=r=>{const t=qI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const FI=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>ne.createElement("svg",{ref:v,...HI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:DT("lucide",o),...!c&&!GI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>ne.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ee=(r,t)=>{const i=ne.forwardRef(({className:a,...o},c)=>ne.createElement(FI,{ref:c,iconNode:t,className:DT(`lucide-${BI(i0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=i0(r),i};const KI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QI=Ee("book-open",KI);const YI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XI=Ee("calendar",YI);const $I=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JI=Ee("check",$I);const ZI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],s0=Ee("chevron-left",ZI);const WI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tx=Ee("chevron-right",WI);const ex=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dm=Ee("circle-check-big",ex);const nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],ix=Ee("circle-stop",nx);const sx=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],rx=Ee("eraser",sx);const ax=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],lx=Ee("heart",ax);const ox=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ux=Ee("history",ox);const cx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],qd=Ee("mic",cx);const hx=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],fx=Ee("pen-tool",hx);const dx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],r0=Ee("pencil",dx);const mx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gx=Ee("play",mx);const px=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yx=Ee("rotate-ccw",px);const _x=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],vx=Ee("school",_x);const Ex=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tx=Ee("sparkles",Ex);const bx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sx=Ee("sun",bx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wx=Ee("trash-2",Ax);const Rx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Cx=Ee("trophy",Rx);const Ix=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zc=Ee("volume-2",Ix);const xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OT=Ee("x",xx),MT=JSON.parse('{"apiKey":"dummy-api-key","authDomain":"dummy-auth-domain","projectId":"dummy-project-id","storageBucket":"dummy-storage-bucket","messagingSenderId":"dummy-sender-id","appId":"dummy-app-id"}'),Ic=MT.apiKey==="dummy-api-key",VT=E0(MT),a0=a2(VT),l0=bI(VT),o0="school-diary-app",Nx="",Dx="AIzaSyDuPM6UgnYEkCtfUJdXa1zZTTBnsa_CHLY",Fe=[{id:"when",label:"",suggestions:[{label:"",icon:U.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:U.jsx(Sx,{className:"text-orange-500",size:40})})},{label:"",icon:U.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:U.jsx("div",{className:"text-blue-400 text-4xl",children:""})})}]},{id:"what",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"what_detail",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"friend_names",label:" ",subLabel:"4 ",suggestions:[{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""}]},{id:"who",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"feeling",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]}],tr={:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:" ",text:" "},{label:"",text:" "},{label:"",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:"  "},{label:"",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:" "},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "},{label:"  ",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]}},Ox=({text:r,onCancel:t,onSpeak:i,onSave:a})=>{const o=ne.useRef(null),[c,d]=ne.useState(!1);ne.useEffect(()=>{const H=o.current;if(!H)return;const tt=H.getContext("2d"),W=()=>{const it=H.parentElement.getBoundingClientRect();H.width=it.width,H.height=it.height,tt.lineCap="round",tt.lineWidth=6,tt.strokeStyle="#2563eb"};return window.addEventListener("resize",W),W(),()=>window.removeEventListener("resize",W)},[]);const p=H=>{const W=o.current.getBoundingClientRect(),it=H.touches?H.touches[0].clientX:H.clientX,dt=H.touches?H.touches[0].clientY:H.clientY;return{x:it-W.left,y:dt-W.top}},v=H=>{d(!0);const tt=p(H),W=o.current.getContext("2d");W.beginPath(),W.moveTo(tt.x,tt.y)},y=H=>{if(!c)return;const tt=p(H),W=o.current.getContext("2d");W.lineTo(tt.x,tt.y),W.stroke()},b=()=>d(!1),A=()=>{o.current.getContext("2d").clearRect(0,0,o.current.width,o.current.height)},V=()=>{const H=o.current.toDataURL("image/png");a(H)};return U.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-50 flex flex-col animate-in fade-in duration-300 overflow-hidden",children:[U.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-white border-b border-slate-100 shadow-sm",children:[U.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full flex items-center justify-center text-slate-300 active:scale-90",children:U.jsx(OT,{size:32})}),U.jsx("h2",{className:"text-xl font-black text-slate-800",children:""}),U.jsx("button",{onClick:i,className:"w-12 h-12 bg-blue-600 rounded-full shadow-lg flex items-center justify-center text-white active:scale-90",children:U.jsx(zc,{size:24})})]}),U.jsx("div",{className:"flex-1 p-4 md:p-8 flex justify-center items-center",children:U.jsxs("div",{className:"w-full h-full max-w-5xl bg-white rounded-[2.5rem] shadow-xl border-[6px] border-blue-50 relative overflow-hidden flex flex-row-reverse p-10",children:[U.jsx("div",{className:"absolute inset-0 p-10 flex flex-row-reverse justify-start select-none pointer-events-none z-0",style:{writingMode:"vertical-rl",textOrientation:"upright"},children:U.jsx("p",{className:"text-[5.2vh] font-black text-slate-100 leading-[1.9] tracking-[0.18em] whitespace-pre-wrap",children:r})}),U.jsx("canvas",{ref:o,onMouseDown:v,onMouseMove:y,onMouseUp:b,onMouseLeave:b,onTouchStart:v,onTouchMove:y,onTouchEnd:b,className:"absolute inset-0 w-full h-full touch-none cursor-crosshair z-10"}),U.jsx("div",{className:"absolute inset-4 border-2 border-dashed border-blue-100 rounded-[2rem] pointer-events-none opacity-40 z-0"})]})}),U.jsxs("div",{className:"bg-white px-8 py-6 border-t border-slate-100 flex gap-4",children:[U.jsxs("button",{onClick:A,className:"flex-1 h-16 bg-slate-50 text-slate-400 rounded-2xl font-black text-lg flex items-center justify-center gap-3 active:scale-95",children:[U.jsx(rx,{size:24})," "]}),U.jsxs("button",{onClick:V,className:"flex-1 h-16 bg-blue-600 text-white rounded-2xl font-black text-xl flex items-center justify-center gap-3 active:scale-95 shadow-lg shadow-blue-200",children:[U.jsx(dm,{size:24})," "]})]})]})},Mx=({className:r})=>U.jsx("div",{className:`${r} rotate-[12deg] origin-center w-max select-none pointer-events-none`,children:U.jsx("div",{className:"inline-flex items-center justify-center px-4 py-1.5 rounded-full border-[3px] border-rose-500 bg-white shadow-sm",children:U.jsx("span",{className:"text-rose-500 font-black text-sm tracking-[0.1em] whitespace-nowrap",children:""})})});function Vx(){const[r,t]=ne.useState(null),[i,a]=ne.useState("home"),[o,c]=ne.useState(0),[d,p]=ne.useState({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),[v,y]=ne.useState(!1),[b,A]=ne.useState(""),[V,H]=ne.useState(null),[tt,W]=ne.useState(""),[it,dt]=ne.useState([]),[wt,vt]=ne.useState(!1),[Kt,ue]=ne.useState(!1),[jt,I]=ne.useState(null),[S,C]=ne.useState(null),O=ne.useRef(null),x=ne.useRef([]),M=ne.useRef(null);ne.useEffect(()=>((window.AudioContext||window.webkitAudioContext)&&(M.current=new AudioContext),()=>{M.current&&M.current.state!=="closed"&&M.current.close()}),[]),ne.useEffect(()=>{const K=()=>speechSynthesis.getVoices();return speechSynthesis.onvoiceschanged=K,K(),()=>{speechSynthesis.onvoiceschanged=null}},[]);const w=async()=>{if(M.current)try{const K=M.current;K.state==="suspended"&&(await K.resume(),console.log("AudioContext resumed by user interaction"));const Z=K.createBuffer(1,1,22050),et=K.createBufferSource();et.buffer=Z,et.connect(K.destination),et.start(0)}catch(K){console.error("Audio unlock failed",K)}},oe=()=>{const K=speechSynthesis.getVoices();return K.find(Z=>Z.lang==="ja-JP"&&Z.name.includes("Google"))||K.find(Z=>Z.lang==="ja-JP"&&Z.name.includes("Kyoko"))||K.find(Z=>Z.lang==="ja-JP"&&Z.name.includes("O-Ren"))||K.find(Z=>Z.lang==="ja-JP")},Te=()=>{rt(b)},G=new Date,st=`${G.getMonth()+1} ${G.getDate()}`,ht=["","","","","","",""][G.getDay()];ne.useEffect(()=>{console.log("Neural2 Key Present:",!0),(async()=>await HA(a0))();const Z=XA(a0,t);return()=>Z()},[]),ne.useEffect(()=>{if(r)if(Ic){const K=()=>{const Z=localStorage.getItem("school_diary_entries");if(Z)try{const et=JSON.parse(Z);dt(et.sort((mt,Dt)=>Dt.timestamp-mt.timestamp))}catch(et){console.error("Failed to parse local entries",et)}};return K(),window.addEventListener("storage",K),()=>window.removeEventListener("storage",K)}else{const K=$v(l0,"artifacts",o0,"users",r.uid,"diary_entries"),Z=PI(K,et=>{const mt=et.docs.map(Dt=>({id:Dt.id,...Dt.data()}));dt(mt.sort((Dt,bt)=>bt.timestamp-Dt.timestamp))},et=>console.error("Firestore Error:",et));return()=>Z()}},[r]);const xt=d.what&&tr[d.what],Gt=K=>{const{when:Z,what:et,what_detail:mt,friend_names:Dt,who:bt,feeling:Qt}=K;let Pe=Z;if(tr[et]){const vs=tr[et],Es=vs.steps[0].options.find(bn=>bn.label===mt),Yn=vs.steps[1].options.find(bn=>bn.label===Qt),Ts=Es?Es.text:mt;let fi=Yn?Yn.text:Qt;if(et===""&&mt===" "&&Qt===""&&(fi=" "),et==="")return`${Z} ${et}${Ts} ${fi}`;if(et===""){let bn=Ts;return bn.includes("")||(bn=`${bn} `),`${Z}  ${bn} ${fi}`}else return et===""?`${Z}${Ts} ${fi}`:`${Z} ${et} ${Ts} ${fi}`}let pe="";et===""?pe="":et===""?pe="":et===""?pe=" ":et===""?pe=" ":pe=`${et} `;let En="";Dt&&Dt.length>0?En=Dt.join("")+" ":bt&&bt!==""&&(En=bt+" ");let Ft="";mt?mt===""||mt===""?Ft="":mt.endsWith("")?Ft=mt.replace(""," "):Ft=`${mt} `:et===""||et===""?Ft=" ":et===""?Ft=" ":et===""?Ft=" ":et===""?Ft=" ":et===""?Ft=" ":et===""?Ft=" ":et===""?Ft="":Ft="";let Tn="";return Qt===""?Tn=" ":Qt===""?Tn=" ":Qt===""?Tn=" ":Qt===""&&(Tn=" "),`${Pe}${pe}${En}${Ft} ${Tn}`},D=async K=>{y(!0),W(" ...");const Z=K||d;try{if(Ic){await new Promise(mt=>setTimeout(mt,800));const et=Gt(Z);A(et),a("result")}else{let et=Z.what;Z.what===""&&Z.what_detail&&(et=Z.what_detail);let mt=Z.who;Z.friend_names?.length>0&&(mt=Z.friend_names.join(""));const Dt="11",bt=`=${Z.when}=${Z.what}=${et}=${mt}=${Z.feeling}`,pe=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${Nx}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:bt}]}],systemInstruction:{parts:[{text:Dt}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||Gt(Z);A(pe),a("result")}}catch(et){console.error(et),A(Gt(Z)),a("result")}finally{y(!1),W("")}},Y=async K=>{if(!M.current)return;const Z=M.current;try{Z.state==="suspended"&&await Z.resume();const et=window.atob(K),mt=et.length,Dt=new Uint8Array(mt);for(let pe=0;pe<mt;pe++)Dt[pe]=et.charCodeAt(pe);const bt=Dt.buffer,Qt=await Z.decodeAudioData(bt),Pe=Z.createBufferSource();Pe.buffer=Qt,Pe.connect(Z.destination),Pe.onended=()=>{y(!1),W("")},Pe.start(0)}catch(et){console.error("Web Audio API Error:",et),alert(`Audio Error: ${et.message}`),y(!1)}},rt=async K=>{const Z=K||b;if(!Z)return;if(y(!0),M.current)try{const mt=M.current;mt.state==="suspended"&&await mt.resume();const Dt=mt.createBuffer(1,1,22050),bt=mt.createBufferSource();bt.buffer=Dt,bt.connect(mt.destination),bt.start(0)}catch(mt){console.warn("Audio unlock failed",mt)}const et=mt=>{W(" ...");const Dt=new SpeechSynthesisUtterance(mt);Dt.lang="ja-JP",Dt.rate=.9,Dt.pitch=1;const bt=oe();bt&&(Dt.voice=bt),window.speechSynthesis.speak(Dt),y(!1),setTimeout(()=>W(""),2e3)};try{W("Neural2  ...");const mt=await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${Dx}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:Z},voice:{languageCode:"ja-JP",name:"ja-JP-Neural2-B"},audioConfig:{audioEncoding:"MP3",speakingRate:.85,pitch:2}})});if(!mt.ok)throw new Error("Google Cloud TTS API response was not ok");const Dt=await mt.json();if(Dt.audioContent){await Y(Dt.audioContent);return}else throw new Error("No audio content in response")}catch(mt){alert(`Audio Error (GC): ${mt.message}`),console.error("Google Cloud TTS Error, falling back:",mt)}{console.warn("No API Key found, using browser TTS."),et(Z);return}},at=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({audio:!0}),Z=new MediaRecorder(K);O.current=Z,x.current=[],Z.ondataavailable=et=>{et.data.size>0&&x.current.push(et.data)},Z.onstop=()=>{const et=new Blob(x.current,{type:"audio/webm"}),mt=URL.createObjectURL(et);I(et),C(mt),K.getTracks().forEach(Dt=>Dt.stop())},Z.start(),ue(!0)}catch(K){console.error("Error accessing microphone:",K),alert(" ")}},_t=()=>{O.current&&Kt&&(O.current.stop(),ue(!1))},Rt=()=>{I(null),C(null),x.current=[]},Vt=()=>{S&&new Audio(S).play()},be=async()=>{if(!(!r&&!Ic)){y(!0),W(" ...");try{let K=null;if(jt){const Z=new FileReader;K=await new Promise(et=>{Z.onloadend=()=>et(Z.result),Z.readAsDataURL(jt)})}if(Ic){const Z={id:d2(),date:st,timestamp:Date.now(),text:b,handwriting:V,audioData:K},et=JSON.parse(localStorage.getItem("school_diary_entries")||"[]"),mt=[Z,...et];localStorage.setItem("school_diary_entries",JSON.stringify(mt)),dt(mt.sort((Dt,bt)=>bt.timestamp-Dt.timestamp))}else await LI($v(l0,"artifacts",o0,"users",r.uid,"diary_entries"),{date:st,timestamp:Date.now(),text:b,handwriting:V,audioData:K});a("home"),H(null),I(null),C(null)}catch(K){console.error(K)}finally{y(!1)}}},qt=K=>Fe.findIndex(Z=>Z.id===K),hi=K=>["","","","",""].includes(K),ys=K=>{const Z=d.friend_names||[];Z.includes(K)?p({...d,friend_names:Z.filter(et=>et!==K)}):Z.length<4&&p({...d,friend_names:[...Z,K]})},_s=()=>{if(d.what&&tr[d.what]){const K=tr[d.what].steps;return[Fe[0],Fe[1],...K]}return Fe},qi=(K,Z)=>{const et={...d,[K]:Z};if(p(et),tr[et.what]){const mt=_s();mt.findIndex(bt=>bt.id===K)<mt.length-1&&(K==="when"?c(1):K==="what"?c(2):K==="what_detail"?c(3):K==="feeling"&&D(et));return}w(),K==="when"?c(qt("what")):K==="what"?c(qt(Z===""?"what_detail":"who")):K==="what_detail"?hi(Z)?c(qt("friend_names")):c(qt("who")):K==="who"?c(qt("feeling")):K==="feeling"&&D(et)};return U.jsxs("div",{className:"min-h-[100dvh] bg-[#FDFCFB] text-slate-900 font-sans antialiased overflow-x-hidden touch-manipulation",style:{paddingBottom:"calc(8rem + env(safe-area-inset-bottom))"},children:[wt&&U.jsx(Ox,{text:b,onCancel:()=>vt(!1),onSpeak:Te,onSave:K=>{H(K),vt(!1)}}),U.jsxs("nav",{className:"sticky top-0 z-20 bg-white/90 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center shadow-sm",children:[U.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a("home"),children:[U.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-[1.2rem] flex items-center justify-center text-white shadow-lg",children:U.jsx(vx,{size:24})}),U.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:""})]}),i!=="home"&&U.jsx("button",{onClick:()=>a("home"),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 active:scale-90",children:U.jsx(OT,{size:18})})]}),U.jsxs("main",{className:"max-w-xl mx-auto px-4 mt-2",children:[i==="home"&&U.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-500",children:[U.jsxs("div",{className:"bg-white rounded-[2.8rem] p-8 shadow-xl shadow-slate-200/40 border border-slate-50 flex flex-col items-center text-center relative overflow-hidden",children:[U.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 bg-orange-50 px-3 py-1 rounded-full text-orange-600 font-bold text-xs",children:[U.jsx(Cx,{size:14}),U.jsxs("span",{children:["x ",it.length]})]}),U.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-500 rounded-2xl flex items-center justify-center mb-3",children:U.jsx(XI,{size:32})}),U.jsx("p",{className:"text-slate-400 font-bold text-sm mb-1",children:ht}),U.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-6 tracking-tight",children:st}),U.jsxs("button",{onClick:()=>{w(),p({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),c(0),H(null),a("step")},className:"w-full bg-orange-500 text-white rounded-[1.8rem] py-6 flex items-center justify-center gap-4 shadow-xl shadow-orange-200 active:scale-[0.98] transition-all",children:[U.jsx(fx,{size:24}),U.jsx("span",{className:"text-xl font-black",children:" "})]})]}),U.jsx("div",{className:"flex justify-center",children:U.jsxs("button",{onClick:async()=>{if(await w(),M.current){const K=M.current,Z=K.createOscillator(),et=K.createGain();Z.type="sine",Z.frequency.setValueAtTime(440,K.currentTime),et.gain.setValueAtTime(.1,K.currentTime),Z.connect(et),et.connect(K.destination),Z.start(),Z.stop(K.currentTime+.2),alert(`Sound Test: ${K.state}`)}else alert("No AudioContext")},className:"text-lg bg-blue-600 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg font-bold my-4",children:[U.jsx(zc,{size:20})," "]})}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"flex justify-between items-center px-2",children:[U.jsxs("h3",{className:"font-black text-slate-400 text-xs tracking-widest uppercase flex items-center gap-2",children:[U.jsx(ux,{size:14})," "]}),U.jsx("button",{onClick:()=>a("history"),className:"text-blue-500 text-sm font-bold",children:""})]}),U.jsxs("div",{className:"grid grid-cols-1 gap-4 pb-10",children:[it.slice(0,1).map(K=>U.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex flex-col gap-4",children:[U.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:K.text}),K.handwriting&&U.jsx("div",{className:"bg-slate-50 rounded-2xl p-2 border border-slate-100 shadow-inner",children:U.jsx("img",{src:K.handwriting,className:"w-full h-auto object-contain max-h-32"})})]},K.id)),it.length===0&&U.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-12 border-2 border-dashed border-slate-100 flex flex-col items-center gap-4 opacity-40",children:[U.jsx(QI,{size:48,className:"text-slate-200"}),U.jsxs("p",{className:"text-sm font-bold text-slate-400 text-center",children:["  ",U.jsx("br",{})," "]})]})]})]})]}),i==="step"&&U.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[U.jsxs("div",{className:"flex justify-between items-center px-2",children:[xt?U.jsx("div",{className:"flex flex-col",children:U.jsxs("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:[" ",Math.max(0,4-o),""]})}):U.jsx("div",{className:"flex flex-col",children:U.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:Fe[o].id==="friend_names"?`${d.friend_names?.length||0} `:` ${Fe.length-o}`})}),U.jsx("div",{className:"flex gap-1.5",children:xt?[0,1,2,3].map(K=>U.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${K<=o?"bg-orange-500":"bg-slate-200"}`},K)):Fe.map((K,Z)=>K.id==="what_detail"&&d.what!==""||K.id==="friend_names"&&!hi(d.what_detail)||K.id==="who"&&d.friend_names?.length>0?null:U.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${Z<=o?"bg-orange-500":"bg-slate-200"}`},Z))})]}),U.jsx("div",{className:"bg-white rounded-3xl px-5 py-4 shadow-xl border border-slate-50 min-h-[50dvh] flex flex-col",children:xt&&o>=2?(()=>{const Z=tr[d.what].steps[o-2];return Z?U.jsxs("div",{className:"flex flex-col h-full",children:[U.jsx("h2",{className:"text-xl font-black mb-4 text-slate-800 tracking-tight",children:Z.question}),U.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-1 gap-2 content-start",children:Z.options.map(et=>U.jsx("button",{onClick:()=>qi(Z.id,et.label),className:`
                                                            p-4 text-lg font-bold rounded-xl transition-all shadow-sm border-2 text-left
                                                            ${d[Z.id]===et.label?"bg-blue-100 border-blue-500 text-blue-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-blue-300"}
                                                        `,children:et.label},et.label))}),U.jsx("div",{className:"mt-2 p-3 bg-orange-50/50 rounded-xl border-2 border-dashed border-orange-100 min-h-0 flex items-center justify-center",children:U.jsx("p",{className:"text-base text-slate-700 font-bold text-center leading-relaxed",children:(()=>{const et=d.what_detail||"_____",mt=tr[d.what],Dt=mt.steps[0].options.find(Ft=>Ft.label===et),bt=mt.steps[1].options.find(Ft=>Ft.label===(d.feeling||"")),Qt=Dt?Dt.text:"_____";let Pe=bt?bt.text:"";d.what===""&&d.what_detail===" "&&d.feeling===""&&(Pe=" ");let pe=`${d.when} ${d.what} `;d.what===""?pe=`${d.when} ${d.what}`:d.what===""?pe=`${d.when}${d.what}  `:d.what===""?pe=`${d.when}`:pe=`${d.when} ${d.what} `;let En=Qt;return d.what===""&&!En.includes("")&&(En=`${En} `),U.jsxs(U.Fragment,{children:[pe,En," ",Pe]})})()})})]}):null})():U.jsxs(U.Fragment,{children:[U.jsx("h2",{className:"text-xl font-black mb-4 text-slate-800 tracking-tight",children:Fe[o].label}),U.jsx("div",{className:"flex-1 overflow-y-auto pr-2 pb-4 scrollbar-hide",children:U.jsx("div",{className:`grid gap-3 ${Fe[o].id==="when"?"grid-cols-1":"grid-cols-2"}`,children:Fe[o].suggestions.map(K=>{const Z=Fe[o].id==="friend_names"?d.friend_names?.includes(K.label):d[Fe[o].id]===K.label;return U.jsxs("button",{onClick:()=>Fe[o].id==="friend_names"?ys(K.label):qi(Fe[o].id,K.label),className:`rounded-xl flex flex-col items-center justify-center gap-1 transition-all border-2 ${Z?"bg-blue-50 border-blue-400 ring-4 ring-blue-50 text-blue-600":"bg-white border-slate-50 text-slate-600 hover:border-slate-100"} ${Fe[o].id==="when"?"py-4":"p-3 shadow-sm"}`,children:[Z&&Fe[o].id==="friend_names"&&U.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-md",children:U.jsx(JI,{size:14,strokeWidth:4})}),K.icon&&U.jsx("div",{children:typeof K.icon=="string"?U.jsx("span",{className:"text-3xl",children:K.icon}):K.icon}),U.jsx("span",{className:`${Fe[o].id==="when"?"text-xl":"text-sm"} font-bold`,children:K.label})]},K.label)})})})]})}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:()=>{o===qt("friend_names")?c(qt("what_detail")):o>0&&c(o-1)},className:"h-14 w-14 bg-white rounded-2xl flex items-center justify-center text-slate-300 border border-slate-100 active:scale-95 shadow-sm",children:U.jsx(s0,{size:28})}),(xt&&o===2||Fe[o].id==="friend_names")&&U.jsxs("button",{onClick:()=>{xt?D(d):c(qt("feeling"))},disabled:xt?!d.feeling:d.friend_names?.length===0,className:`h-14 flex-1 rounded-2xl font-black text-lg flex items-center justify-center gap-3 shadow-xl ${(xt?d.feeling:d.friend_names?.length>0)?"bg-blue-600 text-white shadow-blue-200":"bg-slate-200 text-white cursor-not-allowed"}`,children:["OK",U.jsx(tx,{size:24})]})]})]}),i==="result"&&U.jsxs("div",{className:"space-y-6 animate-in zoom-in-95 duration-700",children:[U.jsx("div",{className:"bg-white rounded-[3.2rem] shadow-2xl border border-slate-50 overflow-hidden relative",children:U.jsxs("div",{className:"p-10 relative",children:[U.jsx(Mx,{className:"absolute top-8 right-8 z-10 animate-in zoom-in-50 spin-in-6 duration-1000 ease-out fill-mode-backwards"}),U.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-black text-[10px] uppercase mb-8 tracking-[0.2em]",children:[U.jsx(lx,{size:12,fill:"currentColor"})," "]}),U.jsxs("div",{className:"flex flex-col gap-8",children:[U.jsx("div",{className:"bg-white p-8 rounded-[2rem] border-l-[10px] border-blue-500 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.05)] relative overflow-hidden",children:U.jsx("p",{className:"text-[28px] font-black leading-[1.65] text-slate-800 tracking-tight",children:b})}),V&&U.jsxs("div",{className:"bg-white px-6 py-5 rounded-[2.2rem] border-2 border-dashed border-blue-100/60 shadow-sm relative animate-in fade-in slide-in-from-bottom-2",children:[U.jsxs("div",{className:"absolute -top-3 left-6 bg-white px-3 py-1 rounded-full border border-blue-100 flex items-center gap-1",children:[U.jsx(r0,{size:10,className:"text-blue-400"}),U.jsx("span",{className:"text-[9px] font-black text-blue-400 uppercase tracking-widest font-sans",children:" "})]}),U.jsx("div",{className:"bg-white flex justify-center py-2",children:U.jsx("img",{src:V,alt:"User handwriting",className:"w-full h-auto max-h-48 object-contain px-4"})})]})]}),U.jsxs("div",{className:"mt-12 flex flex-col gap-4",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("button",{onClick:()=>vt(!0),className:"flex-1 h-16 bg-slate-100 text-slate-500 rounded-2xl flex items-center justify-center gap-3 font-black active:scale-95 border border-slate-100 hover:bg-slate-100 transition-colors",children:[U.jsx(r0,{size:20,className:"text-blue-500"}),U.jsx("span",{className:"text-sm",children:V?"":""})]}),U.jsx("button",{onClick:()=>rt(),className:"h-16 w-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-xl shadow-blue-200 active:scale-90 transition-all",children:U.jsx(zc,{size:30})})]}),U.jsxs("div",{className:"bg-orange-50 rounded-2xl p-4 border-2 border-orange-100 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[U.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${S?"bg-green-100 text-green-600":"bg-orange-200 text-orange-600"}`,children:S?U.jsx(dm,{size:20}):U.jsx(qd,{size:20})}),U.jsxs("div",{className:"flex flex-col",children:[U.jsx("span",{className:"font-black text-slate-700 text-sm tracking-tight",children:" "}),U.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:S?" ":"  "})]})]}),U.jsx("div",{className:"flex gap-2",children:S?U.jsxs(U.Fragment,{children:[U.jsx("button",{onClick:Vt,className:"h-12 w-12 bg-white text-slate-700 rounded-xl font-bold flex items-center justify-center border-2 border-slate-100 shadow-sm active:scale-95",children:U.jsx(gx,{size:20,className:"ml-1 text-blue-500"})}),U.jsx("button",{onClick:Rt,className:"h-12 w-12 bg-white text-red-500 rounded-xl font-bold flex items-center justify-center border-2 border-red-50 shadow-sm active:scale-95",children:U.jsx(wx,{size:20})})]}):Kt?U.jsxs("button",{onClick:_t,className:"h-12 px-5 bg-red-500 text-white rounded-xl font-black flex items-center gap-2 shadow-lg shadow-red-200 animate-pulse active:scale-95 transition-all",children:[U.jsx(ix,{size:18})," "]}):U.jsxs("button",{onClick:at,className:"h-12 px-5 bg-orange-500 text-white rounded-xl font-black flex items-center gap-2 shadow-lg shadow-orange-200 active:scale-95 transition-all",children:[U.jsx(qd,{size:18})," "]})})]})]})]})}),U.jsxs("button",{onClick:be,className:"w-full h-20 bg-slate-900 text-white rounded-[2rem] font-black text-xl shadow-2xl flex items-center justify-center gap-3 active:scale-[0.98] mt-2 border-b-4 border-black",children:[" ",U.jsx(dm,{size:24,className:"text-green-400"})]})]}),i==="history"&&U.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[U.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[U.jsx("button",{onClick:()=>a("home"),className:"p-2 -ml-2 text-slate-400 active:scale-90",children:U.jsx(s0,{size:32})}),U.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tighter",children:""})]}),U.jsx("div",{className:"space-y-6",children:it.map(K=>U.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-md border border-slate-50 space-y-6 relative",children:[U.jsxs("div",{children:[U.jsx("p",{className:"text-[10px] font-bold text-slate-200 mb-2 tracking-[0.15em] uppercase",children:K.date}),U.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:K.text})]}),K.handwriting&&U.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl shadow-inner border border-slate-100 flex flex-col gap-2",children:[U.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest px-1 font-sans",children:"Handwriting"}),U.jsx("img",{src:K.handwriting,className:"w-full h-auto max-h-32 object-contain px-4"})]}),U.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-50",children:[U.jsx("button",{onClick:()=>{A(K.text),a("result"),H(K.handwriting)},className:"w-12 h-12 bg-slate-50 text-blue-500 rounded-full flex items-center justify-center shadow-sm active:scale-90",children:U.jsx(yx,{size:20})}),U.jsx("button",{onClick:()=>{K.audioData?new Audio(K.audioData).play().catch(et=>alert(et.message)):rt(K.text)},className:`w-12 h-12 rounded-full flex items-center justify-center shadow-sm active:scale-90 ${K.audioData?"bg-orange-100 text-orange-600 ring-2 ring-orange-200":"bg-blue-50 text-blue-600"}`,children:K.audioData?U.jsx(qd,{size:24}):U.jsx(zc,{size:24})})]})]},K.id))})]})]}),v&&U.jsx("div",{className:"fixed inset-0 z-50 bg-white/80 backdrop-blur-xl flex items-center justify-center animate-in fade-in duration-300",children:U.jsxs("div",{className:"flex flex-col items-center gap-8 text-center px-10",children:[U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"w-24 h-24 border-8 border-slate-100 rounded-full border-t-orange-500 animate-spin shadow-inner"}),U.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-orange-500",children:U.jsx(Tx,{size:32,fill:"currentColor"})})]}),U.jsx("p",{className:"text-2xl font-black text-slate-700 tracking-tighter animate-pulse",children:tt})]})})]})}bb.createRoot(document.getElementById("root")).render(U.jsx(mb.StrictMode,{children:U.jsx(Vx,{})}));
