(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function l0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},fo={};var y_;function cb(){if(y_)return fo;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var __;function hb(){return __||(__=1,Sd.exports=cb()),Sd.exports}var q=hb(),Ad={exports:{}},Et={};var v_;function fb(){if(v_)return Et;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,st={};function dt(O,N,j){this.props=O,this.context=N,this.refs=st,this.updater=j||et}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=dt.prototype;function yt(O,N,j){this.props=O,this.context=N,this.refs=st,this.updater=j||et}var St=yt.prototype=new bt;St.constructor=yt,tt(St,dt.prototype),St.isPureReactComponent=!0;var ne=Array.isArray;function Lt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,N,j){var F=j.ref;return{$$typeof:r,type:O,key:N,ref:F!==void 0?F:null,props:j}}function M(O,N){return C(O.type,N,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(j){return N[j]})}var w=/\/+/g;function ie(O,N){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):N.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Lt,Lt):(O.status="pending",O.then(function(N){O.status==="pending"&&(O.status="fulfilled",O.value=N)},function(N){O.status==="pending"&&(O.status="rejected",O.reason=N)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,N,j,F,W){var rt=typeof O;(rt==="undefined"||rt==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(rt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case r:case t:ht=!0;break;case b:return ht=O._init,Q(ht(O._payload),N,j,F,W)}}if(ht)return W=W(O),ht=F===""?"."+ie(O,0):F,ne(W)?(j="",ht!=null&&(j=ht.replace(w,"$&/")+"/"),Q(W,N,j,"",function(te){return te})):W!=null&&(x(W)&&(W=M(W,j+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(w,"$&/")+"/")+ht)),N.push(W)),1;ht=0;var zt=F===""?".":F+":";if(ne(O))for(var kt=0;kt<O.length;kt++)F=O[kt],rt=zt+ie(F,kt),ht+=Q(F,N,j,rt,W);else if(kt=K(O),typeof kt=="function")for(O=kt.call(O),kt=0;!(F=O.next()).done;)F=F.value,rt=zt+ie(F,kt++),ht+=Q(F,N,j,rt,W);else if(rt==="object"){if(typeof O.then=="function")return Q(fe(O),N,j,F,W);throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ht}function nt(O,N,j){if(O==null)return O;var F=[],W=0;return Q(O,F,"","",function(rt){return N.call(j,rt,W++)}),F}function ct(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(j){(O._status===0||O._status===-1)&&(O._status=1,O._result=j)},function(j){(O._status===0||O._status===-1)&&(O._status=2,O._result=j)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:nt,forEach:function(O,N,j){nt(O,function(){N.apply(this,arguments)},j)},count:function(O){var N=0;return nt(O,function(){N++}),N},toArray:function(O){return nt(O,function(N){return N})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=A,Et.Children=qt,Et.Component=dt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=yt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,N,j){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var F=tt({},O.props),W=O.key;if(N!=null)for(rt in N.key!==void 0&&(W=""+N.key),N)!S.call(N,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&N.ref===void 0||(F[rt]=N[rt]);var rt=arguments.length-2;if(rt===1)F.children=j;else if(1<rt){for(var ht=Array(rt),zt=0;zt<rt;zt++)ht[zt]=arguments[zt+2];F.children=ht}return C(O.type,W,F)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,N,j){var F,W={},rt=null;if(N!=null)for(F in N.key!==void 0&&(rt=""+N.key),N)S.call(N,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(W[F]=N[F]);var ht=arguments.length-2;if(ht===1)W.children=j;else if(1<ht){for(var zt=Array(ht),kt=0;kt<ht;kt++)zt[kt]=arguments[kt+2];W.children=zt}if(O&&O.defaultProps)for(F in ht=O.defaultProps,ht)W[F]===void 0&&(W[F]=ht[F]);return C(O,rt,W)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=x,Et.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,N){return{$$typeof:y,type:O,compare:N===void 0?null:N}},Et.startTransition=function(O){var N=I.T,j={};I.T=j;try{var F=O(),W=I.S;W!==null&&W(j,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Lt,Vt)}catch(rt){Vt(rt)}finally{N!==null&&j.types!==null&&(N.types=j.types),I.T=N}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(O){return I.H.use(O)},Et.useActionState=function(O,N,j){return I.H.useActionState(O,N,j)},Et.useCallback=function(O,N){return I.H.useCallback(O,N)},Et.useContext=function(O){return I.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,N){return I.H.useDeferredValue(O,N)},Et.useEffect=function(O,N){return I.H.useEffect(O,N)},Et.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(O,N,j){return I.H.useImperativeHandle(O,N,j)},Et.useInsertionEffect=function(O,N){return I.H.useInsertionEffect(O,N)},Et.useLayoutEffect=function(O,N){return I.H.useLayoutEffect(O,N)},Et.useMemo=function(O,N){return I.H.useMemo(O,N)},Et.useOptimistic=function(O,N){return I.H.useOptimistic(O,N)},Et.useReducer=function(O,N,j){return I.H.useReducer(O,N,j)},Et.useRef=function(O){return I.H.useRef(O)},Et.useState=function(O){return I.H.useState(O)},Et.useSyncExternalStore=function(O,N,j){return I.H.useSyncExternalStore(O,N,j)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.4",Et}var E_;function fm(){return E_||(E_=1,Ad.exports=fb()),Ad.exports}var he=fm();const db=l0(he);var wd={exports:{}},mo={},Rd={exports:{}},Cd={};var T_;function mb(){return T_||(T_=1,(function(r){function t(Q,nt){var ct=Q.length;Q.push(nt);t:for(;0<ct;){var Vt=ct-1>>>1,qt=Q[Vt];if(0<o(qt,nt))Q[Vt]=nt,Q[ct]=qt,ct=Vt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var nt=Q[0],ct=Q.pop();if(ct!==nt){Q[0]=ct;t:for(var Vt=0,qt=Q.length,O=qt>>>1;Vt<O;){var N=2*(Vt+1)-1,j=Q[N],F=N+1,W=Q[F];if(0>o(j,ct))F<qt&&0>o(W,j)?(Q[Vt]=W,Q[F]=ct,Vt=F):(Q[Vt]=j,Q[N]=ct,Vt=N);else if(F<qt&&0>o(W,ct))Q[Vt]=W,Q[F]=ct,Vt=F;else break t}}return nt}function o(Q,nt){var ct=Q.sortIndex-nt.sortIndex;return ct!==0?ct:Q.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,A=null,V=3,K=!1,et=!1,tt=!1,st=!1,dt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function St(Q){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=Q)a(y),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(y)}}function ne(Q){if(tt=!1,St(Q),!et)if(i(v)!==null)et=!0,Lt||(Lt=!0,U());else{var nt=i(y);nt!==null&&fe(ne,nt.startTime-Q)}}var Lt=!1,I=-1,S=5,C=-1;function M(){return st?!0:!(r.unstable_now()-C<S)}function x(){if(st=!1,Lt){var Q=r.unstable_now();C=Q;var nt=!0;try{t:{et=!1,tt&&(tt=!1,bt(I),I=-1),K=!0;var ct=V;try{e:{for(St(Q),A=i(v);A!==null&&!(A.expirationTime>Q&&M());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,V=A.priorityLevel;var qt=Vt(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof qt=="function"){A.callback=qt,St(Q),nt=!0;break e}A===i(v)&&a(v),St(Q)}else a(v);A=i(v)}if(A!==null)nt=!0;else{var O=i(y);O!==null&&fe(ne,O.startTime-Q),nt=!1}}break t}finally{A=null,V=ct,K=!1}nt=void 0}}finally{nt?U():Lt=!1}}}var U;if(typeof yt=="function")U=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=x,U=function(){ie.postMessage(null)}}else U=function(){dt(x,0)};function fe(Q,nt){I=dt(function(){Q(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(Q){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ct=V;V=nt;try{return Q()}finally{V=ct}},r.unstable_requestPaint=function(){st=!0},r.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=V;V=Q;try{return nt()}finally{V=ct}},r.unstable_scheduleCallback=function(Q,nt,ct){var Vt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Vt+ct:Vt):ct=Vt,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,Q={id:b++,callback:nt,priorityLevel:Q,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Vt?(Q.sortIndex=ct,t(y,Q),i(v)===null&&Q===i(y)&&(tt?(bt(I),I=-1):tt=!0,fe(ne,ct-Vt))):(Q.sortIndex=qt,t(v,Q),et||K||(et=!0,Lt||(Lt=!0,U()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var nt=V;return function(){var ct=V;V=nt;try{return Q.apply(this,arguments)}finally{V=ct}}}})(Cd)),Cd}var b_;function gb(){return b_||(b_=1,Rd.exports=mb()),Rd.exports}var Id={exports:{}},Ze={};var S_;function pb(){if(S_)return Ze;S_=1;var r=fm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ze.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ze.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ze.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ze.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:K}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ze.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ze.requestFormReset=function(v){a.d.r(v)},Ze.unstable_batchedUpdates=function(v,y){return v(y)},Ze.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.4",Ze}var A_;function yb(){if(A_)return Id.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=pb(),Id.exports}var w_;function _b(){if(w_)return mo;w_=1;var r=gb(),t=fm(),i=yb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case dt:return"Profiler";case st:return"StrictMode";case ne:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case yt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var fe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Vt=[],qt=-1;function O(e){return{current:e}}function N(e){0>qt||(e.current=Vt[qt],Vt[qt]=null,qt--)}function j(e,n){qt++,Vt[qt]=e.current,e.current=n}var F=O(null),W=O(null),rt=O(null),ht=O(null);function zt(e,n){switch(j(rt,n),j(W,e),j(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(F),j(F,e)}function kt(){N(F),N(W),N(rt)}function te(e){e.memoizedState!==null&&j(ht,e);var n=F.current,s=By(n,e.type);n!==s&&(j(W,e),j(F,s))}function sn(e){W.current===e&&(N(F),N(W)),ht.current===e&&(N(ht),oo._currentValue=ct)}var oe,Cn;function pn(e){if(oe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);oe=n&&n[1]||"",Cn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+e+Cn}var hs=!1;function ai(e,n){if(!e||hs)return"";hs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var B=G}Reflect.construct(e,[],$)}else{try{$.call()}catch(G){B=G}e.call($.prototype)}}else{try{throw Error()}catch(G){B=G}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Y=`
`+R[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{hs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?pn(s):""}function li(e,n){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==n&&n!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return ai(e.type,!1);case 11:return ai(e.type.render,!1);case 1:return ai(e.type,!0);case 31:return pn("Activity");default:return""}}function Hn(e){try{var n="",s=null;do n+=li(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kt=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Ah=r.unstable_shouldYield,Fo=r.unstable_requestPaint,rn=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,hl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Ko=r.unstable_IdlePriority,Qo=r.log,Yo=r.unstable_setDisableYieldValue,Gn=null,qe=null;function In(e){if(typeof Qo=="function"&&Yo(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Gn,e)}catch{}}var pe=Math.clz32?Math.clz32:$o,Xo=Math.log,ta=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Xo(e)/ta|0)|0}var oi=256,fr=262144,Te=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ui(l):(g&=E,g!==0?h=ui(g):s||(s=E&~e,s!==0&&(h=ui(s))))):(E=l&~f,E!==0?h=ui(E):g!==0?h=ui(g):s||(s=l&~e,s!==0&&(h=ui(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Y=31-pe(s),$=1<<Y;E[Y]=0,R[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var G=B[Y];G!==null&&(G.lane&=-536870913)}s&=~$}l!==0&&mr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function mr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-pe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-pe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ml(e,n){var s=n&-n;return s=(s&42)!==0?1:gr(s),(s&(e.suspendedLanes|n))!==0?0:s}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zo(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Kn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Qn=Math.random().toString(36).slice(2),be="__reactFiber$"+Qn,ke="__reactProps$"+Qn,fi="__reactContainer$"+Qn,ea="__reactEvents$"+Qn,Ih="__reactListeners$"+Qn,Wo="__reactHandles$"+Qn,tu="__reactResources$"+Qn,di="__reactMarker$"+Qn;function na(e){delete e[be],delete e[ke],delete e[ea],delete e[Ih],delete e[Wo]}function mi(e){var n=e[be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[fi]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[be])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[be]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[di]=!0}var gl=new Set,pl={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(pl[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function eu(e){return Kt.call(vl,e)?!0:Kt.call(_l,e)?!1:yl.test(e)?vl[e]=!0:(_l[e]=!0,!1)}function ia(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _n(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=El(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function on(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,g,Ue(n)):s!=null?Tl(e,g,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Tl(e,n,s){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ps(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qt(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&bl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&bl(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Al=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,vi=null;function _r(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&pr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var la=!1;function vs(e,n,s){if(la)return e(n,s);la=!0;try{var l=e(n);return l}finally{if(la=!1,(_s!==null||vi!==null)&&(Zu(),_s&&(n=_s,e=vi,vi=_s=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Xn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Dn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){vr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{vr=!1}var Ei=null,wl=null,Er=null;function Rl(){if(Er)return Er;var e,n=wl,s=n.length,l,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Er=h.slice(e,1<l?1-l:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function $n(){return!1}function He(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:$n,this.isPropagationStopped=$n,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=He(zi),Es=A({},zi,{view:0,detail:0}),Cl=He(Es),Ts,oa,bi,ua=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Ts=e.screenX-bi.screenX,oa=e.screenY-bi.screenY):oa=Ts=0,bi=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Il=He(ua),br=A({},ua,{dataTransfer:0}),au=He(br),lu=A({},Es,{relatedTarget:0}),Sr=He(lu),Nl=A({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=He(Nl),ca=A({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=He(ca),cu=A({},zi,{data:0}),Si=He(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function bs(){return mu}var an=A({},Es,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=He(an),pu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=He(pu),u=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=He(u),_=A({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(_),L=A({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=He(L),it=A({},zi,{newState:0,oldState:0}),At=He(it),ye=[9,13,27,32],Ht=Dn&&"CompositionEvent"in window,ue=null;Dn&&"documentMode"in document&&(ue=document.documentMode);var On=Dn&&"TextEvent"in window&&!ue,Ai=Dn&&(!Ht||ue&&8<ue&&11>=ue),Jn=" ",Zn=!1;function Ar(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function VT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Zn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Zn?null:e;default:return null}}function kT(e,n){if(fa)return e==="compositionend"||!Ht&&Ar(e,n)?(e=Rl(),Er=wl=Ei=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!UT[e.type]:n==="textarea"}function Zm(e,n,s,l){_s?vi?vi.push(l):vi=[l]:_s=l,n=rc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var xl=null,Dl=null;function LT(e){Vy(e,0)}function yu(e){var n=yn(e);if(pr(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Dn){var Nh;if(Dn){var xh="oninput"in document;if(!xh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),xh=typeof eg.oninput=="function"}Nh=xh}else Nh=!1;tg=Nh&&(!document.documentMode||9<document.documentMode)}function ng(){xl&&(xl.detachEvent("onpropertychange",ig),Dl=xl=null)}function ig(e){if(e.propertyName==="value"&&yu(Dl)){var n=[];Zm(n,Dl,e,xn(e)),vs(LT,n)}}function PT(e,n,s){e==="focusin"?(ng(),xl=n,Dl=s,xl.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function zT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Dl)}function jT(e,n){if(e==="click")return yu(n)}function BT(e,n){if(e==="input"||e==="change")return yu(n)}function qT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:qT;function Ol(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Kt.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=sg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_i(e.document)}return n}function Dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HT=Dn&&"documentMode"in document&&11>=document.documentMode,da=null,Oh=null,Ml=null,Mh=!1;function og(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||da==null||da!==_i(l)||(l=da,"selectionStart"in l&&Dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Ol(Ml,l)||(Ml=l,l=rc(Oh,"onSelect"),0<l.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=da)))}function wr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Vh={},ug={};Dn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Rr(e){if(Vh[e])return Vh[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Vh[e]=n[s];return e}var cg=Rr("animationend"),hg=Rr("animationiteration"),fg=Rr("animationstart"),GT=Rr("transitionrun"),FT=Rr("transitionstart"),KT=Rr("transitioncancel"),dg=Rr("transitionend"),mg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Wn(e,n){mg.set(e,n),pi(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],ga=0,Uh=0;function vu(){for(var e=ga,n=Uh=ga=0;n<e;){var s=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&gg(s,h,f)}}function Eu(e,n,s,l){Mn[ga++]=e,Mn[ga++]=n,Mn[ga++]=s,Mn[ga++]=l,Uh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Cr(e,n){return Eu(e,null,null,n),Tu(e)}function gg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<eo)throw eo=0,Qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function QT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,l){return new QT(e,n,s,l)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=Z1(e,s,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return Ir(s.children,h,f,n);case st:g=8,h|=24;break;case dt:return e=En(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ne:return e=En(13,s,n,h),e.elementType=ne,e.lanes=f,e;case Lt:return e=En(19,s,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case bt:g=9;break t;case St:g=11;break t;case I:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=En(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ir(e,n,s,l){return e=En(7,e,l,n),e.lanes=s,e}function zh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function yg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Hn(n)},_g.set(e,n),n)}return{value:e,source:n,stack:Hn(n)}}var ya=[],_a=0,Su=null,Vl=0,kn=[],Un=0,Ss=null,wi=1,Ri="";function qi(e,n){ya[_a++]=Vl,ya[_a++]=Su,Su=e,Vl=n}function vg(e,n,s){kn[Un++]=wi,kn[Un++]=Ri,kn[Un++]=Ss,Ss=e;var l=wi;e=Ri;var h=32-pe(l)-1;l&=~(1<<h),s+=1;var f=32-pe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,wi=1<<32-pe(n)+h|s<<h|l,Ri=f+e}else wi=1<<f|s<<h|l,Ri=e}function Bh(e){e.return!==null&&(qi(e,1),vg(e,1,0))}function qh(e){for(;e===Su;)Su=ya[--_a],ya[_a]=null,Vl=ya[--_a],ya[_a]=null;for(;e===Ss;)Ss=kn[--Un],kn[Un]=null,Ri=kn[--Un],kn[Un]=null,wi=kn[--Un],kn[Un]=null}function Eg(e,n){kn[Un++]=wi,kn[Un++]=Ri,kn[Un++]=Ss,wi=n.id,Ri=n.overflow,Ss=e}var Ge=null,se=null,Ut=!1,As=null,Ln=!1,Hh=Error(a(519));function ws(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Vn(n,e)),Hh}function Tg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[be]=e,n[ke]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)It(io[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ps(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Py(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||ws(e,!0)}function bg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ge=Ge.return}}function va(e){if(e!==Ge)return!1;if(!Ut)return bg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||od(e.type,e.memoizedProps)),s=!s),s&&se&&ws(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=Qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=Qy(e)}else n===27?(n=se,zs(e.type)?(e=dd,dd=null,se=e):se=n):se=Ge?zn(e.stateNode.nextSibling):null;return!0}function Nr(){se=Ge=null,Ut=!1}function Gh(){var e=As;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),As=null),e}function kl(e){As===null?As=[e]:As.push(e)}var Fh=O(null),xr=null,Hi=null;function Rs(e,n,s){j(Fh,n._currentValue),n._currentValue=s}function Gi(e){e._currentValue=Fh.current,N(Fh)}function Kh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Qh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;vn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===ht.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}h=h.return}e!==null&&Qh(n,e,s,l),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){xr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Sg(xr,e)}function wu(e,n){return xr===null&&Dr(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Hi===null){if(e===null)throw Error(a(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return s}var YT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,we={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new YT,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&XT($T,function(){e.controller.abort()})}var Ll=null,Xh=0,Ta=0,ba=null;function JT(e,n){if(Ll===null){var s=Ll=[];Xh=0,Ta=Wf(),ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xh++,n.then(Ag,Ag),n}function Ag(){if(--Xh===0&&Ll!==null){ba!==null&&(ba.status="fulfilled");var e=Ll;Ll=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ZT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var wg=Q.S;Q.S=function(e,n){oy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JT(e,n),wg!==null&&wg(e,n)};var Or=O(null);function $h(){var e=Or.current;return e!==null?e:ee.pooledCache}function Ru(e,n){n===null?j(Or,Or.current):j(Or,n.pool)}function Rg(){var e=$h();return e===null?null:{parent:we._currentValue,pool:e}}var Sa=Error(a(460)),Jh=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Yn,Yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e}throw Vr=n,Sa}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Sa):s}}var Vr=null;function Ng(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function xg(e){if(e===Sa||e===Cu)throw Error(a(483))}var Aa=null,Pl=0;function Nu(e){var n=Pl;return Pl+=1,Aa===null&&(Aa=[]),Ig(Aa,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Bi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,X){return D===null||D.tag!==6?(D=zh(P,k.mode,X),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,X){var ft=P.type;return ft===tt?Y(k,D,P.props.children,X,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Mr(ft)===D.type)?(D=h(D,P.props),zl(D,P),D.return=k,D):(D=bu(P.type,P.key,P.props,null,k.mode,X),zl(D,P),D.return=k,D)}function z(k,D,P,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=jh(P,k.mode,X),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Y(k,D,P,X,ft){return D===null||D.tag!==7?(D=Ir(P,k.mode,X,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return P=bu(D.type,D.key,D.props,null,k.mode,P),zl(P,D),P.return=k,P;case et:return D=jh(D,k.mode,P),D.return=k,D;case S:return D=Mr(D),$(k,D,P)}if(fe(D)||U(D))return D=Ir(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Nu(D),P);if(D.$$typeof===yt)return $(k,wu(k,D),P);xu(k,D)}return null}function B(k,D,P,X){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ft?R(k,D,P,X):null;case et:return P.key===ft?z(k,D,P,X):null;case S:return P=Mr(P),B(k,D,P,X)}if(fe(P)||U(P))return ft!==null?null:Y(k,D,P,X,null);if(typeof P.then=="function")return B(k,D,Nu(P),X);if(P.$$typeof===yt)return B(k,D,wu(k,P),X);xu(k,P)}return null}function G(k,D,P,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(P)||null,E(D,k,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return k=k.get(X.key===null?P:X.key)||null,R(D,k,X,ft);case et:return k=k.get(X.key===null?P:X.key)||null,z(D,k,X,ft);case S:return X=Mr(X),G(k,D,P,X,ft)}if(fe(X)||U(X))return k=k.get(P)||null,Y(D,k,X,ft,null);if(typeof X.then=="function")return G(k,D,P,Nu(X),ft);if(X.$$typeof===yt)return G(k,D,P,wu(D,X),ft);xu(D,X)}return null}function lt(k,D,P,X){for(var ft=null,jt=null,ot=D,Rt=D=0,xt=null;ot!==null&&Rt<P.length;Rt++){ot.index>Rt?(xt=ot,ot=null):xt=ot.sibling;var Bt=B(k,ot,P[Rt],X);if(Bt===null){ot===null&&(ot=xt);break}e&&ot&&Bt.alternate===null&&n(k,ot),D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ot=xt}if(Rt===P.length)return s(k,ot),Ut&&qi(k,Rt),ft;if(ot===null){for(;Rt<P.length;Rt++)ot=$(k,P[Rt],X),ot!==null&&(D=f(ot,D,Rt),jt===null?ft=ot:jt.sibling=ot,jt=ot);return Ut&&qi(k,Rt),ft}for(ot=l(ot);Rt<P.length;Rt++)xt=G(ot,k,Rt,P[Rt],X),xt!==null&&(e&&xt.alternate!==null&&ot.delete(xt.key===null?Rt:xt.key),D=f(xt,D,Rt),jt===null?ft=xt:jt.sibling=xt,jt=xt);return e&&ot.forEach(function(Gs){return n(k,Gs)}),Ut&&qi(k,Rt),ft}function gt(k,D,P,X){if(P==null)throw Error(a(151));for(var ft=null,jt=null,ot=D,Rt=D=0,xt=null,Bt=P.next();ot!==null&&!Bt.done;Rt++,Bt=P.next()){ot.index>Rt?(xt=ot,ot=null):xt=ot.sibling;var Gs=B(k,ot,Bt.value,X);if(Gs===null){ot===null&&(ot=xt);break}e&&ot&&Gs.alternate===null&&n(k,ot),D=f(Gs,D,Rt),jt===null?ft=Gs:jt.sibling=Gs,jt=Gs,ot=xt}if(Bt.done)return s(k,ot),Ut&&qi(k,Rt),ft;if(ot===null){for(;!Bt.done;Rt++,Bt=P.next())Bt=$(k,Bt.value,X),Bt!==null&&(D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return Ut&&qi(k,Rt),ft}for(ot=l(ot);!Bt.done;Rt++,Bt=P.next())Bt=G(ot,k,Rt,Bt.value,X),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?Rt:Bt.key),D=f(Bt,D,Rt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(ub){return n(k,ub)}),Ut&&qi(k,Rt),ft}function Wt(k,D,P,X){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===tt){if(D.tag===7){s(k,D.sibling),X=h(D,P.props.children),X.return=k,k=X;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Mr(ft)===D.type){s(k,D.sibling),X=h(D,P.props),zl(X,P),X.return=k,k=X;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===tt?(X=Ir(P.props.children,k.mode,X,P.key),X.return=k,k=X):(X=bu(P.type,P.key,P.props,null,k.mode,X),zl(X,P),X.return=k,k=X)}return g(k);case et:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),X=h(D,P.children||[]),X.return=k,k=X;break t}else{s(k,D);break}else n(k,D);D=D.sibling}X=jh(P,k.mode,X),X.return=k,k=X}return g(k);case S:return P=Mr(P),Wt(k,D,P,X)}if(fe(P))return lt(k,D,P,X);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),gt(k,D,P,X)}if(typeof P.then=="function")return Wt(k,D,Nu(P),X);if(P.$$typeof===yt)return Wt(k,D,wu(k,P),X);xu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),X=h(D,P),X.return=k,k=X):(s(k,D),X=zh(P,k.mode,X),X.return=k,k=X),g(k)):s(k,D)}return function(k,D,P,X){try{Pl=0;var ft=Wt(k,D,P,X);return Aa=null,ft}catch(ot){if(ot===Sa||ot===Cu)throw ot;var jt=En(29,ot,null,k.mode);return jt.lanes=X,jt.return=k,jt}}}var kr=Dg(!0),Og=Dg(!1),Cs=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),gg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}function tf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function Bl(){if(ef){var e=ba;if(e!==null)throw e}}function ql(e,n,s,l){ef=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Y=z=R=null,E=f;do{var B=E.lane&-536870913,G=B!==E.lane;if(G?(Nt&B)===B:(l&B)===B){B!==0&&B===Ta&&(ef=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,gt=E;B=n;var Wt=s;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){$=lt.call(Wt,$,B);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,B=typeof lt=="function"?lt.call(Wt,$,B):lt,B==null)break t;$=A({},$,B);break t;case 2:Cs=!0}}B=E.callback,B!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=G,R=$):Y=Y.next=G,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Vs|=g,e.lanes=g,e.memoizedState=$}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var wa=O(null),Du=O(0);function kg(e,n){e=Wi,j(Du,e),j(wa,n),Wi=e|n.baseLanes}function nf(){j(Du,Wi),j(wa,wa.current)}function sf(){Wi=Du.current,N(wa),N(Du)}var Tn=O(null),Pn=null;function xs(e){var n=e.alternate;j(_e,_e.current&1),j(Tn,e),Pn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Pn=e)}function rf(e){j(_e,_e.current),j(Tn,e),Pn===null&&(Pn=e)}function Ug(e){e.tag===22?(j(_e,_e.current),j(Tn,e),Pn===null&&(Pn=e)):Ds()}function Ds(){j(_e,_e.current),j(Tn,Tn.current)}function bn(e){N(Tn),Pn===e&&(Pn=null),N(_e)}var _e=O(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,wt=null,Jt=null,Re=null,Mu=!1,Ra=!1,Ur=!1,Vu=0,Hl=0,Ca=null,WT=0;function me(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function lf(e,n,s,l,h,f){return Fi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?vp:bf,Ur=!1,f=s(l,h),Ur=!1,Ra&&(f=Pg(n,s,l,h)),Lg(e),f}function Lg(e){Q.H=Kl;var n=Jt!==null&&Jt.next!==null;if(Fi=0,Re=Jt=wt=null,Mu=!1,Hl=0,Ca=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Au(e)&&(Ce=!0))}function Pg(e,n,s,l){wt=e;var h=0;do{if(Ra&&(Ca=null),Hl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Ep,f=n(s,l)}while(Ra);return f}function t1(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(wt.flags|=1024),n}function of(){var e=Vu!==0;return Vu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Fi=0,Re=Jt=wt=null,Ra=!1,Hl=Vu=0,Ca=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?wt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(Jt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?wt.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?wt.memoizedState=Re=e:Re=Re.next=e}return Re}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,Ca===null&&(Ca=[]),e=Ig(Ca,e,n),n=wt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?vp:bf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===yt)return Fe(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=ve();return ff(n,Jt,e)}function ff(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Nt&$)===$:(Fi&$)===$){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ta&&(Y=!0);else if((Fi&B)===B){z=z.next,B===Ta&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,g=f):R=R.next=$,wt.lanes|=B,Vs|=B;$=z.action,Ur&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,wt.lanes|=$,Vs|=$;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!vn(f,e.memoizedState)&&(Ce=!0,Y&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var n=ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);vn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function zg(e,n,s){var l=wt,h=ve(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!vn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ce=!0),h=h.queue,pf(qg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Bg.bind(null,l,h,s,n),null),ee===null)throw Error(a(349));f||(Fi&127)!==0||jg(l,n,s)}return s}function jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=ku(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Bg(e,n,s,l){n.value=s,n.getSnapshot=l,Hg(n)&&Gg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Gg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function Gg(e){var n=Cr(e,2);n!==null&&mn(n,e,2)}function mf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),Ur){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function Fg(e,n,s,l){return e.baseState=s,ff(e,Jt,typeof l=="function"?l:Ki)}function e1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Kg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Kg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=s(h,l),R=Q.S;R!==null&&R(g,E),Qg(e,n,E)}catch(z){gf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(h,l),Qg(e,n,f)}catch(z){gf(e,n,z)}}function Qg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Yg(e,n,l)},function(l){return gf(e,n,l)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Kg(e,s)))}function gf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==l)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(Ut){var s=ee.formState;if(s!==null){t:{var l=wt;if(Ut){if(se){e:{for(var h=se,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=zn(h.nextSibling),l=h.data==="F!";break t}}ws(l)}l=!1}l&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=l,s=pp.bind(null,wt,l),l.dispatch=s,l=mf(!1),f=Tf.bind(null,wt,!1,l.queue),l=ln(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=e1.bind(null,wt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Zg(e){var n=ve();return Wg(n,Jt,e)}function Wg(e,n,s){if(n=ff(e,n,$g)[0],e=Lu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(g){throw g===Sa?Cu:g}else l=n;n=ve();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ia(9,{destroy:void 0},n1.bind(null,h,s),null)),[l,f,e]}function n1(e,n){e.action=n}function tp(e){var n=ve(),s=Jt;if(s!==null)return Wg(n,s,e);ve(),n=n.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ia(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ku(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function ep(){return ve().memoizedState}function Pu(e,n,s,l){var h=ln();wt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Jt!==null&&l!==null&&af(l,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,l):(wt.flags|=e,h.memoizedState=Ia(1|n,f,s,l))}function np(e,n){Pu(8390656,8,e,n)}function pf(e,n){zu(2048,8,e,n)}function i1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ku(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=ve().memoizedState;return i1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return zu(4,2,e,n)}function rp(e,n){return zu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,ap.bind(null,n,e),s)}function yf(){}function op(e,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&af(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&af(n,l[1]))return l[0];if(l=e(),Ur){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l}function _f(e,n,s){return s===void 0||(Fi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),wt.lanes|=e,Vs|=e,s)}function cp(e,n,s,l){return vn(s,n)?s:wa.current!==null?(e=_f(e,s,l),vn(e,n)||(Ce=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Nt&261930)===0?(Ce=!0,e.memoizedState=s):(e=cy(),wt.lanes|=e,Vs|=e,n)}function hp(e,n,s,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Tf(e,!1,n,s);try{var R=h(),z=Q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=ZT(R,l);Fl(e,n,Y,wn(e))}else Fl(e,n,l,wn(e))}catch($){Fl(e,n,{then:function(){},status:"rejected",reason:$},wn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function s1(){}function vf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,ct,s===null?s1:function(){return dp(e),s(l)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},wn())}function Ef(){return Fe(oo)}function mp(){return ve().memoizedState}function gp(){return ve().memoizedState}function r1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=Is(s);var l=Ns(n,e,s);l!==null&&(mn(l,n,s),jl(l,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function a1(e,n,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?yp(n,s):(s=Lh(e,n,s,l),s!==null&&(mn(s,e,l),_p(s,n,l)))}function pp(e,n,s){var l=wn();Fl(e,n,s,l)}function Fl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,g))return Eu(e,n,h,0),ee===null&&vu(),!1}catch{}if(s=Lh(e,n,h,l),s!==null)return mn(s,e,l),_p(s,n,l),!0}return!1}function Tf(e,n,s,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=Lh(e,s,l,2),n!==null&&mn(n,e,2)}function ju(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function yp(e,n){Ra=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}var Kl={readContext:Fe,use:Uu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Kl.useEffectEvent=me;var vp={readContext:Fe,use:Uu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var l=e();if(Ur){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=ln();if(s!==void 0){var h=s(n);if(Ur){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=a1.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=pp.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=ln();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=hp.bind(null,wt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=wt,h=ln();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Nt&127)!==0||jg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,np(qg.bind(null,l,f,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Bg.bind(null,l,f,s,n),null),s},useId:function(){var e=ln(),n=ee.identifierPrefix;if(Ut){var s=Ri,l=wi;s=(l&~(1<<32-pe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=WT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return ln().memoizedState=r1.bind(null,wt)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bf={readContext:Fe,use:Uu,useCallback:op,useContext:Fe,useEffect:pf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:Lu,useRef:ep,useState:function(){return Lu(Ki)},useDebugValue:yf,useDeferredValue:function(e,n){var s=ve();return cp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Lu(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:Ef,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=ve();return Fg(s,Jt,e,n)},useMemoCache:hf,useCacheRefresh:gp};bf.useEffectEvent=ip;var Ep={readContext:Fe,use:Uu,useCallback:op,useContext:Fe,useEffect:pf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:df,useRef:ep,useState:function(){return df(Ki)},useDebugValue:yf,useDeferredValue:function(e,n){var s=ve();return Jt===null?_f(s,e,n):cp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=df(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:Ef,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=ve();return Jt!==null?Fg(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:gp};Ep.useEffectEvent=ip;function Sf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=wn(),h=Is(l);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(mn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=wn(),h=Is(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(mn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),l=Is(s);l.tag=2,n!=null&&(l.callback=n),n=Ns(e,l,s),n!==null&&(mn(n,e,s),jl(n,e,s))}};function Tp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(h,f):!0}function bp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Sp(e){_u(e)}function Ap(e){console.error(e)}function wp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=Is(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Cp(e){return e=Is(e),e.tag=3,e}function Ip(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rp(n,s,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function l1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Wu():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),$f(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),$f(e,l,h)),!1}throw Error(a(435,s.tag))}return $f(e,l,h),Wu(),!1}if(Ut)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Hh&&(e=Error(a(422),{cause:l}),kl(Vn(e,s)))):(l!==Hh&&(n=Error(a(423),{cause:l}),kl(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,s),h=wf(e.stateNode,l,h),tf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,s),to===null?to=[f]:to.push(f),ge!==4&&(ge=2),n===null)return!0;l=Vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,l,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Ip(h,e,s,l),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Ce=!1;function Ke(e,n,s,l){n.child=e===null?Og(n,null,s,l):kr(n,e.child,s,l)}function Np(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Dr(n),l=lf(e,n,s,g,f,h),E=of(),e!==null&&!Ce?(uf(e,n,h),Qi(e,n,h)):(Ut&&E&&Bh(n),n.flags|=1,Ke(e,n,l,h),n.child)}function xp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Dp(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(g,l)&&e.ref===n.ref)return Qi(e,n,h)}return n.flags|=1,e=Bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Dp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Vf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Qi(e,n,h)}return Cf(e,n,s,l,h)}function Op(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Mp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?kg(n,f):nf(),Ug(n);else return l=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),kg(n,f),Ds(),n.memoizedState=null):(e!==null&&Ru(n,null),nf(),Ds());return Ke(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,l,h){var f=$h();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),nf(),Ug(n),e!==null&&Ea(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,s){return kr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function o1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Ql(null,e);if(rf(n),(e=se)?(e=Ky(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(l=ee,l!==null&&(g=ml(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cr(e,g),mn(l,e,g),Rf;Wu(),n=Vp(e,n,s)}else e=f.treeContext,se=zn(g.nextSibling),Ge=n,Ut=!0,As=null,Ln=!1,e!==null&&Eg(n,e),n=qu(n,l),n.flags|=4096;return n}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,l,h){return Dr(n),s=lf(e,n,s,l,void 0,h),l=of(),e!==null&&!Ce?(uf(e,n,h),Qi(e,n,h)):(Ut&&l&&Bh(n),n.flags|=1,Ke(e,n,s,h),n.child)}function kp(e,n,s,l,h,f){return Dr(n),n.updateQueue=null,s=Pg(n,l,s,h),Lg(e),l=of(),e!==null&&!Ce?(uf(e,n,f),Qi(e,n,f)):(Ut&&l&&Bh(n),n.flags|=1,Ke(e,n,s,f),n.child)}function Up(e,n,s,l,h){if(Dr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Af.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Lr(s,E);f.props=R;var z=f.context,Y=s.contextType;g=pa,typeof Y=="object"&&Y!==null&&(g=Fe(Y));var $=s.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&bp(n,f,l,g),Cs=!1;var B=n.memoizedState;f.state=B,ql(n,l,f,h),Bl(),z=n.memoizedState,E||B!==z||Cs?(typeof $=="function"&&(Sf(n,s,$,l),z=n.memoizedState),(R=Cs||Tp(n,s,R,l,B,z,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,Y=Lr(s,g),f.props=Y,$=n.pendingProps,B=f.context,z=s.contextType,R=pa,typeof z=="object"&&z!==null&&(R=Fe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==R)&&bp(n,f,l,R),Cs=!1,B=n.memoizedState,f.state=B,ql(n,l,f,h),Bl();var G=n.memoizedState;g!==$||B!==G||Cs||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,l),G=n.memoizedState),(Y=Cs||Tp(n,s,Y,l,B,G,R)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=kr(n,e.child,null,h),n.child=kr(n,null,s,h)):Ke(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Qi(e,n,h),e}function Lp(e,n,s,l){return Nr(),n.flags|=256,Ke(e,n,s,l),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Rg()}}function xf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function Pp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?xs(n):Ds(),(e=se)?(e=Ky(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw ws(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ds(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=Ir(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Nf(s),l.childLanes=xf(e,g,s),n.memoizedState=If,Ql(null,l)):(xs(n),Df(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Of(e,n,s)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=Ir(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,kr(n,e.child,null,s),l=n.child,l.memoizedState=Nf(s),l.childLanes=xf(e,g,s),n.memoizedState=If,n=Ql(null,l));else if(xs(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,kl({value:l,source:null,stack:null}),n=Of(e,n,s)}else if(Ce||Ea(e,n,s,!1),g=(s&e.childLanes)!==0,Ce||g){if(g=ee,g!==null&&(l=ml(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Cr(e,l),mn(g,e,l),Rf;hd(E)||Wu(),n=Of(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=zn(E.nextSibling),Ge=n,Ut=!0,As=null,Ln=!1,e!==null&&Eg(n,e),n=Df(n,l.children),n.flags|=4096);return n}return h?(Ds(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=Bi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Bi(z,E):(E=Ir(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(R=we._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Rg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=xf(e,g,s),n.memoizedState=If,Ql(e.child,l)):(xs(n),s=e.child,e=s.sibling,s=Bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Df(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Of(e,n,s){return kr(n,e.child,null,s),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Kh(e.return,n,s)}function Mf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function jp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,j(_e,g),Ke(e,n,l,s),l=Ut?Vl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Bi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Bi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function u1(e,n,s){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Rs(n,we,e.memoizedState.cache),Nr();break;case 27:case 5:te(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(xs(n),e=Qi(e,n,s),e!==null?e.sibling:null);xs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ea(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),j(_e,_e.current),l)break;return null;case 22:return n.lanes=0,Op(e,n,s,n.pendingProps);case 24:Rs(n,we,e.memoizedState.cache)}return Qi(e,n,s)}function Bp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Ce=!1,u1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Ut&&(n.flags&1048576)!==0&&vg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(l=Lr(e,l),n.tag=1,n=Up(null,n,e,l,s)):(n.tag=0,n=Cf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===St){n.tag=11,n=Np(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=xp(null,n,e,l,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Lr(l,n.pendingProps),Up(e,n,l,h,s);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),ql(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Rs(n,we,l),l!==f.cache&&Qh(n,[we],s,!0),Bl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,l,s);break t}else if(l!==h){h=Vn(Error(a(424)),n),kl(h),n=Lp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=zn(e.firstChild),Ge=n,Ut=!0,As=null,Ln=!0,s=Og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Nr(),l===h){n=Qi(e,n,s);break t}Ke(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,l=ac(rt.current).createElement(s),l[be]=n,l[ke]=e,Qe(l,s,e),Se(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return te(n),e===null&&Ut&&(l=n.stateNode=Xy(n.type,n.pendingProps,rt.current),Ge=n,Ln=!0,h=se,zs(n.type)?(dd=h,se=zn(l.firstChild)):se=h),Ke(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=l=se)&&(l=z1(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ge=n,se=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||ws(n)),te(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,od(h,f)?l=null:g!==null&&od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,t1,null,null,s),oo._currentValue=h),Hu(e,n),Ke(e,n,l,s),n.child;case 6:return e===null&&Ut&&((e=s=se)&&(s=j1(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Ge=n,se=null,e=!0):e=!1),e||ws(n)),null;case 13:return Pp(e,n,s);case 4:return zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=kr(n,null,l,s):Ke(e,n,l,s),n.child;case 11:return Np(e,n,n.type,n.pendingProps,s);case 7:return Ke(e,n,n.pendingProps,s),n.child;case 8:return Ke(e,n,n.pendingProps.children,s),n.child;case 12:return Ke(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Ke(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=Fe(h),l=l(h),n.flags|=1,Ke(e,n,l,s),n.child;case 14:return xp(e,n,n.type,n.pendingProps,s);case 15:return Dp(e,n,n.type,n.pendingProps,s);case 19:return jp(e,n,s);case 31:return o1(e,n,s);case 22:return Op(e,n,s,n.pendingProps);case 24:return Dr(n),l=Fe(we),e===null?(h=$h(),h===null&&(h=ee,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Zh(n),Rs(n,we,h)):((e.lanes&s)!==0&&(Wh(e,n),ql(n,null,null,s),Bl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,we,l)):(l=f.cache,Rs(n,we,l),l!==h.cache&&Qh(n,[we],s,!0))),Ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yi(e){e.flags|=4}function kf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw Vr=Iu,Jh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw Vr=Iu,Jh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Oa|=n)}function Yl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function c1(e,n,s){var l=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(we),kt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(re(n),qp(n,f)):(re(n),kf(n,h,null,l,s))):f?f!==e.memoizedState?(Yi(n),re(n),qp(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Yi(n),re(n),kf(n,h,e,l,s)),null;case 27:if(sn(n),s=rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=F.current,va(n)?Tg(n):(e=Xy(h,l,s),n.stateNode=e,Yi(n))}return re(n),null;case 5:if(sn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=F.current,va(n))Tg(n);else{var g=ac(rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[be]=n,f[ke]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Yi(n)}}return re(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=rt.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||ws(n,!0)}else e=ac(e).createTextNode(l),e[be]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=va(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),re(n),null);case 4:return kt(),e===null&&id(n.stateNode.containerInfo),re(n),null;case 10:return Gi(n.type),re(n),null;case 19:if(N(_e),l=n.memoizedState,l===null)return re(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return j(_e,_e.current&1|2),Ut&&qi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&rn()>$u&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return re(n),null}else 2*rn()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,s=_e.current,j(_e,h?s&1|2:s&1),Ut&&qi(n,l.treeForkCount),e):(re(n),null);case 22:case 23:return bn(n),sf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&N(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Gi(we),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function h1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(we),kt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return sn(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return N(_e),null;case 4:return kt(),null;case 10:return Gi(n.type),null;case 22:case 23:return bn(n),sf(),e!==null&&N(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(we),null;case 25:return null;default:return null}}function Hp(e,n){switch(qh(n),n.tag){case 3:Gi(we),kt();break;case 26:case 27:case 5:sn(n);break;case 4:kt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:N(_e);break;case 10:Gi(n.type);break;case 22:case 23:bn(n),sf(),e!==null&&N(Or);break;case 24:Gi(we)}}function Xl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Os(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(Y){Xt(h,R,Y)}}}l=l.next}while(l!==f)}}catch(Y){Xt(n,n.return,Y)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Vg(n,s)}catch(l){Xt(e,e.return,l)}}}function Fp(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,n,l)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Xt(e,n,h)}}function Ci(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function Kp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Uf(e,n,s){try{var l=e.stateNode;M1(l,e.type,s,n),l[ke]=n}catch(h){Xt(e,e.return,h)}}function Qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Ku(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,l,s),n[be]=e,n[ke]=s}catch(f){Xt(e,e.return,f)}}var Xi=!1,Ie=!1,zf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function f1(e,n){if(e=e.containerInfo,ad=dc,e=lg(e),Dh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,Y=0,$=e,B=null;e:for(;;){for(var G;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||l!==0&&$.nodeType!==3||(R=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(G=$.firstChild)!==null;)B=$,$=G;for(;;){if($===e)break e;if(B===s&&++z===h&&(E=g),B===f&&++Y===l&&(R=g),(G=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=G}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},dc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=Lr(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Xt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function $p(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),l&4&&Xl(5,s);break;case 1:if(Ji(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}l&64&&Gp(s),l&512&&$l(s,s.return);break;case 3:if(Ji(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&l&4&&Yp(s);case 26:case 5:Ji(e,s),n===null&&l&4&&Kp(s),l&512&&$l(s,s.return);break;case 12:Ji(e,s);break;case 31:Ji(e,s),l&4&&Wp(e,s);break;case 13:Ji(e,s),l&4&&ty(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=T1.bind(null,s),B1(e,s))));break;case 22:if(l=s.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Ie,h=Xi;var f=Ie;Xi=l,(Ie=n)&&!f?Zi(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),Xi=h,Ie=f}break;case 30:break;default:Ji(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function $i(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Gn,s)}catch{}switch(s.tag){case 26:Ie||Ci(s,n),$i(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Ci(s,n);var l=ce,h=cn;zs(s.type)&&(ce=s.stateNode,cn=!1),$i(e,n,s),ro(s.stateNode),ce=l,cn=h;break;case 5:Ie||Ci(s,n);case 6:if(l=ce,h=cn,ce=null,$i(e,n,s),ce=l,cn=h,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ce!==null&&(cn?(e=ce,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):Gy(ce,s.stateNode));break;case 4:l=ce,h=cn,ce=s.stateNode.containerInfo,cn=!0,$i(e,n,s),ce=l,cn=h;break;case 0:case 11:case 14:case 15:Os(2,s,n),Ie||Os(4,s,n),$i(e,n,s);break;case 1:Ie||(Ci(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fp(s,n,l)),$i(e,n,s);break;case 21:$i(e,n,s);break;case 22:Ie=(l=Ie)||s.memoizedState!==null,$i(e,n,s),Ie=l;break;default:$i(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Xt(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Xt(n,n.return,s)}}function d1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Qu(e,n){var s=d1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=b1.bind(null,e,l);l.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){ce=E.stateNode,cn=!1;break t}break;case 5:ce=E.stateNode,cn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ce===null)throw Error(a(160));Zp(f,g,h),ce=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var ti=null;function ey(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),l&4&&(Os(3,e,e.return),Xl(3,e),Os(5,e,e.return));break;case 1:hn(n,e),fn(e),l&512&&(Ie||s===null||Ci(s,s.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ti;if(hn(n,e),fn(e),l&512&&(Ie||s===null||Ci(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,l,s),f[be]=e,Se(f),l=f;break t;case"link":var g=e_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Qe(f,l,s),h.head.appendChild(f);break;case"meta":if(g=e_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Qe(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[be]=e,Se(f),l=f}e.stateNode=l}else n_(h,e.type,e.stateNode);else e.stateNode=t_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?n_(h,e.type,e.stateNode):t_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),l&512&&(Ie||s===null||Ci(s,s.return)),s!==null&&l&4&&Uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),l&512&&(Ie||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){Xt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(hn(n,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(uc=null,h=ti,ti=lc(n.containerInfo),hn(n,e),ti=h,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}zf&&(zf=!1,ny(e));break;case 4:l=ti,ti=lc(e.stateNode.containerInfo),hn(n,e),fn(e),ti=l;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Xi,Y=Ie;if(Xi=z||h,Ie=Y||R,hn(n,e),Ie=Y,Xi=z,fn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Xi||Ie||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var G=R.stateNode;h?Fy(G,!0):Fy(R.stateNode,!1)}catch(lt){Xt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qu(e,s))));break;case 19:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Qp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Ku(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(un(g,""),s.flags&=-33);var E=Lf(e);Ku(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Lf(e);Pf(e,z,R);break;default:throw Error(a(161))}}catch(Y){Xt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),Pr(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),Pr(n);break;case 27:ro(n.stateNode);case 26:case 5:Ci(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Zi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,s),Xl(4,f);break;case 1:if(Zi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Mg(R[h],E)}catch(z){Xt(l,l.return,z)}}s&&g&64&&Gp(f),$l(f,f.return);break;case 27:Yp(f);case 26:case 5:Zi(h,f,s),s&&l===null&&g&4&&Kp(f),$l(f,f.return);break;case 12:Zi(h,f,s);break;case 31:Zi(h,f,s),s&&g&4&&Wp(h,f);break;case 13:Zi(h,f,s),s&&g&4&&ty(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,s),$l(f,f.return);break;case 30:break;default:Zi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ul(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function ei(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,l),n=n.sibling}function iy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,l),h&2048&&Xl(9,n);break;case 1:ei(e,n,s,l);break;case 3:ei(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(h&2048){ei(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ei(e,n,s,l);break;case 31:ei(e,n,s,l);break;case 13:ei(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,l):Jl(e,n):f._visibility&2?ei(e,n,s,l):(f._visibility|=2,Na(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:ei(e,n,s,l),h&2048&&Bf(n.alternate,n);break;default:ei(e,n,s,l)}}function Na(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,R,h),Xl(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Na(f,g,E,R,h):Jl(f,g):(Y._visibility|=2,Na(f,g,E,R,h)),h&&z&2048&&jf(g.alternate,g);break;case 24:Na(f,g,E,R,h),h&&z&2048&&Bf(g.alternate,g);break;default:Na(f,g,E,R,h)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Jl(s,l),h&2048&&jf(l.alternate,l);break;case 24:Jl(s,l),h&2048&&Bf(l.alternate,l);break;default:Jl(s,l)}n=n.sibling}}var Zl=8192;function xa(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)sy(e,n,s),e=e.sibling}function sy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&Zl&&e.memoizedState!==null&&W1(s,ti,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=ti;ti=lc(e.stateNode.containerInfo),xa(e,n,s),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,xa(e,n,s),Zl=l):xa(e,n,s));break;default:xa(e,n,s)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,ly(l,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):Wl(e);break;default:Wl(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,ly(l,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function ly(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Os(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Le=l;else t:for(s=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(Jp(l),l===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var m1={getCacheForType:function(e){var n=Fe(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(we).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Ct=null,Nt=0,Yt=0,Sn=null,Ms=!1,Da=!1,qf=!1,Wi=0,ge=0,Vs=0,zr=0,Hf=0,An=0,Oa=0,to=null,dn=null,Gf=!1,Xu=0,oy=0,$u=1/0,Ju=null,ks=null,Oe=0,Us=null,Ma=null,ts=0,Ff=0,Kf=null,uy=null,eo=0,Qf=null;function wn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:Q.T!==null?Wf():Zo()}function cy(){if(An===0)if((Nt&536870912)===0||Ut){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function mn(e,n,s){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Ls(e,Nt,An,!1)),dr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(zr|=s),ge===4&&Ls(e,Nt,An,!1)),Ii(e))}function hy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=l?_1(e,n):Xf(e,n,!0),f=l;do{if(h===0){Da&&!l&&Ls(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!p1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=to;var R=E.current.memoizedState.isDehydrated;if(R&&(Va(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!R){E.errorRecoveryDisabledLanes|=f,zr|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Ls(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,An,!Ms);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-rn(),10<h)){if(Ls(l,n,An,!Ms),ci(l,0,!0)!==0)break t;ts=n,l.timeoutHandle=qy(fy.bind(null,l,s,dn,Ju,Gf,n,An,zr,Oa,Ms,f,"Throttled",-0,0),h);break t}fy(l,s,dn,Ju,Gf,n,An,zr,Oa,Ms,f,null,-0,0)}}break}while(!0);Ii(e)}function fy(e,n,s,l,h,f,g,E,R,z,Y,$,B,G){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},sy(n,f,$);var lt=(f&62914560)===f?Xu-rn():(f&4194048)===f?oy-rn():0;if(lt=tb($,lt),lt!==null){ts=f,e.cancelPendingCommit=lt(Ey.bind(null,e,n,f,s,l,h,g,E,R,Y,$,null,B,G)),Ls(e,f,g,!z);return}}Ey(e,n,f,s,l,h,g,E,R)}function p1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,s,l){n&=~Hf,n&=~zr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&mr(e,s,n)}function Zu(){return(Gt&6)===0?(no(0),!1):!0}function Yf(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Hi=xr=null,cf(e),Aa=null,Pl=0,e=Ct;for(;e!==null;)Hp(e.alternate,e),e=e.return;Ct=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,U1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ts=0,Yf(),ee=e,Ct=s=Bi(e.current,null),Nt=n,Yt=0,Sn=null,Ms=!1,Da=Fn(e,n),qf=!1,Oa=An=Hf=zr=Vs=ge=0,dn=to=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-pe(l),f=1<<h;n|=e[h],l&=~f}return Wi=n,vu(),s}function dy(e,n){wt=null,Q.H=Kl,n===Sa||n===Cu?(n=Ng(),Yt=3):n===Jh?(n=Ng(),Yt=4):Yt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ct===null&&(ge=1,Bu(e,Vn(n,e.current)))}function my(){var e=Tn.current;return e===null?!0:(Nt&4194048)===Nt?Pn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Pn:!1}function gy(){var e=Q.H;return Q.H=Kl,e===null?Kl:e}function py(){var e=Q.A;return Q.A=m1,e}function Wu(){ge=4,Ms||(Nt&4194048)!==Nt&&Tn.current!==null||(Da=!0),(Vs&134217727)===0&&(zr&134217727)===0||ee===null||Ls(ee,Nt,An,!1)}function Xf(e,n,s){var l=Gt;Gt|=2;var h=gy(),f=py();(ee!==e||Nt!==n)&&(Ju=null,Va(e,n)),n=!1;var g=ge;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,R=Sn;switch(Yt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Yt;if(Yt=0,Sn=null,ka(e,E,R,z),s&&Da){g=0;break t}break;default:z=Yt,Yt=0,Sn=null,ka(e,E,R,z)}}y1(),g=ge;break}catch(Y){dy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Hi=xr=null,Gt=l,Q.H=h,Q.A=f,Ct===null&&(ee=null,Nt=0,vu()),g}function y1(){for(;Ct!==null;)yy(Ct)}function _1(e,n){var s=Gt;Gt|=2;var l=gy(),h=py();ee!==e||Nt!==n?(Ju=null,$u=rn()+500,Va(e,n)):Da=Fn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,ka(e,n,f,1);break;case 2:case 9:if(Cg(f)){Yt=0,Sn=null,_y(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ii(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Cg(f)?(Yt=0,Sn=null,_y(n)):(Yt=0,Sn=null,ka(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?i_(g):E.stateNode.complete){Yt=0,Sn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,tc(z)):Ct=null}break e}}Yt=0,Sn=null,ka(e,n,f,5);break;case 6:Yt=0,Sn=null,ka(e,n,f,6);break;case 8:Yf(),ge=6;break t;default:throw Error(a(462))}}v1();break}catch(Y){dy(e,Y)}while(!0);return Hi=xr=null,Q.H=l,Q.A=h,Gt=s,Ct!==null?0:(ee=null,Nt=0,vu(),ge)}function v1(){for(;Ct!==null&&!Ah();)yy(Ct)}function yy(e){var n=Bp(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:cf(n);default:Hp(s,n),n=Ct=pg(n,Wi),n=Bp(s,n,Wi)}e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function ka(e,n,s,l){Hi=xr=null,cf(n),Aa=null,Pl=0;var h=n.return;try{if(l1(e,h,n,s,Nt)){ge=1,Bu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ge=1,Bu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(Ut||l===1?e=!0:Da||(Nt&536870912)!==0?e=!1:(Ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){vy(n,Ms);return}e=n.return;var s=c1(n.alternate,n,Wi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ge===0&&(ge=5)}function vy(e,n){do{var s=h1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ge=6,Ct=null}function Ey(e,n,s,l,h,f,g,E,R){e.cancelPendingCommit=null;do ec();while(Oe!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ch(e,s,f,g,E,R),e===ee&&(Ct=ee=null,Nt=0),Ma=n,Us=e,ts=s,Ff=f,Kf=h,uy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S1(ds,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=nt.p,nt.p=2,g=Gt,Gt|=4;try{f1(e,n,s)}finally{Gt=g,nt.p=h,Q.T=l}}Oe=1,Ty(),by(),Sy()}}function Ty(){if(Oe===1){Oe=0;var e=Us,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ey(n,e);var f=ld,g=lg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(R!==null&&Dh(E)){var z=R.start,Y=R.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var G=B.getSelection(),lt=E.textContent.length,gt=Math.min(R.start,lt),Wt=R.end===void 0?gt:Math.min(R.end,lt);!G.extend&&gt>Wt&&(g=Wt,Wt=gt,gt=g);var k=rg(E,gt),D=rg(E,Wt);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),G.removeAllRanges(),gt>Wt?(G.addRange(P),G.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),G.addRange(P))}}}}for($=[],G=E;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}dc=!!ad,ld=ad=null}finally{Gt=h,nt.p=l,Q.T=s}}e.current=n,Oe=2}}function by(){if(Oe===2){Oe=0;var e=Us,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Gt;Gt|=4;try{$p(e,n.alternate,n)}finally{Gt=h,nt.p=l,Q.T=s}}Oe=3}}function Sy(){if(Oe===4||Oe===3){Oe=0,Fo();var e=Us,n=Ma,s=ts,l=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ma=Us=null,Ay(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),Li(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=nt.p,nt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,nt.p=h}}(ts&3)!==0&&ec(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Qf?eo++:(eo=0,Qf=e):eo=0,no(0)}}function Ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function ec(){return Ty(),by(),Sy(),wy()}function wy(){if(Oe!==5)return!1;var e=Us,n=Ff;Ff=0;var s=Li(ts),l=Q.T,h=nt.p;try{nt.p=32>s?32:s,Q.T=null,s=Kf,Kf=null;var f=Us,g=ts;if(Oe=0,Ma=Us=null,ts=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,ay(f.current),iy(f,f.current,g,s),Gt=E,no(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{nt.p=h,Q.T=l,Ay(e,n)}}function Ry(e,n,s){n=Vn(s,n),n=wf(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(dr(e,2),Ii(e))}function Xt(e,n,s){if(e.tag===3)Ry(e,e,s);else for(;n!==null;){if(n.tag===3){Ry(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){e=Vn(s,e),s=Cp(2),l=Ns(n,s,2),l!==null&&(Ip(s,l,n,e),dr(l,2),Ii(l));break}}n=n.return}}function $f(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new g1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(qf=!0,h.add(s),e=E1.bind(null,e,n,s),n.then(e,e))}function E1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Nt&s)===s&&(ge===4||ge===3&&(Nt&62914560)===Nt&&300>rn()-Xu?(Gt&2)===0&&Va(e,0):Hf|=s,Oa===Nt&&(Oa=0)),Ii(e)}function Cy(e,n){n===0&&(n=Jo()),e=Cr(e,n),e!==null&&(dr(e,n),Ii(e))}function T1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Cy(e,s)}function S1(e,n){return De(e,n)}var nc=null,Ua=null,Jf=!1,ic=!1,Zf=!1,Ps=0;function Ii(e){e!==Ua&&e.next===null&&(Ua===null?nc=Ua=e:Ua=Ua.next=e),ic=!0,Jf||(Jf=!0,w1())}function no(e,n){if(!Zf&&ic){Zf=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Dy(l,f))}else f=Nt,f=ci(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(s=!0,Dy(l,f));l=l.next}while(s);Zf=!1}}function A1(){Iy()}function Iy(){ic=Jf=!1;var e=0;Ps!==0&&k1()&&(e=Ps);for(var n=rn(),s=null,l=nc;l!==null;){var h=l.next,f=Ny(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(Ua=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}Oe!==0&&Oe!==5||no(e),Ps!==0&&(Ps=0)}function Ny(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Rh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Nt,s=ci(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&fs(l),Li(s)){case 2:case 8:s=fl;break;case 32:s=ds;break;case 268435456:s=Ko;break;default:s=ds}return l=xy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Nt;return l=ci(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(hy(e,l,n),Ny(e,rn()),e.callbackNode!=null&&e.callbackNode===s?xy.bind(null,e):null)}function Dy(e,n){if(ec())return null;hy(e,n,!0)}function w1(){L1(function(){(Gt&6)!==0?De(hl,A1):Iy()})}function Wf(){if(Ps===0){var e=Ta;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ps=e}return Ps}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function R1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Oy((h[ke]||null).action),g=l.submitter;g&&(n=(n=g[ke]||null)?Oy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var R=g?My(h,g):new FormData(h);vf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?My(h,g):new FormData(h),vf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],C1=ed.toLowerCase(),I1=ed[0].toUpperCase()+ed.slice(1);Wn(C1,"on"+I1)}Wn(cg,"onAnimationEnd"),Wn(hg,"onAnimationIteration"),Wn(fg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(GT,"onTransitionRun"),Wn(FT,"onTransitionStart"),Wn(KT,"onTransitionCancel"),Wn(dg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Vy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Y){_u(Y)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Y){_u(Y)}h.currentTarget=null,f=R}}}}function It(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var l=e+"__bubble";s.has(l)||(ky(n,e,2,!1),s.add(l))}function nd(e,n,s){var l=0;n&&(l|=4),ky(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[sc]){e[sc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(N1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,nd("selectionchange",!1,n))}}function ky(e,n,s,l){switch(c_(n)){case 2:var h=ib;break;case 8:h=sb;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}vs(function(){var z=f,Y=xn(s),$=[];t:{var B=mg.get(e);if(B!==void 0){var G=Ti,lt=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":G=gu;break;case"focusin":lt="focus",G=Sr;break;case"focusout":lt="blur",G=Sr;break;case"beforeblur":case"afterblur":G=Sr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case cg:case hg:case fg:G=ou;break;case dg:G=T;break;case"scroll":case"scrollend":G=Cl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ji;break;case"toggle":case"beforetoggle":G=At}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?B!==null?B+"Capture":null:B;gt=[];for(var D=z,P;D!==null;){var X=D;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||k===null||(X=Xn(D,k),X!=null&&gt.push(so(D,X,P))),Wt)break;D=D.return}0<gt.length&&(B=new G(B,lt,null,s,Y),$.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",B&&s!==Al&&(lt=s.relatedTarget||s.fromElement)&&(mi(lt)||lt[fi]))break t;if((G||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,G?(lt=s.relatedTarget||s.toElement,G=z,lt=lt?mi(lt):null,lt!==null&&(Wt=c(lt),gt=lt.tag,lt!==Wt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(G=null,lt=z),G!==lt)){if(gt=Il,X="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=ji,X="onPointerLeave",k="onPointerEnter",D="pointer"),Wt=G==null?B:yn(G),P=lt==null?B:yn(lt),B=new gt(X,D+"leave",G,s,Y),B.target=Wt,B.relatedTarget=P,X=null,mi(Y)===z&&(gt=new gt(k,D+"enter",lt,s,Y),gt.target=P,gt.relatedTarget=Wt,X=gt),Wt=X,G&&lt)e:{for(gt=x1,k=G,D=lt,P=0,X=k;X;X=gt(X))P++;X=0;for(var ft=D;ft;ft=gt(ft))X++;for(;0<P-X;)k=gt(k),P--;for(;0<X-P;)D=gt(D),X--;for(;P--;){if(k===D||D!==null&&k===D.alternate){gt=k;break e}k=gt(k),D=gt(D)}gt=null}else gt=null;G!==null&&Uy($,B,G,gt,!1),lt!==null&&Wt!==null&&Uy($,Wt,lt,gt,!0)}}t:{if(B=z?yn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var jt=Wm;else if(Jm(B))if(tg)jt=BT;else{jt=zT;var ot=PT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ra(z.elementType)&&(jt=Wm):jt=jT;if(jt&&(jt=jt(e,z))){Zm($,jt,s,Y);break t}ot&&ot(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Tl(B,"number",B.value)}switch(ot=z?yn(z):window,e){case"focusin":(Jm(ot)||ot.contentEditable==="true")&&(da=ot,Oh=z,Ml=null);break;case"focusout":Ml=Oh=da=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,og($,s,Y);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":og($,s,Y)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else fa?Ar(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(Ai&&s.locale!=="ko"&&(fa||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&fa&&(Rt=Rl()):(Ei=Y,wl="value"in Ei?Ei.value:Ei.textContent,fa=!0)),ot=rc(z,xt),0<ot.length&&(xt=new Si(xt,e,null,s,Y),$.push({event:xt,listeners:ot}),Rt?xt.data=Rt:(Rt=ha(s),Rt!==null&&(xt.data=Rt)))),(Rt=On?VT(e,s):kT(e,s))&&(xt=rc(z,"onBeforeInput"),0<xt.length&&(ot=new Si("onBeforeInput","beforeinput",null,s,Y),$.push({event:ot,listeners:xt}),ot.data=Rt)),R1($,e,z,s,Y)}Vy($,n)})}function so(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,s),h!=null&&l.unshift(so(e,h,f)),h=Xn(e,n),h!=null&&l.push(so(e,h,f))),e.tag===3)return l;e=e.return}return[]}function x1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Xn(s,f),z!=null&&g.unshift(so(s,z,R))):h||(z=Xn(s,f),z!=null&&g.push(so(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var D1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(D1,`
`).replace(O1,"")}function Py(e,n){return n=Ly(n),Ly(e)===n}function Zt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=aa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=aa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,ia(e,s,l))}}function rd(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ia(e,s,l)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),l&&Zt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Zt(e,n,l,Y,s,null)}}nu(e,f,E,R,z,g,h,!1);return;case"select":It("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?gs(e,!!l,n,!1):s!=null&&gs(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}ps(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,n,R,l,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<io.length;l++)It(io[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,l,s,null)}return;default:if(ra(n)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&rd(e,n,Y,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Zt(e,n,E,l,s,null))}function M1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,Y=null;for(G in s){var $=s[G];if(s.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(G)||Zt(e,n,G,null,l,$)}}for(var B in l){var G=l[B];if($=s[B],l.hasOwnProperty(B)&&(G!=null||$!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==$&&Zt(e,n,B,G,l,$)}}sa(e,g,E,R,z,Y,f,h);return;case"select":G=g=E=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":G=R;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,l,R)}n=E,s=g,l=G,B!=null?gs(e,!!s,B,!1):!!l!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":G=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,l,f)}iu(e,B,G);return;case"option":for(var lt in s)B=s[lt],s.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Zt(e,n,lt,null,l,B));for(R in l)B=l[R],G=s[R],l.hasOwnProperty(R)&&B!==G&&(B!=null||G!=null)&&(R==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Zt(e,n,R,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)B=s[gt],s.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Zt(e,n,gt,null,l,B);for(z in l)if(B=l[z],G=s[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Zt(e,n,z,B,l,G)}return;default:if(ra(n)){for(var Wt in s)B=s[Wt],s.hasOwnProperty(Wt)&&B!==void 0&&!l.hasOwnProperty(Wt)&&rd(e,n,Wt,void 0,l,B);for(Y in l)B=l[Y],G=s[Y],!l.hasOwnProperty(Y)||B===G||B===void 0&&G===void 0||rd(e,n,Y,B,l,G);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Zt(e,n,k,null,l,B);for($ in l)B=l[$],G=s[$],!l.hasOwnProperty($)||B===G||B==null&&G==null||Zt(e,n,$,B,l,G)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&zy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var Y=R.transferSize,$=R.initiatorType;Y&&zy($)&&(R=R.responseEnd,g+=Y*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,ld=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function k1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(P1)}:qy;function P1(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function Gy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),ja(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ro(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ro(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ro(e.ownerDocument.body);s=h}while(s);ja(n)}function Fy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function z1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function j1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function Qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var jn=new Map,$y=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=nt.d;nt.d={f:q1,r:H1,D:G1,C:F1,L:K1,m:Q1,X:X1,S:Y1,M:$1};function q1(){var e=es.f(),n=Zu();return e||n}function H1(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):es.r(e)}var La=typeof document>"u"?null:document;function Jy(e,n,s){var l=La;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Qe(n,"link",e),Se(n),l.head.appendChild(n)))}}function G1(e){es.D(e),Jy("dns-prefetch",e,null)}function F1(e,n){es.C(e,n),Jy("preconnect",e,n)}function K1(e,n,s){es.L(e,n,s);var l=La;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}jn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),Qe(n,"link",e),Se(n),l.head.appendChild(n)))}}function Q1(e,n){es.m(e,n);var s=La;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!jn.has(f)&&(e=A({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(f)))return}l=s.createElement("link"),Qe(l,"link",e),Se(l),s.head.appendChild(l)}}}function Y1(e,n,s){es.S(e,n,s);var l=La;if(l&&e){var h=gi(l).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ao(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&md(e,s);var R=g=l.createElement("link");Se(R),Qe(R,"link",e),R._p=new Promise(function(z,Y){R.onload=z,R.onerror=Y}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function X1(e,n){es.X(e,n);var s=La;if(s&&e){var l=gi(s).hoistableScripts,h=za(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=A({src:e,async:!0},n),(n=jn.get(h))&&gd(e,n),f=s.createElement("script"),Se(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $1(e,n){es.M(e,n);var s=La;if(s&&e){var l=gi(s).hoistableScripts,h=za(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&gd(e,n),f=s.createElement("script"),Se(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Zy(e,n,s,l){var h=(h=rt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=gi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ao(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||J1(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=gi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+on(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function J1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qe(n,"link",s),Se(n),e.head.appendChild(n))}function za(e){return'[src="'+on(e)+'"]'}function lo(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return n.instance=l,Se(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Qe(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Pa(s.href);var f=e.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;l=Wy(s),(h=jn.get(h))&&md(l,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(lo(f)))?(n.instance=h,Se(h),h):(l=s,(h=jn.get(f))&&(l=A({},s),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Qe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function e_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Z1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,l=Wy(l),(h=jn.get(h))&&md(l,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function tb(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*V1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(eb,e),hc=null,cc.call(e))}function eb(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function nb(e,n,s,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function s_(e,n,s,l,h,f,g,E,R,z,Y,$){return e=new nb(e,n,s,g,R,z,Y,$,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Zh(f),e}function r_(e){return e?(e=pa,e):pa}function a_(e,n,s,l,h,f){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ns(e,l,n),s!==null&&(mn(s,e,n),jl(s,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function o_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&mn(n,e,67108864),yd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=wn();n=gr(n);var s=Cr(e,n);s!==null&&mn(s,e,n),yd(e,n)}}var dc=!0;function ib(e,n,s,l){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=2,_d(e,n,s,l)}finally{nt.p=f,Q.T=h}}function sb(e,n,s,l){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=8,_d(e,n,s,l)}finally{nt.p=f,Q.T=h}}function _d(e,n,s,l){if(dc){var h=vd(l);if(h===null)sd(e,n,l,mc,s),h_(e,l);else if(ab(h,e,n,s,l))l.stopPropagation();else if(h_(e,l),n&4&&-1<rb.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-pe(g);E.entanglements[1]|=R,g&=~R}Ii(f),(Gt&6)===0&&($u=rn()+500,no(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&mn(E,f,2),Zu(),yd(f,2)}if(f=vd(l),f===null&&sd(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else sd(e,n,l,null,s)}}function vd(e){return e=xn(e),Ed(e)}var mc=null;function Ed(e){if(mc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case hl:return 2;case fl:return 8;case ds:case wh:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var Td=!1,js=null,Bs=null,qs=null,uo=new Map,co=new Map,Hs=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ho(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&o_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ab(e,n,s,l,h){switch(n){case"focusin":return js=ho(js,e,n,s,l,h),!0;case"dragenter":return Bs=ho(Bs,e,n,s,l,h),!0;case"mouseover":return qs=ho(qs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return uo.set(f,ho(uo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,co.set(f,ho(co.get(f)||null,e,n,s,l,h)),!0}return!1}function f_(e){var n=mi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){u_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Nn(s),n!==null&&o_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){gc(e)&&s.delete(n)}function lb(){Td=!1,js!==null&&gc(js)&&(js=null),Bs!==null&&gc(Bs)&&(Bs=null),qs!==null&&gc(qs)&&(qs=null),uo.forEach(d_),co.forEach(d_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lb)))}var yc=null;function m_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ed(l||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ja(e){function n(R){return pc(R,e)}js!==null&&pc(js,e),Bs!==null&&pc(Bs,e),qs!==null&&pc(qs,e),uo.forEach(n),co.forEach(n);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[ke]||null;if(typeof f=="function")g||m_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}_c.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=wn();a_(s,l,e,n,null,null)},_c.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Zu(),n[fi]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.4")throw Error(a(527,p_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ob={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Gn=vc.inject(ob),qe=vc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Sp,f=Ap,g=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,s,l,null,h,f,g,g_),e[fi]=n.current,id(e),new bd(n)},mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Sp,g=Ap,E=wp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=s_(e,1,!0,n,s??null,l,h,R,f,g,E,g_),n.context=r_(null),s=n.current,l=wn(),l=gr(l),h=Is(l),h.callback=null,Ns(s,h,l),s=l,n.current.lanes=s,dr(n,s),Ii(n),e[fi]=n.current,id(e),new _c(n)},mo.version="19.2.4",mo}var R_;function vb(){if(R_)return wd.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=_b(),wd.exports}var Eb=vb();const Tb=l0(Eb),bb=()=>{};var C_={};const o0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Sb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,K=y&63;v||(K=64,d||(V=64)),a.push(i[b],i[A],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(o0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Sb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new Ab;const V=c<<2|p>>4;if(a.push(V),y!==64){const K=p<<4&240|y>>2;if(a.push(K),A!==64){const et=y<<6&192|A;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wb=function(r){const t=o0(r);return u0.encodeByteArray(t,!0)},Pc=function(r){return wb(r).replace(/\./g,"")},c0=function(r){try{return u0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cb=()=>Rb().__FIREBASE_DEFAULTS__,Ib=()=>{if(typeof process>"u"||typeof C_>"u")return;const r=C_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return bb()||Cb()||Ib()||Nb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h0=r=>rh()?.emulatorHosts?.[r],xb=r=>{const t=h0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},f0=()=>rh()?.config,d0=r=>rh()?.[`_${r}`];class Db{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m0(r){return(await fetch(r,{credentials:"include"})).ok}function Ob(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const Eo={};function Mb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function Vb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let I_=!1;function g0(r,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Eo[r]===t||Eo[r]||I_)return;Eo[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Mb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{I_=!0,d()},V}function b(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=Vb(a),K=i("text"),et=document.getElementById(K)||document.createElement("span"),tt=i("learnmore"),st=document.getElementById(tt)||document.createElement("a"),dt=i("preprendIcon"),bt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const yt=V.element;p(yt),b(st,tt);const St=y();v(bt,dt),yt.append(bt,et,st,St),document.body.appendChild(yt)}c?(et.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Ub(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Bb(){return!Ub()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Gb="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Gb,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Fb(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new cs(o,p,a)}}function Fb(r,t){return r.replace(Kb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Kb=/\{\$([^}]+)}/g;function Qb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(N_(c)&&N_(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function N_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Yb(r,t){const i=new Xb(r,t);return i.subscribe.bind(i)}class Xb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");$b(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Nd),o.error===void 0&&(o.error=Nd),o.complete===void 0&&(o.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $b(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}function Rn(r){return r&&r._delegate?r._delegate:r}class Fr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class Jb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Db;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Wb(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(r){return r===jr?void 0:r}function Wb(r){return r.instantiationMode==="EAGER"}class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Jb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const eS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},nS=Dt.INFO,iS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},sS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=iS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const rS=(r,t)=>t.some(i=>r instanceof i);let x_,D_;function aS(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,qd=new WeakMap,y0=new WeakMap,xd=new WeakMap,mm=new WeakMap;function oS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Zs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&p0.set(i,r)}).catch(()=>{}),mm.set(t,r),t}function uS(r){if(qd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});qd.set(r,t)}let Hd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||y0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cS(r){Hd=r(Hd)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Dd(this),t,...i);return y0.set(a,t.sort?t.sort():[t]),Zs(a)}:lS().includes(r)?function(...t){return r.apply(Dd(this),t),Zs(p0.get(this))}:function(...t){return Zs(r.apply(Dd(this),t))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),rS(r,aS())?new Proxy(r,Hd):r)}function Zs(r){if(r instanceof IDBRequest)return oS(r);if(xd.has(r))return xd.get(r);const t=fS(r);return t!==r&&(xd.set(r,t),mm.set(t,r)),t}const Dd=r=>mm.get(r);function dS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Zs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Zs(d.result),v.oldVersion,v.newVersion,Zs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Od=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=gS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||mS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Od.set(t,c),c}cS(r=>({...r,get:(t,i,a)=>O_(t,i)||r.get(t,i,a),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yS(r){return r.getComponent()?.type==="VERSION"}const Gd="@firebase/app",M_="0.14.8";const rs=new dm("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",bS="@firebase/app-check",SS="@firebase/auth",AS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",CS="@firebase/database-compat",IS="@firebase/functions",NS="@firebase/functions-compat",xS="@firebase/installations",DS="@firebase/installations-compat",OS="@firebase/messaging",MS="@firebase/messaging-compat",VS="@firebase/performance",kS="@firebase/performance-compat",US="@firebase/remote-config",LS="@firebase/remote-config-compat",PS="@firebase/storage",zS="@firebase/storage-compat",jS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",GS="12.9.0";const Fd="[DEFAULT]",FS={[Gd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[bS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[AS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[IS]:"fire-fn",[NS]:"fire-fn-compat",[xS]:"fire-iid",[DS]:"fire-iid-compat",[OS]:"fire-fcm",[MS]:"fire-fcm-compat",[VS]:"fire-perf",[kS]:"fire-perf-compat",[US]:"fire-rc",[LS]:"fire-rc-compat",[PS]:"fire-gcs",[zS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const zc=new Map,KS=new Map,Kd=new Map;function V_(r,t){try{r.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(Kd.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const i of zc.values())V_(i,r);for(const i of KS.values())V_(i,r);return!0}function gm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ni(r){return r==null?!1:r.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new ko("app","Firebase",QS);class YS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const rl=GS;function _0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Fd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=f0()),!i)throw Ws.create("no-options");const c=zc.get(o);if(c){if(Gr(i,c.options)&&Gr(a,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const d=new tS(o);for(const v of Kd.values())d.addComponent(v);const p=new YS(i,a,d);return zc.set(o,p),p}function v0(r=Fd){const t=zc.get(r);if(!t&&r===Fd&&f0())return _0();if(!t)throw Ws.create("no-app",{appName:r});return t}function tr(r,t,i){let a=FS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Za(new Fr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",$S=1,Co="firebase-heartbeat-store";let Md=null;function E0(){return Md||(Md=dS(XS,$S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),Md}async function JS(r){try{const i=(await E0()).transaction(Co),a=await i.objectStore(Co).get(T0(r));return await i.done,a}catch(t){if(t instanceof cs)rs.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function k_(r,t){try{const a=(await E0()).transaction(Co,"readwrite");await a.objectStore(Co).put(t,T0(r)),await a.done}catch(i){if(i instanceof cs)rs.warn(i.message);else{const a=Ws.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function T0(r){return`${r.name}!${r.options.appId}`}const ZS=1024,WS=30;class tA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=U_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const o=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U_(),{heartbeatsToSend:i,unsentEntries:a}=eA(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rs.warn(t),""}}}function U_(){return new Date().toISOString().substring(0,10)}function eA(r,t=ZS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),L_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),L_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function L_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function iA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function sA(r){Za(new Fr("platform-logger",t=>new pS(t),"PRIVATE")),Za(new Fr("heartbeat",t=>new tA(t),"PRIVATE")),tr(Gd,M_,r),tr(Gd,M_,"esm2020"),tr("fire-js","")}sA("");var rA="firebase",aA="12.9.0";tr(rA,aA,"app");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lA=b0,S0=new ko("auth","Firebase",b0());const jc=new dm("@firebase/auth");function oA(r,...t){jc.logLevel<=Dt.WARN&&jc.warn(`Auth (${rl}): ${r}`,...t)}function Cc(r,...t){jc.logLevel<=Dt.ERROR&&jc.error(`Auth (${rl}): ${r}`,...t)}function as(r,...t){throw pm(r,...t)}function xi(r,...t){return pm(r,...t)}function A0(r,t,i){const a={...lA(),[t]:i};return new ko("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return A0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return S0.create(r,...t)}function _t(r,t,...i){if(!r)throw pm(t,...i)}function ns(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function ls(r,t){r||ns(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function uA(){return P_()==="http:"||P_()==="https:"}function P_(){return typeof self<"u"&&self.location?.protocol||null}function cA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uA()||Pb()||"connection"in navigator)?navigator.onLine:!0}function hA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=kb()||zb()}get(){return cA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(r,t){ls(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class w0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mA=new Lo(3e4,6e4);function ah(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function al(r,t,i,a,o={}){return R0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Uo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Lb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&sl(r.emulatorConfig.host)&&(y.credentials="include"),w0.fetch()(await I0(r,r.config.apiHost,i,p),y)})}async function R0(r,t,i){r._canInitEmulator=!1;const a={...fA,...t};try{const o=new gA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ec(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw A0(r,b,y);as(r,b)}}catch(o){if(o instanceof cs)throw o;as(r,"network-request-failed",{message:String(o)})}}async function C0(r,t,i,a,o={}){const c=await al(r,t,i,a,o);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function I0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?ym(r.config,o):`${r.config.apiScheme}://${o}`;return dA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class gA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),mA.get())})}}function Ec(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=xi(r,t,a);return o.customData._tokenResponse=i,o}async function pA(r,t){return al(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return al(r,"POST","/v1/accounts:lookup",t)}function To(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yA(r,t=!1){const i=Rn(r),a=await i.getIdToken(t),o=_m(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Vd(o.auth_time)),issuedAtTime:To(Vd(o.iat)),expirationTime:To(Vd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function _m(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=c0(i);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z_(r){const t=_m(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof cs&&_A(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _A({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,Bc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?N0(o.providerUserInfo):[],d=TA(r.providerData,c),p=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=p?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function EA(r){const t=Rn(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function N0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bA(r,t){const i=await R0(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await I0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&sl(r.emulatorConfig.host)&&(v.credentials="include"),w0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function SA(r,t){return al(r,"POST","/v2/accounts:revokeToken",ah(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await bA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ka;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Fs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new vA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yA(this,t)}reload(){return EA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Io(this,pA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:K,providerData:et,stsTokenManager:tt}=i;_t(A&&tt,t,"internal-error");const st=Ka.fromJSON(this.name,tt);_t(typeof A=="string",t,"internal-error"),Fs(a,t.name),Fs(o,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof K=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(p,t.name),Fs(v,t.name),Fs(y,t.name),Fs(b,t.name);const dt=new ii({uid:A,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:st,createdAt:y,lastLoginAt:b});return et&&Array.isArray(et)&&(dt.providerData=et.map(bt=>({...bt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ka;o.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?N0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const v=new ii({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const j_=new Map;function is(r){ls(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?(ls(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}x0.type="NONE";const B_=x0;function Ic(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ic("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(is(B_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||is(B_);const d=Ic(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const V=await Bc(t,{idToken:b}).catch(()=>{});if(!V)break;A=await ii._fromGetAccountInfoResponse(t,V,b)}else A=ii._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(D0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U0(t))return"Blackberry";if(L0(t))return"Webos";if(O0(t))return"Safari";if((t.includes("chrome/")||M0(t))&&!t.includes("edge/"))return"Chrome";if(k0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function D0(r=nn()){return/firefox\//i.test(r)}function O0(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function M0(r=nn()){return/crios\//i.test(r)}function V0(r=nn()){return/iemobile/i.test(r)}function k0(r=nn()){return/android/i.test(r)}function U0(r=nn()){return/blackberry/i.test(r)}function L0(r=nn()){return/webos/i.test(r)}function vm(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AA(r=nn()){return vm(r)&&!!window.navigator?.standalone}function wA(){return jb()&&document.documentMode===10}function P0(r=nn()){return vm(r)||k0(r)||L0(r)||U0(r)||/windows phone/i.test(r)||V0(r)}function z0(r,t=[]){let i;switch(r){case"Browser":i=q_(nn());break;case"Worker":i=`${q_(nn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${rl}/${a}`}class RA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function CA(r,t={}){return al(r,"GET","/v2/passwordPolicy",ah(r,t))}const IA=6;class NA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??IA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class xA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new RA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(er(this));const i=t?Rn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CA(this),i=new NA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await SA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lh(r){return Rn(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DA(r){Em=r}function OA(r){return Em.loadJS(r)}function MA(){return Em.gapiScript}function VA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function kA(r,t){const i=gm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Gr(c,t??{}))return o;as(o,"already-initialized")}return i.initialize({options:t})}function UA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function LA(r,t,i){const a=lh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=j0(t),{host:d,port:p}=PA(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Gr(y,a.config.emulator)&&Gr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,sl(d)?(m0(`${c}//${d}${v}`),g0("Auth",!0)):zA()}function j0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function PA(r){const t=j0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:G_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:G_(d)}}}function G_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class B0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Ya(r,t){return C0(r,"POST","/v1/accounts:signInWithIdp",ah(r,t))}const jA="http://localhost";class Kr extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Kr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:jA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Po extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends Po{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ys extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Kr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends Po{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends Po{constructor(){super("twitter.com")}static credential(t,i){return Kr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function BA(r,t){return C0(r,"POST","/v1/accounts:signUp",ah(r,t))}class sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ii._fromIdTokenResponse(t,a,o),d=F_(a);return new sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=F_(a);return new sr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function F_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function qA(r){if(ni(r.app))return Promise.reject(er(r));const t=lh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new sr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await BA(t,{returnSecureToken:!0}),a=await sr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Hc extends cs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Hc(t,i,a,o)}}function H0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,a):c})}async function HA(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return sr._forOperation(r,"link",a)}async function GA(r,t,i=!1){const{auth:a}=r;if(ni(a.app))return Promise.reject(er(a));const o="reauthenticate";try{const c=await Io(r,H0(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=_m(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),sr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(a,"user-mismatch"),c}}async function FA(r,t,i=!1){if(ni(r.app))return Promise.reject(er(r));const a="signIn",o=await H0(r,a,t),c=await sr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function KA(r,t,i,a){return Rn(r).onIdTokenChanged(t,i,a)}function QA(r,t,i){return Rn(r).beforeAuthStateChanged(t,i)}function YA(r,t,i,a){return Rn(r).onAuthStateChanged(t,i,a)}const Gc="__sak";class G0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const XA=1e3,$A=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$A):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}F0.type="LOCAL";const JA=F0;class K0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}K0.type="SESSION";const Q0=K0;function ZA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await ZA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Tm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class WA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Tm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function tw(r){Di().location.href=r}function Y0(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function ew(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nw(){return navigator?.serviceWorker?.controller||null}function iw(){return Y0()?self:null}const X0="firebaseLocalStorageDb",sw=1,Fc="firebaseLocalStorage",$0="fbase_key";class zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function rw(){const r=indexedDB.deleteDatabase(X0);return new zo(r).toPromise()}function Xd(){const r=indexedDB.open(X0,sw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:$0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await rw(),t(await Xd()))})})}async function K_(r,t,i){const a=uh(r,!0).put({[$0]:t,value:i});return new zo(a).toPromise()}async function aw(r,t){const i=uh(r,!1).get(t),a=await new zo(i).toPromise();return a===void 0?null:a.value}function Q_(r,t){const i=uh(r,!0).delete(t);return new zo(i).toPromise()}const lw=800,ow=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ow)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ew(),!this.activeServiceWorker)return;this.sender=new WA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await K_(t,Gc,"1"),await Q_(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>K_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>aw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Q_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=uh(o,!1).getAll();return new zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const uw=J0;new Lo(3e4,6e4);function cw(r,t){return t?is(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bm extends B0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function hw(r){return FA(r.auth,new bm(r),r.bypassAuthState)}function fw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),GA(i,new bm(r),r.bypassAuthState)}async function dw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),HA(i,new bm(r),r.bypassAuthState)}class Z0{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hw;case"linkViaPopup":case"linkViaRedirect":return dw;case"reauthViaPopup":case"reauthViaRedirect":return fw;default:as(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mw=new Lo(2e3,1e4);class Fa extends Z0{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mw.get())};t()}}Fa.currentPopupAction=null;const gw="pendingRedirect",Nc=new Map;class pw extends Z0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yw(r,t){const i=Ew(t),a=vw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function _w(r,t){Nc.set(r._key(),t)}function vw(r){return is(r._redirectPersistence)}function Ew(r){return Ic(gw,r.config.apiKey,r.name)}async function Tw(r,t,i=!1){if(ni(r.app))return Promise.reject(er(r));const a=lh(r),o=cw(a,t),d=await new pw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const bw=600*1e3;class Sw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Aw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!W0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(t))}saveEventToCache(t){this.cachedEventUids.add(Y_(t)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function W0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Aw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(r);default:return!1}}async function ww(r,t={}){return al(r,"GET","/v1/projects",t)}const Rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cw=/^https?/;async function Iw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ww(r);for(const i of t)try{if(Nw(i))return}catch{}as(r,"unauthorized-domain")}function Nw(r){const t=Qd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Cw.test(i))return!1;if(Rw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const xw=new Lo(3e4,6e4);function X_(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Dw(r){return new Promise((t,i)=>{function a(){X_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X_(),i(xi(r,"network-request-failed"))},timeout:xw.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const o=VA("iframefcb");return Di()[o]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},OA(`${MA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function Ow(r){return xc=xc||Dw(r),xc}const Mw=new Lo(5e3,15e3),Vw="__/auth/iframe",kw="emulator/auth/iframe",Uw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ym(t,kw):`https://${r.config.authDomain}/${Vw}`,a={apiKey:t.apiKey,appName:r.name,v:rl},o=Lw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function zw(r){const t=await Ow(r),i=Di().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Pw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),p=Di().setTimeout(()=>{c(d)},Mw.get());function v(){Di().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bw=500,qw=600,Hw="_blank",Gw="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fw(r,t,i,a=Bw,o=qw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...jw,width:a.toString(),height:o.toString(),top:c,left:d},y=nn().toLowerCase();i&&(p=M0(y)?Hw:i),D0(y)&&(t=t||Gw,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[K,et])=>`${V}${K}=${et},`,"");if(AA(y)&&p!=="_self")return Kw(t||"",p),new $_(null);const A=window.open(t||"",p,b);_t(A,r,"popup-blocked");try{A.focus()}catch{}return new $_(A)}function Kw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Qw="__/auth/handler",Yw="emulator/auth/handler",Xw=encodeURIComponent("fac");async function J_(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:rl,eventId:o};if(t instanceof q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Qb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Po){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await r._getAppCheckToken(),y=v?`#${Xw}=${encodeURIComponent(v)}`:"";return`${$w(r)}?${Uo(p).slice(1)}${y}`}function $w({config:r}){return r.emulator?ym(r,Yw):`https://${r.authDomain}/${Qw}`}const kd="webStorageSupport";class Jw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q0,this._completeRedirectFn=Tw,this._overrideRedirectResult=_w}async _openPopup(t,i,a,o){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J_(t,i,a,Qd(),o);return Fw(t,c,Tm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await J_(t,i,a,Qd(),o);return tw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await zw(t),a=new Sw(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},o=>{const c=o?.[0]?.[kd];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Iw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return P0()||O0()||vm()}}const Zw=Jw;var Z_="@firebase/auth",W_="1.12.0";class Ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(r){Za(new Fr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},y=new xA(a,o,c,v);return UA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Fr("auth-internal",t=>{const i=lh(t.getProvider("auth").getImmediate());return(a=>new Ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Z_,W_,t2(r)),tr(Z_,W_,"esm2020")}const n2=300,i2=d0("authIdTokenMaxAge")||n2;let tv=null;const s2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>i2)return;const o=i?.token;tv!==o&&(tv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function r2(r=v0()){const t=gm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=kA(r,{popupRedirectResolver:Zw,persistence:[uw,JA,Q0]}),a=d0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=s2(c.toString());QA(i,d,()=>d(i.currentUser)),KA(i,p=>d(p))}}const o=h0("auth");return o&&LA(i,`http://${o}`),i}function a2(){return document.getElementsByTagName("head")?.[0]??document}DA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=xi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",a2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");const Ye=[];for(let r=0;r<256;++r)Ye.push((r+256).toString(16).slice(1));function l2(r,t=0){return(Ye[r[t+0]]+Ye[r[t+1]]+Ye[r[t+2]]+Ye[r[t+3]]+"-"+Ye[r[t+4]]+Ye[r[t+5]]+"-"+Ye[r[t+6]]+Ye[r[t+7]]+"-"+Ye[r[t+8]]+Ye[r[t+9]]+"-"+Ye[r[t+10]]+Ye[r[t+11]]+Ye[r[t+12]]+Ye[r[t+13]]+Ye[r[t+14]]+Ye[r[t+15]]).toLowerCase()}let Ud;const o2=new Uint8Array(16);function u2(){if(!Ud){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ud=crypto.getRandomValues.bind(crypto)}return Ud(o2)}const c2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ev={randomUUID:c2};function h2(r,t,i){r=r||{};const a=r.random??r.rng?.()??u2();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,l2(a)}function f2(r,t,i){return ev.randomUUID&&!r?ev.randomUUID():h2(r)}var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,tE;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,x,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[x].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)M[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)M[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],x=I.g[2];let U=I.g[3],w;w=S+(U^C&(x^U))+M[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(x^S&(C^x))+M[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(C^U&(S^C))+M[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=C+(S^x&(U^S))+M[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(U^C&(x^U))+M[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(x^S&(C^x))+M[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(C^U&(S^C))+M[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=C+(S^x&(U^S))+M[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(U^C&(x^U))+M[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(x^S&(C^x))+M[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(C^U&(S^C))+M[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=C+(S^x&(U^S))+M[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(U^C&(x^U))+M[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(x^S&(C^x))+M[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(C^U&(S^C))+M[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=C+(S^x&(U^S))+M[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(x^U&(C^x))+M[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^x&(S^C))+M[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(U^S))+M[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(x^U))+M[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(C^x))+M[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^x&(S^C))+M[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(U^S))+M[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(x^U))+M[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(C^x))+M[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^x&(S^C))+M[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(U^S))+M[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(x^U))+M[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(C^x))+M[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^x&(S^C))+M[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(U^S))+M[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(x^U))+M[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(C^x^U)+M[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^x)+M[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^C)+M[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=C+(x^U^S)+M[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^U)+M[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^x)+M[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^C)+M[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=C+(x^U^S)+M[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^U)+M[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^x)+M[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^C)+M[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=C+(x^U^S)+M[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^U)+M[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^x)+M[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^C)+M[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=C+(x^U^S)+M[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(x^(C|~U))+M[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~x))+M[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~C))+M[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=C+(U^(x|~S))+M[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~U))+M[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~x))+M[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~C))+M[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=C+(U^(x|~S))+M[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~U))+M[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~x))+M[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~C))+M[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=C+(U^(x|~S))+M[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~U))+M[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~x))+M[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~C))+M[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=C+(U^(x|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,M=this.C;let x=this.h,U=0;for(;U<S;){if(x==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(M[x++]=I.charCodeAt(U++),x==this.blockSize){o(this,M),x=0;break}}else for(;U<S;)if(M[x++]=I[U++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[S++]=this.g[C]>>>M&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let M=!0;for(let x=I.length-1;x>=0;x--){const U=I[x]|0;M&&U==S||(C[x]=U,M=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return st(y(-I));const S=[];let C=1;for(let M=0;I>=C;M++)S[M]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return st(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=A;for(let U=0;U<I.length;U+=8){var x=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+x),S);x<8?(x=y(Math.pow(S,x)),M=M.j(x).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var A=v(0),V=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-st(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(tt(this))return"-"+st(this).toString(I);const S=y(Math.pow(I,6));var C=this;let M="";for(;;){const x=St(C,S).g;C=dt(C,x.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=x,et(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}r.l=function(I){return I=dt(this,I),tt(I)?-1:et(I)?0:1};function st(I){const S=I.g.length,C=[];for(let M=0;M<S;M++)C[M]=~I.g[M];return new d(C,~I.h).add(V)}r.abs=function(){return tt(this)?st(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let x=0;x<=S;x++){let U=M+(this.i(x)&65535)+(I.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);M=w>>>16,U&=65535,w&=65535,C[x]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,S){return I.add(st(S))}r.j=function(I){if(et(this)||et(I))return A;if(tt(this))return tt(I)?st(this).j(st(I)):st(st(this).j(I));if(tt(I))return st(this.j(st(I)));if(this.l(K)<0&&I.l(K)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<I.g.length;x++){const U=this.i(M)>>>16,w=this.i(M)&65535,ie=I.i(x)>>>16,fe=I.i(x)&65535;C[2*M+2*x]+=w*fe,bt(C,2*M+2*x),C[2*M+2*x+1]+=U*fe,bt(C,2*M+2*x+1),C[2*M+2*x+1]+=w*ie,bt(C,2*M+2*x+1),C[2*M+2*x+2]+=U*ie,bt(C,2*M+2*x+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function bt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function yt(I,S){this.g=I,this.h=S}function St(I,S){if(et(S))throw Error("division by zero");if(et(I))return new yt(A,A);if(tt(I))return S=St(st(I),S),new yt(st(S.g),st(S.h));if(tt(S))return S=St(I,st(S)),new yt(st(S.g),S.h);if(I.g.length>30){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=S;M.l(I)<=0;)C=ne(C),M=ne(M);var x=Lt(C,1),U=Lt(M,1);for(M=Lt(M,2),C=Lt(C,2);!et(M);){var w=U.add(M);w.l(I)<=0&&(x=x.add(C),U=w),M=Lt(M,1),C=Lt(C,1)}return S=dt(I,x.j(S)),new yt(x,S)}for(x=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),w=U.j(S);tt(w)||w.l(I)>0;)C-=M,U=y(C),w=U.j(S);et(U)&&(U=V),x=x.add(U),I=dt(I,w)}return new yt(x,I)}r.B=function(I){return St(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function ne(I){const S=I.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Lt(I,S){const C=S>>5;S%=32;const M=I.g.length-C,x=[];for(let U=0;U<M;U++)x[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,nr=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eE,po,nE,Dc,$d,iE,sE,rE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,H){for(var it=Array(arguments.length-2),At=2;At<arguments.length;At++)it[At-2]=arguments[At];return m.prototype[L].apply(T,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const H=L.length||0;u.length=_+H;for(let it=0;it<H;it++)u[_+it]=L[it]}else u.push(L)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,_){const T=yt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new tt(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Lt=!1,I=new bt,S=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){st(_)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,x),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function nt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let H=0;H<N.length;H++)_=N[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function F(u){this.src=u,this.g={},this.h=0}F.prototype.add=function(u,m,_,T,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=rt(u,m,T,L);return it>-1?(m=u[it],_||(m.fa=!1)):(m=new nt(m,this.src,H,!!T,L),m.fa=_,u.push(m)),m};function W(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function rt(u,m,_,T){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return L}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),zt={};function kt(u,m,_,T,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)kt(u,m[H],_,T,L);return null}return _=Hn(_),u&&u[fe]?u.J(m,_,p(T)?!!T.capture:!1,L):te(u,m,_,!1,T,L)}function te(u,m,_,T,L,H){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let At=ai(u);if(At||(u[ht]=At=new F(u)),_=At.add(m,_,T,it,H),_.proxy)return _;if(T=sn(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=it),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(pn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sn(){function u(_){return m.call(u.src,u.listener,_)}const m=hs;return u}function oe(u,m,_,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)oe(u,m[H],_,T,L);else T=p(T)?!!T.capture:!!T,_=Hn(_),u&&u[fe]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=rt(m,_,T,L),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rt(m,_,T,L)),(_=u>-1?m[u]:null)&&Cn(_))}function Cn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])W(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(pn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ai(m))?(W(_,u),_.h==0&&(_.src=null,m[ht]=null)):ct(u)}}}function pn(u){return u in zt?zt[u]:zt[u]="on"+u}function hs(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Cn(u),u=_.call(T,m)}return u}function ai(u){return u=u[ht],u instanceof F?u:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hn(u){return typeof u=="function"?u:(u[li]||(u[li]=function(m){return u.handleEvent(m)}),u[li])}function Kt(){M.call(this),this.i=new F(this),this.M=this,this.G=null}A(Kt,M),Kt.prototype[fe]=!0,Kt.prototype.removeEventListener=function(u,m,_,T){oe(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),j(m,L)}L=!0;let H,it;if(_)for(it=_.length-1;it>=0;it--)H=m.g=_[it],L=fs(H,T,!0,m)&&L;if(H=m.g=u,L=fs(H,T,!0,m)&&L,L=fs(H,T,!1,m)&&L,_)for(it=0;it<_.length;it++)H=m.g=_[it],L=fs(H,T,!1,m)&&L}Kt.prototype.N=function(){if(Kt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},Kt.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Kt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const it=m[H];if(it&&!it.da&&it.capture==_){const At=it.listener,ye=it.ha||it.src;it.fa&&W(u.i,it),L=At.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){M.call(this),this.h=u,this.g={}}A(hr,M);var hl=[];function fl(u){Vt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Cn(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),fl(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,wh=d.JSON.parse,Ko=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Qo(){}function Yo(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){x.call(this,"d")}A(qe,x);function In(){x.call(this,"c")}A(In,x);var pe={},Xo=null;function ta(){return Xo=Xo||new Kt}pe.Ia="serverreachability";function $o(u){x.call(this,pe.Ia,u)}A($o,x);function oi(u){const m=ta();De(m,new $o(m))}pe.STAT_EVENT="statevent";function fr(u,m){x.call(this,pe.STAT_EVENT,u),this.stat=m}A(fr,x);function Te(u){const m=ta();De(m,new fr(m,u))}pe.Ja="timingevent";function ui(u,m){x.call(this,pe.Ja,u),this.size=m}A(ui,x);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,L,H){u.info(function(){if(u.g)if(H){var it="",At=H.split("&");for(let Ht=0;Ht<At.length;Ht++){var ye=At[Ht].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const On=ue.split("_");it=On.length>=2&&On[1]=="type"?it+(ue+"="+ye+"&"):it+(ue+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+it})}function Jo(u,m,_,T,L,H,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+it})}function hi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,_)+(T?" "+T:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return ds(H)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function gr(){}A(gr,Qo),gr.prototype.g=function(){return new XMLHttpRequest},ml=new gr;function Li(u){return encodeURIComponent(String(u))}function Zo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Kn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var be={},ke={};function fi(u,m,_){u.M=1,u.A=pr(Ae(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),di(u),u.B=Ae(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Qn,u.g=du(u.j,_?m:null,!u.u),u.P>0&&(u.O=new rn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(hl[0]=L.toString()),L=hl);for(let H=0;H<L.length;H++){const it=kt(_,L[H],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const At=$n(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||At!=4||ye==7||(ye==8||Ht<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var _=Ih(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var H=T;break e}}H=null}if(u=H)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Te(12),yn(this),Nn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<_.length;)if(ue=tu(this,_),ue==ke){At==4&&(this.m=4,Te(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==be){this.m=4,Te(15),hi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ue,null),gi(this,ue);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,_,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(_.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Nl(it),it.P=!0,Te(11))}}else hi(this.i,this.l,_,null),gi(this,_);At==4&&yn(this),this.o&&!this.K&&(At==4?uu(this.j,this):(this.o=!1,di(this)))}else zi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),yn(this),Nn(this)}}}catch{}};function Ih(u){if(!Wo(u))return u.g.la();const m=He(u.g);if(m==="")return"";let _="";const T=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(L&&H==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?be:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function di(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(oi(),Te(17)),yn(this),this.m=2,Nn(this)):na(this,this.T-u)};function Nn(u){u.j.I==0||u.K||uu(u.j,u)}function yn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||yi(_.h,u))){if(!u.L&&yi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ca(_),Ts(_);else break t;Sr(_),Te(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ci(y(_.Va,_),6e3));pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&ca(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const ue=Ht[0];if(!(ue<=_.K))if(_.K=ue,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const On=Ht[3];On!=null&&(_.ka=On,_.j.info("VER="+_.ka));const Ai=Ht[4];Ai!=null&&(_.za=Ai,_.j.info("SVER="+_.za));const Jn=Ht[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Zn=u.g;if(Zn){const Ar=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var H=T.h;H.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(yl(H,H.h),H.h=null))}if(T.G){const ha=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Qt(T.J,T.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var it=u;if(T.na=fu(T,T.L?T.ba:null,T.W),it.L){_l(T.h,it);var At=it,ye=T.O;ye&&(At.H=ye),At.D&&(mi(At),di(At)),T.g=it}else lu(T);_.i.length>0&&bi(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Si(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Si(_,7):Cl(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}oi(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function gl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yl(u,m){u.g?u.g.add(m):u.h=m}function _l(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,H=null;T>=0?(L=u[_].substring(0,T),H=u[_].substring(T+1)):L=u[_],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,El(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ms(this,m[4]),this.h=_i(m[5]||"",!0),El(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,sa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,sa,!0),"@"),u.push(Li(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yr(_,_.charAt(0)=="/"?Tl:nu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yr(_,iu)),u.join("")},_n.prototype.resolve=function(u){const m=Ae(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ms(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let it=0;it<L.length;){const At=L[it++];At=="."?T&&it==L.length&&H.push(""):At==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&it==L.length&&H.push("")):(H.push(At),T=!0)}T=H.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?El(m,ru(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ae(u){return new _n(u)}function Ue(u,m,_){u.j=_?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,_){m instanceof ps?(u.i=m,aa(u.i,u.l)):(_||(m=yr(m,gs)),u.i=new ps(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function pr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,on),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,nu=/[#\?:]/g,Tl=/[#\?]/g,gs=/[#\?@]/g,iu=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ps.prototype,r.add=function(u,m){un(this),this.i=null,u=ys(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function su(u,m){un(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bl(u,m){return un(u),m=ys(u,m),u.g.has(m)}r.forEach=function(u,m){un(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){un(u);let _=[];if(typeof m=="string")bl(u,m)&&(_=_.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return un(this),this.i=null,u=ys(this,u),bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,_){su(u,m),_.length>0&&(u.i=null,u.g.set(ys(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Li(_);_=Sl(this,_);for(let H=0;H<_.length;H++){let it=L;_[H]!==""&&(it+="="+Li(_[H])),u.push(it)}}return this.i=u.join("&")};function ru(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(su(this,T),ra(this,L,_))},u)),u.j=m}function Yn(u,m){const _=new Fn;if(d.Image){const T=new Image;T.onload=b(xn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(xn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(xn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(xn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const _=new Fn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?xn(_,"TestPingServer: ok",!0,m):xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(_,"TestPingServer: error",!1,m)})}function xn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function _s(){this.g=new Ko}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,Qo),vi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){Kt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_r,Kt),r=_r.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Xn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},r.Na=function(u){this.g&&(this.response=u,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return Vt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function vr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Dn(_),typeof u=="string"?_!=null&&Li(_):Qt(u,m,_))}function $t(u){Kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,Kt);var Ei=/^https?$/i,wl=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Er(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Er(this,H)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Pi(u)}function Rl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},r.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),$n(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=H===0){let it=String(u.D).match(eu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Ei.test(it?it.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Rl(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Zo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Es.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Te(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),bi(this)};function Cl(u){if(oa(u),u.I==3){var m=u.V++,_=Ae(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),br(u,_),m=new Kn(u,u.j,m),m.M=2,m.A=pr(Ae(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}hu(u)}function Ts(u){u.g&&(Nl(u),u.g.cancel(),u.g=null)}function oa(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||S(),Lt||(ne(),Lt=!0),I.add(m,u),u.D=0}}function ua(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),j(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),_=Ae(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),br(this,_),H&&(this.R?m="headers="+Li(Dn(H))+"&"+m:this.u&&vr(_,this.u,H)),yl(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,fi(L,_,null)):fi(L,_,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var _;m?_=m.l:_=u.V++;const T=Ae(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),br(u,T),u.u&&u.o&&vr(T,u.u,u.o),_=new Kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yl(u.h,_),fi(_,T,m)}function br(u,m){u.H&&Vt(u.H,function(_,T){Qt(m,T,_)}),u.l&&Vt({},function(_,T){Qt(m,T,_)})}function au(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const ye=["count="+_];At==-1?_>0?(At=L[0].g,ye.push("ofs="+At)):At=0:ye.push("ofs="+At);let Ht=!0;for(let ue=0;ue<_;ue++){var H=L[ue].g;const On=L[ue].map;if(H-=At,H<0)At=Math.max(0,L[ue].g-100),Ht=!1;else try{H="req"+H+"_"||"";try{var it=On instanceof Map?On:Object.entries(On);for(const[Ai,Jn]of it){let Zn=Jn;p(Jn)&&(Zn=ds(Jn)),ye.push(H+Ai+"="+encodeURIComponent(Zn))}}catch(Ai){throw ye.push(H+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(On)}}if(Ht){it=ye.join("&");break t}}it=void 0}return u=u.i.splice(0,_),m.G=u,it}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||S(),Lt||(ne(),Lt=!0),I.add(m,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ts(this),ou(this))};function Nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=pr(Ae(m)),_.u=null,_.R=!0,ea(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Ts(this),Sr(this),Te(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var _=null;if(u.g==m){ca(u),Nl(u),u.g=null;var T=2}else if(yi(u.h,m))_=m.G,_l(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ta(),De(T,new ui(T,_)),bi(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&Sr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function cu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),pr(T),L?Yn(T.toString(),_):Al(T.toString(),_)}else Te(2);u.I=0,u.l&&u.l.pa(m),hu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=vl(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,_){var T=_ instanceof _n?Ae(_):new _n(_);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new _n(null);T&&Ue(H,T),m&&(H.g=m),L&&ms(H,L),_&&(H.h=_),T=H}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),br(u,T),T}function du(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new vi({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Kt.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}A(an,Kt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Cl(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ds(u),u=_);m.i.push(new Se(m.Ya++,u)),m.I==3&&bi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,an.Z.N.call(this)};function gu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(gu,qe);function pu(){In.call(this),this.status=1}A(pu,In);function ji(u){this.g=u}A(ji,mu),ji.prototype.ra=function(){De(this.g,"a")},ji.prototype.qa=function(u){De(this.g,new gu(u))},ji.prototype.pa=function(u){De(this.g,new pu)},ji.prototype.oa=function(){De(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,rE=function(){return new bs},sE=function(){return ta()},iE=pe,$d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Dc=mr,dl.COMPLETE="complete",nE=dl,Yo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.J,po=Yo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,eE=$t}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let ll="12.9.0";function d2(r){ll=r}const Qr=new dm("@firebase/firestore");function Ba(){return Qr.logLevel}function at(r,...t){if(Qr.logLevel<=Dt.DEBUG){const i=t.map(Sm);Qr.debug(`Firestore (${ll}): ${r}`,...i)}}function os(r,...t){if(Qr.logLevel<=Dt.ERROR){const i=t.map(Sm);Qr.error(`Firestore (${ll}): ${r}`,...i)}}function Yr(r,...t){if(Qr.logLevel<=Dt.WARN){const i=t.map(Sm);Qr.warn(`Firestore (${ll}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,aE(r,a,i)}function aE(r,t,i){let a=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw os(a),new Error(a)}function Ft(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||aE(t,o,a)}function Tt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class lE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class g2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p2{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new lE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class y2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=E2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function Jd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Ld(o)===Ld(c)?Ot(o,c):Ld(o)?1:-1}return Ot(r.length,t.length)}const T2=55296,b2=57343;function Ld(r){const t=r.charCodeAt(0);return t>=T2&&t<=b2}function Wa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const sv="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ni.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),o=Ni.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class ae extends Ni{construct(t,i,a){return new ae(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ni{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return S2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new $e([sv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}function oE(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function A2(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function rv(r){if(!mt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function av(r){if(mt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function bo(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function jo(r,t){if(!uE(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const lv=-62135596800,ov=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*ov);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<lv)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:xe("string",le._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new le(0,0))}static max(){return new vt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function w2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new rr(o,mt.empty(),t)}function R2(r){return new rr(r.readTime,r.key,No)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(vt.min(),mt.empty(),No)}static max(){return new rr(vt.max(),mt.empty(),No)}}function C2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==I2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function x2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Rm=-1;function hh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function D2(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const cE="";function O2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=uv(t)),t=M2(r.get(i),t);return uv(t)}function M2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function uv(r){return r+cE+""}function cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function $r(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function hE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=o??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Xe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new si([])}unionWith(t){let i=new Ve($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new si(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const V2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=V2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function lr(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[mE]?.stringValue===dE}function fh(r){const t=r.mapValue.fields[gE];return Cm(t)?fh(t):t}function xo(r){const t=ar(r.mapValue.fields[pE].timestampValue);return new le(t.seconds,t.nanos)}class k2{constructor(t,i,a,o,c,d,p,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Qc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}function U2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(r.options.projectId,t)}const yE="__type__",L2="__max__",Sc={mapValue:{}},_E="__vector__",Yc="value";function or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:z2(r)?9007199254740991:P2(r)?10:11:pt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=or(r);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xo(r).isEqual(xo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ar(o.timestampValue),p=ar(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return lr(o.bytesValue).isEqual(lr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ee(o.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ee(o.integerValue)===Ee(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ee(o.doubleValue),p=Ee(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(cv(d)!==cv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ki(d[v],p[v])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function tl(r,t){if(r===t)return 0;const i=or(r),a=or(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),v=Ee(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(xo(r),xo(t));case 5:return Jd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=lr(c),v=lr(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Ot(p[y],v[y]);if(b!==0)return b}return Ot(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(Ee(c.latitude),Ee(d.latitude));return p!==0?p:Ot(Ee(c.longitude),Ee(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Yc]?.arrayValue,b=v[Yc]?.arrayValue,A=Ot(y?.values?.length||0,b?.values?.length||0);return A!==0?A:dv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const V=Jd(v[A],b[A]);if(V!==0)return V;const K=tl(p[v[A]],y[b[A]]);if(K!==0)return K}return Ot(v.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=ar(r),a=ar(t),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function dv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=tl(i[o],a[o]);if(c)return c}return Ot(i.length,a.length)}function el(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return lr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Zd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Zd(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Oc(r){switch(or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return $r(a.fields,((c,d)=>{o+=c.length+Oc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function Wd(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function mv(r){return!!r&&"nullValue"in r}function gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function P2(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===_E}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $r(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=$e.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=So(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Bn(So(this.value))}}function vE(r){const t=[];return $r(r.fields,((i,a)=>{const o=new $e([i]);if(Mc(a)){const c=vE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new si(t)}class en{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,vt.min(),vt.min(),vt.min(),Bn.empty(),0)}static newFoundDocument(t,i,a,o){return new en(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new en(t,2,i,vt.min(),vt.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,vt.min(),vt.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function pv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=tl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function yv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class $c{constructor(t,i="asc"){this.field=t,this.dir=i}}function j2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class EE{}class Me extends EE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new q2(t,i,a):i==="array-contains"?new F2(t,a):i==="in"?new K2(t,a):i==="not-in"?new Q2(t,a):i==="array-contains-any"?new Y2(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new H2(t,a):new G2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends EE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return TE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function bE(r){return B2(r)&&TE(r)}function B2(r){for(const t of r.filters)if(t instanceof Ui)return!1;return!0}function tm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+el(r.value);if(bE(r))return r.filters.map((t=>tm(t))).join(",");{const t=r.filters.map((i=>tm(i))).join(",");return`${r.op}(${t})`}}function SE(r,t){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&ki(a.value,o.value)})(r,t):r instanceof Ui?(function(a,o){return o instanceof Ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&SE(d,o.filters[p])),!0):!1})(r,t):void pt(19439)}function AE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(r):r instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(AE).join(" ,")+"}"})(r):"Filter"}class q2 extends Me{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class H2 extends Me{constructor(t,i){super(t,"in",i),this.keys=wE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class G2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=wE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function wE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class F2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Oo(i.arrayValue,this.value)}}class K2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class Q2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class Y2 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class X2{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function _v(r,t=null,i=[],a=[],o=null,c=null,d=null){return new X2(r,t,i,a,o,c,d)}function Nm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>tm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>el(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>el(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!j2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!SE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yv(r.startAt,t.startAt)&&yv(r.endAt,t.endAt)}function em(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $2(r,t,i,a,o,c,d,p){return new dh(r,t,i,a,o,c,d,p)}function Dm(r){return new dh(r)}function vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J2(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Z2(r){return r.collectionGroup!==null}function Ao(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $c(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new $c($e.keyField(),a))}return t.Ie}function Oi(r){const t=Tt(r);return t.Ee||(t.Ee=W2(t,Ao(r))),t.Ee}function W2(r,t){if(r.limitType==="F")return _v(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new $c(o.field,c)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return _v(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function nm(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return xm(Oi(r),Oi(t))&&r.limitType===t.limitType}function RE(r){return`${Nm(Oi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>AE(o))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=pv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,p,v){const y=pv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Ao(a),o))})(r,t)}function tR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=eR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function eR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?tl(v,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}const nR=new de(mt.comparator);function us(){return nR}const IE=new de(mt.comparator);function yo(...r){let t=IE;for(const i of r)t=t.insert(i.key,i);return t}function NE(r){let t=IE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Br(){return wo()}function xE(){return wo()}function wo(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const iR=new de(mt.comparator),sR=new Ve(mt.comparator);function Mt(...r){let t=sR;for(const i of r)t=t.add(i);return t}const rR=new Ve(Ot);function aR(){return rR}function Om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function DE(r){return{integerValue:""+r}}function lR(r,t){return D2(t)?DE(t):Om(r,t)}class ph{constructor(){this._=void 0}}function oR(r,t,i){return r instanceof Jc?(function(o,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cm(c)&&(c=fh(c)),c&&(d.fields[gE]=c),{mapValue:d}})(i,t):r instanceof Mo?ME(r,t):r instanceof Vo?VE(r,t):(function(o,c){const d=OE(o,c),p=Ev(d)+Ev(o.Ae);return Wd(d)&&Wd(o.Ae)?DE(p):Om(o.serializer,p)})(r,t)}function uR(r,t,i){return r instanceof Mo?ME(r,t):r instanceof Vo?VE(r,t):i}function OE(r,t){return r instanceof Zc?(function(a){return Wd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends ph{}class Mo extends ph{constructor(t){super(),this.elements=t}}function ME(r,t){const i=kE(t);for(const a of r.elements)i.some((o=>ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends ph{constructor(t){super(),this.elements=t}}function VE(r,t){let i=kE(t);for(const a of r.elements)i=i.filter((o=>!ki(o,a)));return{arrayValue:{values:i}}}class Zc extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ev(r){return Ee(r.integerValue||r.doubleValue)}function kE(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Mo&&o instanceof Mo||a instanceof Vo&&o instanceof Vo?Wa(a.elements,o.elements,ki):a instanceof Zc&&o instanceof Zc?ki(a.Ae,o.Ae):a instanceof Jc&&o instanceof Jc})(r.transform,t.transform)}class hR{constructor(t,i){this.version=t,this.transformResults=i}}class ss{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ss}static exists(t){return new ss(void 0,t)}static updateTime(t){return new ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function UE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new PE(r.key,ss.none()):new Bo(r.key,r.data,ss.none());{const i=r.data,a=Bn.empty();let o=new Ve($e.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Zr(r.key,a,new si(o.toArray()),ss.none())}}function fR(r,t,i){r instanceof Bo?(function(o,c,d){const p=o.value.clone(),v=bv(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Zr?(function(o,c,d){if(!Vc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=bv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(LE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Bo?(function(c,d,p,v){if(!Vc(c.precondition,d))return p;const y=c.value.clone(),b=Sv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Zr?(function(c,d,p,v){if(!Vc(c.precondition,d))return p;const y=Sv(c.fieldTransforms,v,d),b=d.data;return b.setAll(LE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function dR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=OE(a.transform,o||null);c!=null&&(i===null&&(i=Bn.empty()),i.set(a.field,c))}return i||null}function Tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Wa(a,o,((c,d)=>cR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bo extends yh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends yh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function bv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,uR(d,p,i[o]))}return a}function Sv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,oR(c,d,t))}return a}class PE extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&fR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=UE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>Tv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>Tv(i,a)))}}class Mm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return iR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Mm(t,i,a,o)}}class pR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,Pt;function _R(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function zE(r){if(r===void 0)return os("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ne.OK:return Z.OK;case Ne.CANCELLED:return Z.CANCELLED;case Ne.UNKNOWN:return Z.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Z.INTERNAL;case Ne.UNAVAILABLE:return Z.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Z.NOT_FOUND;case Ne.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ne.ABORTED:return Z.ABORTED;case Ne.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ne.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function vR(){return new TextEncoder}const ER=new nr([4294967295,4294967295],0);function Av(r){const t=vR().encode(r),i=new tE;return i.update(t),new Uint8Array(i.digest())}function wv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,a],0),new nr([o,c],0)]}class Vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(nr.fromNumber(a)));return o.compare(ER)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Av(t),[a,o]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Vm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Av(t),[a,o]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(vt.min(),o,new de(Ot),us(),Mt())}}class qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new qo(a,i,Mt(),Mt(),Mt())}}class kc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class jE{constructor(t,i){this.targetId=t,this.Ce=i}}class BE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Rv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Cv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class TR{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.He=Ac(),this.Je=Ac(),this.Ze=new de(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(em(c))if(a===0){const d=new mt(c.path);this.et(i,d,en.newNoDocument(d,vt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=lr(a).toUint8Array()}catch(v){if(v instanceof fE)return Yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Vm(d,o,c)}catch(v){return Yr(v instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&em(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,en.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Mt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new _h(t,i,this.Ze,this.je,a);return this.je=us(),this.He=Ac(),this.Je=Ac(),this.Ze=new de(Ot),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Rv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new de(mt.comparator)}function Cv(){return new de(mt.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class wR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function RR(r,t){return Wc(r,t.toTimestamp())}function Mi(r){return Ft(!!r,49232),vt.fromTimestamp((function(i){const a=ar(i);return new le(a.seconds,a.nanos)})(r))}function km(r,t){return sm(r,t).canonicalString()}function sm(r,t){const i=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function HE(r){const t=ae.fromString(r);return Ft(YE(t),10190,{key:t.toString()}),t}function rm(r,t){return km(r.databaseId,t.path)}function Pd(r,t){const i=HE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(FE(i))}function GE(r,t){return km(r.databaseId,t)}function CR(r){const t=HE(r);return t.length===4?ae.emptyPath():FE(t)}function am(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iv(r,t,i){return{name:rm(r,t),fields:i.value.mapValue.fields}}function IR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:zE(y.code);return new ut(b,y.message||"")})(d);i=new BE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pd(r,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):vt.min(),p=new Bn({mapValue:{fields:a.document.fields}}),v=en.newFoundDocument(o,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new kc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pd(r,a.document),c=a.readTime?Mi(a.readTime):vt.min(),d=en.newNoDocument(o,c),p=a.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pd(r,a.document),c=a.removedTargetIds||[];i=new kc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new yR(o,c),p=a.targetId;i=new jE(p,d)}}return i}function NR(r,t){let i;if(t instanceof Bo)i={update:Iv(r,t.key,t.value)};else if(t instanceof PE)i={delete:rm(r,t.key)};else if(t instanceof Zr)i={update:Iv(r,t.key,t.data),updateMask:PR(t.fieldMask)};else{if(!(t instanceof mR))return pt(16599,{dt:t.type});i={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function xR(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Mi(o.updateTime):Mi(c);return d.isEqual(vt.min())&&(d=Mi(c)),new hR(d,o.transformResults||[])})(i,t)))):[]}function DR(r,t){return{documents:[GE(r,t.path)]}}function OR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GE(r,o);const c=(function(y){if(y.length!==0)return QE(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Ha(V.field),direction:kR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function MR(r){let t=CR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=KE(A);return V instanceof Ui&&bE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(et){return new $c(Ga(et.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,hh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,K=A.values||[];return new Xc(K,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,K=A.values||[];return new Xc(K,V)})(i.endAt)),$2(t,o,d,c,p,"F",v,y)}function VR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ga(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>KE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function kR(r){return bR[r]}function UR(r){return SR[r]}function LR(r){return AR[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Ga(r){return $e.fromServerFormat(r.fieldPath)}function QE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(gv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(mv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(mv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:UR(i.op),value:i.value}}})(r):r instanceof Ui?(function(i){const a=i.getFilters().map((o=>QE(o)));return a.length===1?a[0]:{compositeFilter:{op:LR(i.op),filters:a}}})(r):pt(54877,{filter:r})}function PR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function XE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Js{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Je.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zR{constructor(t){this.yt=t}}function jR(r){const t=MR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}class BR{constructor(){this.Sn=new qR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(rr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class qR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(ae.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn($E,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class nl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const xv="LruGarbageCollector",HR=1048576;function Dv([r,t],[i,a]){const o=Ot(r,i);return o===0?Ot(t,a):o}class GR{constructor(t){this.Pr=t,this.buffer=new Ve(Dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?at(xv,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Ar(3e5)}))}}class KR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(ch.ce);const a=new GR(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ba()<=Dt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function QR(r,t){return new KR(r,t)}class YR{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class $R{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,si.empty(),le.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const o=Br();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Br();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=us();const d=wo(),p=(function(){return wo()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Zr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ro(b.mutation,y,b.mutation.getFieldMask(),le.now())):d.set(y.key,si.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new XR(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wo();let o=new de(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||si.empty();b=p.applyToLocalView(y,b),a.set(v,b);const A=(o.get(p.batchId)||Mt()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,A=xE();b.forEach((V=>{if(!c.has(V)){const K=UE(i.get(V),a.get(V));K!==null&&A.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return J2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Z2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(Br());let p=No,v=c;return d.next((y=>J.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Mt()))).next((b=>({batchId:p,changes:NE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(v=>{const y=(function(A,V){return new dh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,en.newInvalidDocument(b)))}));let p=yo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Ro(b.mutation,y,si.empty(),le.now()),gh(i,y)&&(p=p.insert(v,y))})),p}))}}class JR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:jR(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),J.resolve()}}class ZR{constructor(){this.overlays=new de(mt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Br();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=Br(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new de(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Br(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Br(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return J.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Mt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class WR{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Um{constructor(){this.kr=new Ve(ze.Kr),this.qr=new Ve(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new ze(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new ze(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new ae([])),a=new ze(i,t),o=new ze(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new ae([])),a=new ze(i,t),o=new ze(i,t+1);let c=Mt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ze{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class tC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(ze.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Rm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Ot);return i.forEach((o=>{const c=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new mt(c),0);let p=new Ve(Ot);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new ze(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new ze(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eC{constructor(t){this.ti=t,this.docs=(function(){return new de(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=us();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||C2(R2(b),a)<=0||(o.has(b.key)||gh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new nC(this)}getSize(t){return J.resolve(this.size)}}class nC extends YR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class iC{constructor(t){this.persistence=t,this.ri=new Jr((i=>Nm(i)),xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Um,this.targetCount=0,this.oi=nl._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new nl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class JE{constructor(t,i){this._i={},this.overlays={},this.ai=new ch(0),this.ui=!1,this.ui=!0,this.ci=new WR,this.referenceDelegate=t(this),this.li=new iC(this),this.indexManager=new BR,this.remoteDocumentCache=(function(o){return new eC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new zR(i),this.Pi=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ZR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new tC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new sC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class sC extends N2{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new Um,this.Ai=null}static Vi(t){return new Lm(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=mt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class th{constructor(t,i){this.persistence=t,this.fi=new Jr((a=>O2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=QR(this,i)}static Vi(t,i){return new th(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Pm(t,i.fromCache,a,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class aC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bb()?8:x2(nn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(Ba()<=Dt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ba()<=Dt.DEBUG&&at("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ba()<=Dt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):J.resolve())}gs(t,i){if(vv(i))return J.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=nm(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,nm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return vv(i)||o.isEqual(vt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(Ba()<=Dt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(i)),this.Ds(t,d,i,w2(o,No)).next((p=>p)))}))}bs(t,i){let a=new Ve(CE(t));return i.forEach(((o,c)=>{gh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return Ba()<=Dt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,rr.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const zm="LocalStore",lC=3e8;class oC{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new de(Ot),this.Fs=new Jr((c=>Nm(c)),xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function uC(r,t,i,a){return new oC(r,t,i,a)}async function ZE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Mt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function cC(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const A=y.batch,V=A.keys();let K=J.resolve();return V.forEach((et=>{K=K.next((()=>b.getEntry(v,et))).next((tt=>{const st=y.docVersions.get(et);Ft(st!==null,48541),tt.version.compareTo(st)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function WE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function hC(r,t){const i=Tt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((b,A)=>{const V=o.get(A);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?K=K.withResumeToken(Je.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),o=o.insert(A,K),(function(tt,st,dt){return tt.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=lC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,K,b)&&p.push(i.li.updateTargetData(c,K))}));let v=us(),y=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(fC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(vt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function fC(r,t,i){let a=Mt(),o=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=us();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):at(zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function dC(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function mC(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Js(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function lm(r,t,i){const a=Tt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;at(zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Ov(r,t,i){const a=Tt(r);let o=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=Tt(v),V=A.Fs.get(b);return V!==void 0?J.resolve(A.vs.get(V)):A.li.getTargetData(y,b)})(a,d,Oi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Mt()))).next((p=>(gC(a,tR(t),p),{documents:p,ks:c})))))}function gC(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Mv{constructor(){this.activeTargetIds=aR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pC{constructor(){this.vo=new Mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yC{Mo(t){}shutdown(){}}const Vv="ConnectivityMonitor";class kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Vv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function om(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const zd="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=om(),p=this.Qo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(p),b=sl(y);return this.zo(t,p,v,a,b).then((A=>(at(zd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Yr(zd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=_C[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class EC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const We="WebChannelConnection",go=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Xa extends vC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Xa.c_){const t=sE();go(t,iE.STAT_EVENT,(i=>{i.stat===$d.PROXY?at(We,"STAT_EVENT: detected buffering proxy"):i.stat===$d.NOPROXY&&at(We,"STAT_EVENT: detected no buffering proxy")})),Xa.c_=!0}}zo(t,i,a,o,c){const d=om();return new Promise(((p,v)=>{const y=new eE;y.setWithCredentials(!0),y.listenOnce(nE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const A=y.getResponseJson();at(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Dc.TIMEOUT:at(We,`RPC '${t}' ${d} timed out`),v(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const V=y.getStatus();if(at(We,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const et=K?.error;if(et&&et.status&&et.message){const tt=(function(dt){const bt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(bt)>=0?bt:Z.UNKNOWN})(et.status);v(new ut(tt,et.message))}else v(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(We,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);at(We,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=om(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");at(We,`Creating RPC '${t}' stream ${o}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,V=!1;const K=new EC({Ho:et=>{V?at(We,`Not sending because RPC '${t}' stream ${o} is closed:`,et):(A||(at(We,`Opening RPC '${t}' stream ${o} transport.`),b.open(),A=!0),at(We,`RPC '${t}' stream ${o} sending:`,et),b.send(et))},Jo:()=>b.close()});return go(b,po.EventType.OPEN,(()=>{V||(at(We,`RPC '${t}' stream ${o} transport opened.`),K.i_())})),go(b,po.EventType.CLOSE,(()=>{V||(V=!0,at(We,`RPC '${t}' stream ${o} transport closed`),K.o_(),this.E_(b))})),go(b,po.EventType.ERROR,(et=>{V||(V=!0,Yr(We,`RPC '${t}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),K.o_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),go(b,po.EventType.MESSAGE,(et=>{if(!V){const tt=et.data[0];Ft(!!tt,16349);const st=tt,dt=st?.error||st[0]?.error;if(dt){at(We,`RPC '${t}' stream ${o} received error:`,dt);const bt=dt.status;let yt=(function(Lt){const I=Ne[Lt];if(I!==void 0)return zE(I)})(bt),St=dt.message;bt==="NOT_FOUND"&&St.includes("database")&&St.includes("does not exist")&&St.includes(this.databaseId.database)&&Yr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),yt===void 0&&(yt=Z.INTERNAL,St="Unknown error status: "+bt+" with message "+dt.message),V=!0,K.o_(new ut(yt,St)),b.close()}else at(We,`RPC '${t}' stream ${o} received:`,tt),K.__(tt)}})),Xa.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rE()}}function TC(r){return new Xa(r)}function jd(){return typeof document<"u"?document:null}function vh(r){return new wR(r,!0)}Xa.c_=!1;class tT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class eT{constructor(t,i,a,o,c,d,p,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends eT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=IR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Mi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=em(v)?{documents:DR(c,v)}:{query:OR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qE(c,d.resumeToken);const y=im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=VR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.K_(i)}}class SC extends eT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xR(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>NR(this.serializer,a)))};this.K_(i)}}class AC{}class wC extends AC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,sm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,sm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RC(r,t,i,a){return new wC(r,t,i,a)}class CC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class IC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(at(Xr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Ho(y),y.Va.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Va=new CC(a,o)}}async function Eh(r){if(Wr(r))for(const t of r.Ra)await t(!0)}async function Ho(r){for(const t of r.Ra)await t(!1)}function nT(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Hm(i)?qm(i):cl(i).O_()&&Bm(i,t))}function jm(r,t){const i=Tt(r),a=cl(i);i.Ia.delete(t),a.O_()&&iT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Va.set("Unknown"))}function Bm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(r).Z_(t)}function iT(r,t){r.da.$e(t),cl(r).X_(t)}function qm(r){r.da=new TR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.Va.ua()}function Hm(r){return Wr(r)&&!cl(r).x_()&&r.Ia.size>0}function Wr(r){return Tt(r).Ea.size===0}function sT(r){r.da=void 0}async function NC(r){r.Va.set("Online")}async function xC(r){r.Ia.forEach(((t,i)=>{Bm(r,t)}))}async function DC(r,t){sT(r),Hm(r)?(r.Va.ha(t),qm(r)):r.Va.set("Unknown")}async function OC(r,t,i){if(r.Va.set("Online"),t instanceof BE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(a){at(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof kc?r.da.Xe(t):t instanceof jE?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await WE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),iT(c,v);const A=new Js(b.target,v,y,b.sequenceNumber);Bm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Xr,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!ul(t))throw t;r.Ea.add(1),await Ho(r),r.Va.set("Offline"),i||(i=()=>WE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Xr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function rT(r,t){return t().catch((i=>eh(r,i,t)))}async function Th(r){const t=Tt(r),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;MC(t);)try{const o=await dC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,VC(t,o)}catch(o){await eh(t,o)}aT(t)&&lT(t)}function MC(r){return Wr(r)&&r.Ta.length<10}function VC(r,t){r.Ta.push(t);const i=ur(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function aT(r){return Wr(r)&&!ur(r).x_()&&r.Ta.length>0}function lT(r){ur(r).start()}async function kC(r){ur(r).ra()}async function UC(r){const t=ur(r);for(const i of r.Ta)t.ea(i.mutations)}async function LC(r,t,i){const a=r.Ta.shift(),o=Mm.from(a,t,i);await rT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Th(r)}async function PC(r,t){t&&ur(r).Y_&&await(async function(a,o){if((function(d){return _R(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();ur(a).B_(),await rT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Th(a)}})(r,t),aT(r)&&lT(r)}async function Lv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(Xr,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Ho(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function zC(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Ho(i),i.Va.set("Unknown"))}function cl(r){return r.ma||(r.ma=(function(i,a,o){const c=Tt(i);return c.sa(),new bC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:NC.bind(null,r),Yo:xC.bind(null,r),t_:DC.bind(null,r),J_:OC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Hm(r)?qm(r):r.Va.set("Unknown")):(await r.ma.stop(),sT(r))}))),r.ma}function ur(r){return r.fa||(r.fa=(function(i,a,o){const c=Tt(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kC.bind(null,r),t_:PC.bind(null,r),ta:UC.bind(null,r),na:LC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Xr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Gm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(os("AsyncQueue",`${t}: ${r}`),ul(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Pv{constructor(){this.ga=new de(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class il{constructor(t,i,a,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new il(t,i,$a.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class jC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class BC{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),c=o.queries;o.queries=zv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function zv(){return new Jr((r=>RE(r)),mh)}async function qC(r,t){const i=Tt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new jC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Fm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function HC(r,t){const i=Tt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GC(r,t){const i=Tt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Km(i)}function FC(r,t,i){const a=Tt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Km(r){r.Ca.forEach((t=>{t.next()}))}var um,jv;(jv=um||(um={})).Ma="default",jv.Cache="cache";class KC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new il(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class oT{constructor(t){this.key=t}}class uT{constructor(t){this.key=t}}class QC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=CE(t),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Pv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const V=o.get(b),K=gh(this.query,A)?A:null,et=!!V&&this.mutatedKeys.has(V.key),tt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let st=!1;V&&K?V.data.isEqual(K.data)?et!==tt&&(a.track({type:3,doc:K}),st=!0):this.su(V,K)||(a.track({type:2,doc:K}),st=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(p=!0)):!V&&K?(a.track({type:0,doc:K}),st=!0):V&&!K&&(a.track({type:1,doc:V}),st=!0,(v||y)&&(p=!0)),st&&(K?(d=d.add(K),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(K,et){const tt=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:st})}};return tt(K)-tt(et)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new il(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new uT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new oT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qm="SyncEngine";class YC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class XC{constructor(t){this.key=t,this.hu=!1}}class $C{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>RE(p)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new de(mt.comparator),this.Au=new Map,this.Vu=new Um,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,t,i=!0){const a=gT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await cT(a,t,i,!0),o}async function ZC(r,t){const i=gT(r);await cT(i,t,!0,!1)}async function cT(r,t,i,a){const o=await mC(r.localStore,Oi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await WC(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&nT(r.remoteStore,o),p}async function WC(r,t,i,a,o){r.pu=(A,V,K)=>(async function(tt,st,dt,bt){let yt=st.view.ru(dt);yt.Ss&&(yt=await Ov(tt.localStore,st.query,!1).then((({documents:I})=>st.view.ru(I,yt))));const St=bt&&bt.targetChanges.get(st.targetId),ne=bt&&bt.targetMismatches.get(st.targetId)!=null,Lt=st.view.applyChanges(yt,tt.isPrimaryClient,St,ne);return qv(tt,st.targetId,Lt.au),Lt.snapshot})(r,A,V,K);const c=await Ov(r.localStore,t,!0),d=new QC(t,c.ks),p=d.ru(c.documents),v=qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,v);qv(r,i,y.au);const b=new YC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function tI(r,t,i){const a=Tt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await lm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&jm(a.remoteStore,o.targetId),cm(a,o.targetId)})).catch(ol)):(cm(a,o.targetId),await lm(a.localStore,o.targetId,!0))}async function eI(r,t){const i=Tt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jm(i.remoteStore,a.targetId))}async function nI(r,t,i){const a=uI(r);try{const o=await(function(d,p){const v=Tt(d),y=le.now(),b=p.reduce(((K,et)=>K.add(et.key)),Mt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let et=us(),tt=Mt();return v.xs.getEntries(K,b).next((st=>{et=st,et.forEach(((dt,bt)=>{bt.isValidDocument()||(tt=tt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,et))).next((st=>{A=st;const dt=[];for(const bt of p){const yt=dR(bt,A.get(bt.key).overlayedDocument);yt!=null&&dt.push(new Zr(bt.key,yt,vE(yt.value.mapValue),ss.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,dt,p)})).next((st=>{V=st;const dt=st.applyToLocalDocumentSet(A,tt);return v.documentOverlayCache.saveOverlays(K,st.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:NE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new de(Ot)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Go(a,o.changes),await Th(a.remoteStore)}catch(o){const c=Fm(o,"Failed to persist write");i.reject(c)}}async function hT(r,t){const i=Tt(r);try{const a=await hC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Go(i,a,t)}catch(a){await ol(a)}}function Bv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,A)=>{for(const V of A.ba)V.va(p)&&(y=!0)})),y&&Km(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function iI(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new de(mt.comparator);d=d.insert(c,en.newNoDocument(c,vt.min()));const p=Mt().add(c),v=new _h(vt.min(),new Map,new de(Ot),d,p);await hT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Ym(a)}else await lm(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(ol)}async function sI(r,t){const i=Tt(r),a=t.batch.batchId;try{const o=await cC(i.localStore,t);dT(i,a,null),fT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Go(i,o)}catch(o){await ol(o)}}async function rI(r,t,i){const a=Tt(r);try{const o=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ft(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);dT(a,t,i),fT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Go(a,o)}catch(o){await ol(o)}}function fT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function dT(r,t,i){const a=Tt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||mT(r,a)}))}function mT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(jm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Ym(r))}function qv(r,t,i){for(const a of i)a instanceof oT?(r.Vu.addReference(a.key,t),aI(r,a)):a instanceof uT?(at(Qm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||mT(r,a.key)):pt(19791,{wu:a})}function aI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(at(Qm,"New document in limbo: "+i),r.Eu.add(a),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(ae.fromString(t)),a=r.fu.next();r.Au.set(a,new XC(i)),r.Ru=r.Ru.insert(i,a),nT(r.remoteStore,new Js(Oi(Dm(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Go(r,t,i){const a=Tt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Pm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=Tt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(V=>J.forEach(V.Ts,(K=>b.persistence.referenceDelegate.addReference(A,V.targetId,K))).next((()=>J.forEach(V.Is,(K=>b.persistence.referenceDelegate.removeReference(A,V.targetId,K)))))))))}catch(A){if(!ul(A))throw A;at(zm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const K=b.vs.get(V),et=K.snapshotVersion,tt=K.withLastLimboFreeSnapshotVersion(et);b.vs=b.vs.insert(V,tt)}}})(a.localStore,c))}async function lI(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){at(Qm,"User change. New user:",t.toKey());const a=await ZE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Go(i,a.Ns)}}function oI(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function gT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iI.bind(null,t),t.Pu.J_=GC.bind(null,t.eventManager),t.Pu.yu=FC.bind(null,t.eventManager),t}function uI(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rI.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return uC(this.persistence,new aC,t.initialUser,this.serializer)}Cu(t){return new JE(Lm.Vi,this.serializer)}Du(t){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class cI extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new JE((a=>th.Vi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BC})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=TC(t.databaseInfo);return RC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new IC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Bv(this.syncEngine,i,0)),(function(){return kv.v()?new kv:new yC})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,b){const A=new $C(o,c,d,p,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);at(Xr,"RemoteStore shutting down."),a.Ea.add(5),await Ho(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class hI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class fI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ZE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Hv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await dI(r);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Lv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Lv(t.remoteStore,o))),r._onlineComponents=t}async function dI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Yr("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new nh)}}else at(cr,"Using default OfflineComponentProvider"),await Bd(r,new cI(void 0));return r._offlineComponents}async function pT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await Hv(r,r._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await Hv(r,new hm))),r._onlineComponents}function mI(r){return pT(r).then((t=>t.syncEngine))}async function Gv(r){const t=await pT(r),i=t.eventManager;return i.onListen=JC.bind(null,t.syncEngine),i.onUnlisten=tI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,t.syncEngine),i}function gI(r,t,i,a){const o=new hI(a),c=new KC(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>qC(await Gv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>HC(await Gv(r),c)))}}function pI(r,t){const i=new qr;return r.asyncQueue.enqueueAndForget((async()=>nI(await mI(r),t,i))),i.promise}function yT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const yI="ComponentProvider",Fv=new Map;function _I(r,t,i,a,o){return new k2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,yT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const _T="firestore.googleapis.com",Kv=!0;class Qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=Kv}else this.host=t.host,this.ssl=t.ssl??Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new m2;switch(a.type){case"firstParty":return new _2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Fv.get(i);a&&(at(yI,"Removing Datastore"),Fv.delete(i),a.terminate())})(this),Promise.resolve()}}function vI(r,t,i,a={}){r=bo(r,bh);const o=sl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(m0(`https://${p}`),g0("Firestore",!0)),c.host!==_T&&c.host!==p&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Gr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=tn.MOCK_USER;else{y=Ob(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(A)}r._authCredentials=new g2(new lE(y,b))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jo(i,je._jsonSchema))return new je(t,a||null,new mt(ae.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:xe("string",je._jsonSchemaVersion),referencePath:xe("string")};class ir extends Sh{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new mt(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function Yv(r,t,...i){if(r=Rn(r),oE("collection","path",t),r instanceof bh){const a=ae.fromString(t,...i);return av(a),new ir(r,null,a)}{if(!(r instanceof je||r instanceof ir))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return av(a),new ir(r.firestore,null,a)}}function EI(r,t,...i){if(r=Rn(r),arguments.length===1&&(t=Am.newId()),oE("doc","path",t),r instanceof bh){const a=ae.fromString(t,...i);return rv(a),new je(r,null,new mt(a))}{if(!(r instanceof je||r instanceof ir))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return rv(a),new je(r.firestore,r instanceof ir?r.converter:null,new mt(a))}}const Xv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&at(Xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;at(Xv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",Jv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Gm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Jv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class ih extends bh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new $v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function TI(r,t){const i=typeof r=="object"?r:v0(),a=typeof r=="string"?r:Qc,o=gm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=xb("firestore");c&&vI(o,...c)}return o}function vT(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=_I(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Je.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:xe("string",qn._jsonSchemaVersion),bytes:xe("string")};class ET{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class TT{constructor(t){this._methodName=t}}class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(jo(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:xe("string",Vi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ri(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:xe("string",ri._jsonSchemaVersion),vectorValues:xe("object")};const SI=/^__.*__$/;class AI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Zr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(t,this.data,i,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class Xm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(bT(this.dataSource)&&SI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}createContext(t,i,a,o=!1){return new Xm({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RI(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function CI(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);RT("Data must be an object, but it was:",d,a);const p=AT(a,d);let v,y;if(c.merge)v=new si(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=$m(t,A,i);if(!d.contains(V))throw new ut(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);xI(b,V)||b.push(V)}v=new si(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new AI(new Bn(p),v,y)}function ST(r,t){if(wT(r=Rn(r)))return RT("Unsupported field value:",t,r),AT(r,t);if(r instanceof TT)return(function(a,o){if(!bT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=ST(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:Wc(o.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,c)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:qE(o.serializer,a._byteString)};if(a instanceof je){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const v=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[yE]:{stringValue:_E},[Yc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Om(p.serializer,b)}))}}}}}})(a,o);if(XE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wm(a)}`)})(r,t)}function AT(r,t){const i={};return hE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(r,((a,o)=>{const c=ST(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function wT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Vi||r instanceof qn||r instanceof je||r instanceof TT||r instanceof ri||XE(r))}function RT(r,t,i){if(!wT(i)||!uE(i)){const a=wm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function $m(r,t,i){if((t=Rn(t))instanceof ET)return t._internalPath;if(typeof t=="string")return NI(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const II=new RegExp("[~\\*/\\[\\]]");function NI(r,t,i){if(t.search(II)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ET(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ut(Z.INVALID_ARGUMENT,p+r+v)}function xI(r,t){return r.some((i=>i.isEqual(t)))}class DI{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new ri(i)}convertGeoPoint(t){return new Vi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=ar(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ae.fromString(t);Ft(YE(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class CT extends DI{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}const Zv="@firebase/firestore",Wv="4.11.0";function t0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class IT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field($m("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OI extends IT{data(){return super.data()}}function MI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hr extends IT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($m("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:xe("string",Hr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Uc extends Hr{data(t={}){return super.data(t)}}class Ja{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:kI(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:xe("string",Ja._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};function UI(r,t){const i=bo(r.firestore,ih),a=EI(r),o=VI(r.converter,t),c=RI(r.firestore);return PI(i,[CI(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ss.exists(!1))]).then((()=>a))}function LI(r,...t){r=Rn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||t0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof je)d=bo(r.firestore,ih),p=Dm(r._key.path),c={next:y=>{t[a]&&t[a](zI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=bo(r,Sh);d=bo(y.firestore,ih),p=y._query;const b=new CT(d);c={next:A=>{t[a]&&t[a](new Ja(d,b,y,A))},error:t[a+1],complete:t[a+2]},MI(r._query)}const v=vT(d);return gI(v,p,o,c)}function PI(r,t){const i=vT(r);return pI(i,t)}function zI(r,t,i){const a=i.docs.get(t._key),o=new CT(r);return new Hr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){d2(rl),Za(new Fr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ih(new p2(a.getProvider("auth-internal")),new v2(d,a.getProvider("app-check-internal")),U2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),tr(Zv,Wv,t),tr(Zv,Wv,"esm2020")})();const NT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const jI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const BI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const e0=r=>{const t=BI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const GI=he.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>he.createElement("svg",{ref:v,...qI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:NT("lucide",o),...!c&&!HI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>he.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Be=(r,t)=>{const i=he.forwardRef(({className:a,...o},c)=>he.createElement(GI,{ref:c,iconNode:t,className:NT(`lucide-${jI(e0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=e0(r),i};const FI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],KI=Be("book-open",FI);const QI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YI=Be("calendar",QI);const XI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$I=Be("check",XI);const JI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n0=Be("chevron-left",JI);const ZI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WI=Be("chevron-right",ZI);const tN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xT=Be("circle-check-big",tN);const eN=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],nN=Be("eraser",eN);const iN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],sN=Be("heart",iN);const rN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aN=Be("history",rN);const lN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],oN=Be("pen-tool",lN);const uN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],i0=Be("pencil",uN);const cN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hN=Be("rotate-ccw",cN);const fN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],dN=Be("school",fN);const mN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gN=Be("sparkles",mN);const pN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yN=Be("sun",pN);const _N=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vN=Be("trophy",_N);const EN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Lc=Be("volume-2",EN);const TN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DT=Be("x",TN),OT=JSON.parse('{"apiKey":"dummy-api-key","authDomain":"dummy-auth-domain","projectId":"dummy-project-id","storageBucket":"dummy-storage-bucket","messagingSenderId":"dummy-sender-id","appId":"dummy-app-id"}'),Rc=OT.apiKey==="dummy-api-key",MT=_0(OT),s0=r2(MT),r0=TI(MT),a0="school-diary-app",bN="",SN="AIzaSyDuPM6UgnYEkCtfUJdXa1zZTTBnsa_CHLY",Pe=[{id:"when",label:"",suggestions:[{label:"",icon:q.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:q.jsx(yN,{className:"text-orange-500",size:40})})},{label:"",icon:q.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2.2rem] flex items-center justify-center mb-2 shadow-sm border border-slate-100/50",children:q.jsx("div",{className:"text-blue-400 text-4xl",children:""})})}]},{id:"what",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"what_detail",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"friend_names",label:" ",subLabel:"4 ",suggestions:[{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""},{label:""}]},{id:"who",label:" ",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]},{id:"feeling",label:"",suggestions:[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]}],Ks={:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:" ",text:" "},{label:"",text:" "},{label:"",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:"  "},{label:"",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:" "},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:" ",text:" "},{label:"",text:""},{label:"",text:""},{label:"",text:""},{label:"",text:""}]},{id:"feeling",question:"",options:[{label:"",text:""},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "},{label:"",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "},{label:"  ",text:"  "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:" ",options:[{label:"",text:""},{label:"",text:""},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:" "},{label:"",text:""}]}]},:{steps:[{id:"what_detail",question:"",options:[{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "},{label:" ",text:" "}]},{id:"feeling",question:"",options:[{label:"",text:" "},{label:"",text:""},{label:"",text:""}]}]}},AN=({text:r,onCancel:t,onSpeak:i,onSave:a})=>{const o=he.useRef(null),[c,d]=he.useState(!1);he.useEffect(()=>{const K=o.current;if(!K)return;const et=K.getContext("2d"),tt=()=>{const st=K.parentElement.getBoundingClientRect();K.width=st.width,K.height=st.height,et.lineCap="round",et.lineWidth=6,et.strokeStyle="#2563eb"};return window.addEventListener("resize",tt),tt(),()=>window.removeEventListener("resize",tt)},[]);const p=K=>{const tt=o.current.getBoundingClientRect(),st=K.touches?K.touches[0].clientX:K.clientX,dt=K.touches?K.touches[0].clientY:K.clientY;return{x:st-tt.left,y:dt-tt.top}},v=K=>{d(!0);const et=p(K),tt=o.current.getContext("2d");tt.beginPath(),tt.moveTo(et.x,et.y)},y=K=>{if(!c)return;const et=p(K),tt=o.current.getContext("2d");tt.lineTo(et.x,et.y),tt.stroke()},b=()=>d(!1),A=()=>{o.current.getContext("2d").clearRect(0,0,o.current.width,o.current.height)},V=()=>{const K=o.current.toDataURL("image/png");a(K)};return q.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-50 flex flex-col animate-in fade-in duration-300 overflow-hidden",children:[q.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-white border-b border-slate-100 shadow-sm",children:[q.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full flex items-center justify-center text-slate-300 active:scale-90",children:q.jsx(DT,{size:32})}),q.jsx("h2",{className:"text-xl font-black text-slate-800",children:""}),q.jsx("button",{onClick:i,className:"w-12 h-12 bg-blue-600 rounded-full shadow-lg flex items-center justify-center text-white active:scale-90",children:q.jsx(Lc,{size:24})})]}),q.jsx("div",{className:"flex-1 p-4 md:p-8 flex justify-center items-center",children:q.jsxs("div",{className:"w-full h-full max-w-5xl bg-white rounded-[2.5rem] shadow-xl border-[6px] border-blue-50 relative overflow-hidden flex flex-row-reverse p-10",children:[q.jsx("div",{className:"absolute inset-0 p-10 flex flex-row-reverse justify-start select-none pointer-events-none z-0",style:{writingMode:"vertical-rl",textOrientation:"upright"},children:q.jsx("p",{className:"text-[5.2vh] font-black text-slate-100 leading-[1.9] tracking-[0.18em] whitespace-pre-wrap",children:r})}),q.jsx("canvas",{ref:o,onMouseDown:v,onMouseMove:y,onMouseUp:b,onMouseLeave:b,onTouchStart:v,onTouchMove:y,onTouchEnd:b,className:"absolute inset-0 w-full h-full touch-none cursor-crosshair z-10"}),q.jsx("div",{className:"absolute inset-4 border-2 border-dashed border-blue-100 rounded-[2rem] pointer-events-none opacity-40 z-0"})]})}),q.jsxs("div",{className:"bg-white px-8 py-6 border-t border-slate-100 flex gap-4",children:[q.jsxs("button",{onClick:A,className:"flex-1 h-16 bg-slate-50 text-slate-400 rounded-2xl font-black text-lg flex items-center justify-center gap-3 active:scale-95",children:[q.jsx(nN,{size:24})," "]}),q.jsxs("button",{onClick:V,className:"flex-1 h-16 bg-blue-600 text-white rounded-2xl font-black text-xl flex items-center justify-center gap-3 active:scale-95 shadow-lg shadow-blue-200",children:[q.jsx(xT,{size:24})," "]})]})]})},wN=({className:r})=>q.jsx("div",{className:`${r} rotate-[12deg] origin-center w-max select-none pointer-events-none`,children:q.jsx("div",{className:"inline-flex items-center justify-center px-4 py-1.5 rounded-full border-[3px] border-rose-500 bg-white shadow-sm",children:q.jsx("span",{className:"text-rose-500 font-black text-sm tracking-[0.1em] whitespace-nowrap",children:""})})});function RN(){const[r,t]=he.useState(null),[i,a]=he.useState("home"),[o,c]=he.useState(0),[d,p]=he.useState({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),[v,y]=he.useState(!1),[b,A]=he.useState(""),[V,K]=he.useState(null),[et,tt]=he.useState(""),[st,dt]=he.useState([]),[bt,yt]=he.useState(!1),St=he.useRef(null);he.useEffect(()=>((window.AudioContext||window.webkitAudioContext)&&(St.current=new AudioContext),()=>{St.current&&St.current.state!=="closed"&&St.current.close()}),[]),he.useEffect(()=>{const N=()=>speechSynthesis.getVoices();return speechSynthesis.onvoiceschanged=N,N(),()=>{speechSynthesis.onvoiceschanged=null}},[]);const ne=async()=>{if(St.current)try{const N=St.current;N.state==="suspended"&&(await N.resume(),console.log("AudioContext resumed by user interaction"));const j=N.createBuffer(1,1,22050),F=N.createBufferSource();F.buffer=j,F.connect(N.destination),F.start(0)}catch(N){console.error("Audio unlock failed",N)}},Lt=()=>{const N=speechSynthesis.getVoices();return N.find(j=>j.lang==="ja-JP"&&j.name.includes("Google"))||N.find(j=>j.lang==="ja-JP"&&j.name.includes("Kyoko"))||N.find(j=>j.lang==="ja-JP"&&j.name.includes("O-Ren"))||N.find(j=>j.lang==="ja-JP")},I=()=>{fe(b)},S=new Date,C=`${S.getMonth()+1} ${S.getDate()}`,M=["","","","","","",""][S.getDay()];he.useEffect(()=>{console.log("Neural2 Key Present:",!0),(async()=>await qA(s0))();const j=YA(s0,t);return()=>j()},[]),he.useEffect(()=>{if(r)if(Rc){const N=()=>{const j=localStorage.getItem("school_diary_entries");if(j)try{const F=JSON.parse(j);dt(F.sort((W,rt)=>rt.timestamp-W.timestamp))}catch(F){console.error("Failed to parse local entries",F)}};return N(),window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)}else{const N=Yv(r0,"artifacts",a0,"users",r.uid,"diary_entries"),j=LI(N,F=>{const W=F.docs.map(rt=>({id:rt.id,...rt.data()}));dt(W.sort((rt,ht)=>ht.timestamp-rt.timestamp))},F=>console.error("Firestore Error:",F));return()=>j()}},[r]);const x=d.what&&Ks[d.what],U=N=>{const{when:j,what:F,what_detail:W,friend_names:rt,who:ht,feeling:zt}=N;let kt=j;if(Ks[F]){const pn=Ks[F],hs=pn.steps[0].options.find(Kt=>Kt.label===W),ai=pn.steps[1].options.find(Kt=>Kt.label===zt),li=hs?hs.text:W;let Hn=ai?ai.text:zt;if(F===""&&W===" "&&zt===""&&(Hn=" "),F==="")return`${j} ${F}${li} ${Hn}`;if(F===""){let Kt=li;return Kt.includes("")||(Kt=`${Kt} `),`${j}  ${Kt} ${Hn}`}else return F===""?`${j}${li} ${Hn}`:`${j} ${F} ${li} ${Hn}`}let te="";F===""?te="":F===""?te="":F===""?te=" ":F===""?te=" ":te=`${F} `;let sn="";rt&&rt.length>0?sn=rt.join("")+" ":ht&&ht!==""&&(sn=ht+" ");let oe="";W?W===""||W===""?oe="":W.endsWith("")?oe=W.replace(""," "):oe=`${W} `:F===""||F===""?oe=" ":F===""?oe=" ":F===""?oe=" ":F===""?oe=" ":F===""?oe=" ":F===""?oe=" ":F===""?oe="":oe="";let Cn="";return zt===""?Cn=" ":zt===""?Cn=" ":zt===""?Cn=" ":zt===""&&(Cn=" "),`${kt}${te}${sn}${oe} ${Cn}`},w=async N=>{y(!0),tt(" ...");const j=N||d;try{if(Rc){await new Promise(W=>setTimeout(W,800));const F=U(j);A(F),a("result")}else{let F=j.what;j.what===""&&j.what_detail&&(F=j.what_detail);let W=j.who;j.friend_names?.length>0&&(W=j.friend_names.join(""));const rt="11",ht=`=${j.when}=${j.what}=${F}=${W}=${j.feeling}`,te=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${bN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:ht}]}],systemInstruction:{parts:[{text:rt}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||U(j);A(te),a("result")}}catch(F){console.error(F),A(U(j)),a("result")}finally{y(!1),tt("")}},ie=async N=>{if(!St.current)return;const j=St.current;try{j.state==="suspended"&&await j.resume();const F=window.atob(N),W=F.length,rt=new Uint8Array(W);for(let te=0;te<W;te++)rt[te]=F.charCodeAt(te);const ht=rt.buffer,zt=await j.decodeAudioData(ht),kt=j.createBufferSource();kt.buffer=zt,kt.connect(j.destination),kt.onended=()=>{y(!1),tt("")},kt.start(0)}catch(F){console.error("Web Audio API Error:",F),alert(`Audio Error: ${F.message}`),y(!1)}},fe=async N=>{const j=N||b;if(!j)return;if(y(!0),St.current)try{const W=St.current;W.state==="suspended"&&await W.resume();const rt=W.createBuffer(1,1,22050),ht=W.createBufferSource();ht.buffer=rt,ht.connect(W.destination),ht.start(0)}catch(W){console.warn("Audio unlock failed",W)}const F=W=>{tt(" ...");const rt=new SpeechSynthesisUtterance(W);rt.lang="ja-JP",rt.rate=.9,rt.pitch=1;const ht=Lt();ht&&(rt.voice=ht),window.speechSynthesis.speak(rt),y(!1),setTimeout(()=>tt(""),2e3)};try{tt("Neural2  ...");const W=await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${SN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:j},voice:{languageCode:"ja-JP",name:"ja-JP-Neural2-B"},audioConfig:{audioEncoding:"MP3",speakingRate:.85,pitch:2}})});if(!W.ok)throw new Error("Google Cloud TTS API response was not ok");const rt=await W.json();if(rt.audioContent){await ie(rt.audioContent);return}else throw new Error("No audio content in response")}catch(W){alert(`Audio Error (GC): ${W.message}`),console.error("Google Cloud TTS Error, falling back:",W)}{console.warn("No API Key found, using browser TTS."),F(j);return}},Q=async()=>{if(!(!r&&!Rc)){y(!0),tt(" ...");try{if(Rc){const N={id:f2(),date:C,timestamp:Date.now(),text:b,handwriting:V},j=JSON.parse(localStorage.getItem("school_diary_entries")||"[]"),F=[N,...j];localStorage.setItem("school_diary_entries",JSON.stringify(F)),dt(F.sort((W,rt)=>rt.timestamp-W.timestamp))}else await UI(Yv(r0,"artifacts",a0,"users",r.uid,"diary_entries"),{date:C,timestamp:Date.now(),text:b,handwriting:V});a("home"),K(null)}catch(N){console.error(N)}finally{y(!1)}}},nt=N=>Pe.findIndex(j=>j.id===N),ct=N=>["","","","",""].includes(N),Vt=N=>{const j=d.friend_names||[];j.includes(N)?p({...d,friend_names:j.filter(F=>F!==N)}):j.length<4&&p({...d,friend_names:[...j,N]})},qt=()=>{if(d.what&&Ks[d.what]){const N=Ks[d.what].steps;return[Pe[0],Pe[1],...N]}return Pe},O=(N,j)=>{const F={...d,[N]:j};if(p(F),Ks[F.what]){const W=qt();W.findIndex(ht=>ht.id===N)<W.length-1&&(N==="when"?c(1):N==="what"?c(2):N==="what_detail"?c(3):N==="feeling"&&w(F));return}ne(),N==="when"?c(nt("what")):N==="what"?c(nt(j===""?"what_detail":"who")):N==="what_detail"?ct(j)?c(nt("friend_names")):c(nt("who")):N==="who"?c(nt("feeling")):N==="feeling"&&w(F)};return q.jsxs("div",{className:"min-h-[100dvh] bg-[#FDFCFB] text-slate-900 font-sans antialiased overflow-x-hidden touch-manipulation",style:{paddingBottom:"calc(8rem + env(safe-area-inset-bottom))"},children:[bt&&q.jsx(AN,{text:b,onCancel:()=>yt(!1),onSpeak:I,onSave:N=>{K(N),yt(!1)}}),q.jsxs("nav",{className:"sticky top-0 z-20 bg-white/90 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center shadow-sm",children:[q.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a("home"),children:[q.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-[1.2rem] flex items-center justify-center text-white shadow-lg",children:q.jsx(dN,{size:24})}),q.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:""})]}),i!=="home"&&q.jsx("button",{onClick:()=>a("home"),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 active:scale-90",children:q.jsx(DT,{size:18})})]}),q.jsxs("main",{className:"max-w-xl mx-auto px-4 mt-2",children:[i==="home"&&q.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-500",children:[q.jsxs("div",{className:"bg-white rounded-[2.8rem] p-8 shadow-xl shadow-slate-200/40 border border-slate-50 flex flex-col items-center text-center relative overflow-hidden",children:[q.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 bg-orange-50 px-3 py-1 rounded-full text-orange-600 font-bold text-xs",children:[q.jsx(vN,{size:14}),q.jsxs("span",{children:["x ",st.length]})]}),q.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-500 rounded-2xl flex items-center justify-center mb-3",children:q.jsx(YI,{size:32})}),q.jsx("p",{className:"text-slate-400 font-bold text-sm mb-1",children:M}),q.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-6 tracking-tight",children:C}),q.jsxs("button",{onClick:()=>{ne(),p({when:"",what:"",what_detail:"",friend_names:[],who:"",feeling:""}),c(0),K(null),a("step")},className:"w-full bg-orange-500 text-white rounded-[1.8rem] py-6 flex items-center justify-center gap-4 shadow-xl shadow-orange-200 active:scale-[0.98] transition-all",children:[q.jsx(oN,{size:24}),q.jsx("span",{className:"text-xl font-black",children:" "})]})]}),q.jsx("div",{className:"flex justify-center",children:q.jsxs("button",{onClick:async()=>{if(await ne(),St.current){const N=St.current,j=N.createOscillator(),F=N.createGain();j.type="sine",j.frequency.setValueAtTime(440,N.currentTime),F.gain.setValueAtTime(.1,N.currentTime),j.connect(F),F.connect(N.destination),j.start(),j.stop(N.currentTime+.2),alert(`Sound Test: ${N.state}`)}else alert("No AudioContext")},className:"text-lg bg-blue-600 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg font-bold my-4",children:[q.jsx(Lc,{size:20})," "]})}),q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{className:"flex justify-between items-center px-2",children:[q.jsxs("h3",{className:"font-black text-slate-400 text-xs tracking-widest uppercase flex items-center gap-2",children:[q.jsx(aN,{size:14})," "]}),q.jsx("button",{onClick:()=>a("history"),className:"text-blue-500 text-sm font-bold",children:""})]}),q.jsxs("div",{className:"grid grid-cols-1 gap-4 pb-10",children:[st.slice(0,1).map(N=>q.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex flex-col gap-4",children:[q.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:N.text}),N.handwriting&&q.jsx("div",{className:"bg-slate-50 rounded-2xl p-2 border border-slate-100 shadow-inner",children:q.jsx("img",{src:N.handwriting,className:"w-full h-auto object-contain max-h-32"})})]},N.id)),st.length===0&&q.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-12 border-2 border-dashed border-slate-100 flex flex-col items-center gap-4 opacity-40",children:[q.jsx(KI,{size:48,className:"text-slate-200"}),q.jsxs("p",{className:"text-sm font-bold text-slate-400 text-center",children:["  ",q.jsx("br",{})," "]})]})]})]})]}),i==="step"&&q.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[q.jsxs("div",{className:"flex justify-between items-center px-2",children:[x?q.jsx("div",{className:"flex flex-col",children:q.jsxs("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:[" ",Math.max(0,4-o),""]})}):q.jsx("div",{className:"flex flex-col",children:q.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tighter",children:Pe[o].id==="friend_names"?`${d.friend_names?.length||0} `:` ${Pe.length-o}`})}),q.jsx("div",{className:"flex gap-1.5",children:x?[0,1,2,3].map(N=>q.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${N<=o?"bg-orange-500":"bg-slate-200"}`},N)):Pe.map((N,j)=>N.id==="what_detail"&&d.what!==""||N.id==="friend_names"&&!ct(d.what_detail)||N.id==="who"&&d.friend_names?.length>0?null:q.jsx("div",{className:`h-1.5 w-6 rounded-full transition-all duration-300 ${j<=o?"bg-orange-500":"bg-slate-200"}`},j))})]}),q.jsx("div",{className:"bg-white rounded-3xl px-5 py-4 shadow-xl border border-slate-50 min-h-[50dvh] flex flex-col",children:x&&o>=2?(()=>{const j=Ks[d.what].steps[o-2];return j?q.jsxs("div",{className:"flex flex-col h-full",children:[q.jsx("h2",{className:"text-xl font-black mb-4 text-slate-800 tracking-tight",children:j.question}),q.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-1 gap-2 content-start",children:j.options.map(F=>q.jsx("button",{onClick:()=>O(j.id,F.label),className:`
                                                            p-4 text-lg font-bold rounded-xl transition-all shadow-sm border-2 text-left
                                                            ${d[j.id]===F.label?"bg-blue-100 border-blue-500 text-blue-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-blue-300"}
                                                        `,children:F.label},F.label))}),q.jsx("div",{className:"mt-2 p-3 bg-orange-50/50 rounded-xl border-2 border-dashed border-orange-100 min-h-0 flex items-center justify-center",children:q.jsx("p",{className:"text-base text-slate-700 font-bold text-center leading-relaxed",children:(()=>{const F=d.what_detail||"_____",W=Ks[d.what],rt=W.steps[0].options.find(oe=>oe.label===F),ht=W.steps[1].options.find(oe=>oe.label===(d.feeling||"")),zt=rt?rt.text:"_____";let kt=ht?ht.text:"";d.what===""&&d.what_detail===" "&&d.feeling===""&&(kt=" ");let te=`${d.when} ${d.what} `;d.what===""?te=`${d.when} ${d.what}`:d.what===""?te=`${d.when}${d.what}  `:d.what===""?te=`${d.when}`:te=`${d.when} ${d.what} `;let sn=zt;return d.what===""&&!sn.includes("")&&(sn=`${sn} `),q.jsxs(q.Fragment,{children:[te,sn," ",kt]})})()})})]}):null})():q.jsxs(q.Fragment,{children:[q.jsx("h2",{className:"text-xl font-black mb-4 text-slate-800 tracking-tight",children:Pe[o].label}),q.jsx("div",{className:"flex-1 overflow-y-auto pr-2 pb-4 scrollbar-hide",children:q.jsx("div",{className:`grid gap-3 ${Pe[o].id==="when"?"grid-cols-1":"grid-cols-2"}`,children:Pe[o].suggestions.map(N=>{const j=Pe[o].id==="friend_names"?d.friend_names?.includes(N.label):d[Pe[o].id]===N.label;return q.jsxs("button",{onClick:()=>Pe[o].id==="friend_names"?Vt(N.label):O(Pe[o].id,N.label),className:`rounded-xl flex flex-col items-center justify-center gap-1 transition-all border-2 ${j?"bg-blue-50 border-blue-400 ring-4 ring-blue-50 text-blue-600":"bg-white border-slate-50 text-slate-600 hover:border-slate-100"} ${Pe[o].id==="when"?"py-4":"p-3 shadow-sm"}`,children:[j&&Pe[o].id==="friend_names"&&q.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-md",children:q.jsx($I,{size:14,strokeWidth:4})}),N.icon&&q.jsx("div",{children:typeof N.icon=="string"?q.jsx("span",{className:"text-3xl",children:N.icon}):N.icon}),q.jsx("span",{className:`${Pe[o].id==="when"?"text-xl":"text-sm"} font-bold`,children:N.label})]},N.label)})})})]})}),q.jsxs("div",{className:"flex gap-4",children:[q.jsx("button",{onClick:()=>{o===nt("friend_names")?c(nt("what_detail")):o>0&&c(o-1)},className:"h-14 w-14 bg-white rounded-2xl flex items-center justify-center text-slate-300 border border-slate-100 active:scale-95 shadow-sm",children:q.jsx(n0,{size:28})}),(x&&o===2||Pe[o].id==="friend_names")&&q.jsxs("button",{onClick:()=>{x?w(d):c(nt("feeling"))},disabled:x?!d.feeling:d.friend_names?.length===0,className:`h-14 flex-1 rounded-2xl font-black text-lg flex items-center justify-center gap-3 shadow-xl ${(x?d.feeling:d.friend_names?.length>0)?"bg-blue-600 text-white shadow-blue-200":"bg-slate-200 text-white cursor-not-allowed"}`,children:["OK",q.jsx(WI,{size:24})]})]})]}),i==="result"&&q.jsxs("div",{className:"space-y-6 animate-in zoom-in-95 duration-700",children:[q.jsx("div",{className:"bg-white rounded-[3.2rem] shadow-2xl border border-slate-50 overflow-hidden relative",children:q.jsxs("div",{className:"p-10 relative",children:[q.jsx(wN,{className:"absolute top-8 right-8 z-10 animate-in zoom-in-50 spin-in-6 duration-1000 ease-out fill-mode-backwards"}),q.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-black text-[10px] uppercase mb-8 tracking-[0.2em]",children:[q.jsx(sN,{size:12,fill:"currentColor"})," "]}),q.jsxs("div",{className:"flex flex-col gap-8",children:[q.jsx("div",{className:"bg-white p-8 rounded-[2rem] border-l-[10px] border-blue-500 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.05)] relative overflow-hidden",children:q.jsx("p",{className:"text-[28px] font-black leading-[1.65] text-slate-800 tracking-tight",children:b})}),V&&q.jsxs("div",{className:"bg-white px-6 py-5 rounded-[2.2rem] border-2 border-dashed border-blue-100/60 shadow-sm relative animate-in fade-in slide-in-from-bottom-2",children:[q.jsxs("div",{className:"absolute -top-3 left-6 bg-white px-3 py-1 rounded-full border border-blue-100 flex items-center gap-1",children:[q.jsx(i0,{size:10,className:"text-blue-400"}),q.jsx("span",{className:"text-[9px] font-black text-blue-400 uppercase tracking-widest font-sans",children:" "})]}),q.jsx("div",{className:"bg-white flex justify-center py-2",children:q.jsx("img",{src:V,alt:"User handwriting",className:"w-full h-auto max-h-48 object-contain px-4"})})]})]}),q.jsxs("div",{className:"mt-12 flex items-center gap-4",children:[q.jsxs("button",{onClick:()=>yt(!0),className:"flex-1 h-16 bg-slate-100 text-slate-500 rounded-2xl flex items-center justify-center gap-3 font-black active:scale-95 border border-slate-100 hover:bg-slate-100 transition-colors",children:[q.jsx(i0,{size:20,className:"text-blue-500"}),q.jsx("span",{className:"text-sm",children:V?"":""})]}),q.jsx("button",{onClick:()=>fe(),className:"h-16 w-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-xl shadow-blue-200 active:scale-90 transition-all",children:q.jsx(Lc,{size:30})})]})]})}),q.jsxs("button",{onClick:Q,className:"w-full h-20 bg-slate-900 text-white rounded-[2rem] font-black text-xl shadow-2xl flex items-center justify-center gap-3 active:scale-[0.98] mt-2 border-b-4 border-black",children:[" ",q.jsx(xT,{size:24,className:"text-green-400"})]})]}),i==="history"&&q.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[q.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[q.jsx("button",{onClick:()=>a("home"),className:"p-2 -ml-2 text-slate-400 active:scale-90",children:q.jsx(n0,{size:32})}),q.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tighter",children:""})]}),q.jsx("div",{className:"space-y-6",children:st.map(N=>q.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-md border border-slate-50 space-y-6 relative",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-[10px] font-bold text-slate-200 mb-2 tracking-[0.15em] uppercase",children:N.date}),q.jsx("p",{className:"text-xl font-black text-slate-800 leading-relaxed tracking-tight",children:N.text})]}),N.handwriting&&q.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-2xl shadow-inner border border-slate-100 flex flex-col gap-2",children:[q.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest px-1 font-sans",children:"Handwriting"}),q.jsx("img",{src:N.handwriting,className:"w-full h-auto max-h-32 object-contain px-4"})]}),q.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-50",children:[q.jsx("button",{onClick:()=>{A(N.text),a("result"),K(N.handwriting)},className:"w-12 h-12 bg-slate-50 text-blue-500 rounded-full flex items-center justify-center shadow-sm active:scale-90",children:q.jsx(hN,{size:20})}),q.jsx("button",{onClick:()=>fe(N.text),className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center shadow-sm active:scale-90",children:q.jsx(Lc,{size:24})})]})]},N.id))})]})]}),v&&q.jsx("div",{className:"fixed inset-0 z-50 bg-white/80 backdrop-blur-xl flex items-center justify-center animate-in fade-in duration-300",children:q.jsxs("div",{className:"flex flex-col items-center gap-8 text-center px-10",children:[q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:"w-24 h-24 border-8 border-slate-100 rounded-full border-t-orange-500 animate-spin shadow-inner"}),q.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-orange-500",children:q.jsx(gN,{size:32,fill:"currentColor"})})]}),q.jsx("p",{className:"text-2xl font-black text-slate-700 tracking-tighter animate-pulse",children:et})]})})]})}Tb.createRoot(document.getElementById("root")).render(q.jsx(db.StrictMode,{children:q.jsx(RN,{})}));
